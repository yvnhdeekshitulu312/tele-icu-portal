<app-generic-close *ngIf="readonly" [title]="'noname'"></app-generic-close>
<div class="card card-style-1 h-100">
    <div class="card-header justify-content-between" style="height: 45px;min-height:45px">
        <div class="d-flex gap-2">
            <h2 class="card-heading d-flex align-items-center"> {{langData?.casesheet?.advice}} </h2>            
        <ul class="nav nav-pills style-1 advice_assessments gap-1 align-self-end" style="height: 30px;" id="" role="tablist">
            <section *ngFor="let asmnt of savedSpecialisationAssessmentsList; let i = index">
            <li class="nav-item h-100" role="presentation" *ngIf="i < 6">
                <button [class.active]="obgyneFormType === asmnt.name" class="nav-link text-nowrap px-2 py-1 fs-8" data-bs-toggle="pill"
                    [attr.data-bs-target]="getdatabstarget(asmnt.ClinicalTemplateID)" type="button" role="tab"
                     aria-selected="false"
                    (click)="openPrenatalForm(asmnt.name)">    
                    {{asmnt.screenname}}
                </button>
            </li>
        </section>           
        </ul>
        <div class="pills_toggle advice_pills_toggle position-relative" *ngIf="savedSpecialisationAssessmentsList.length > 6"
            (click)="showHideAsmntsFormsTabs()">
            <div class="pe-2 text-center" data-bs-toggle="dropdown">
                <svg class="cursor-pointer" width="4" height="14" viewBox="0 0 4 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="1.99994" cy="1.96503" r="1.51752" fill="#5C5C5C"/>
                    <circle cx="1.99994" cy="7.00006" r="1.51752" fill="#5C5C5C"/>
                    <circle cx="1.99994" cy="12.0351" r="1.51752" fill="#5C5C5C"/>
                </svg>
                <p class="fs-8 text-nowrap">View More</p>               
            </div>

            <!-- <div class="advice_assessments_tooltip" *ngIf="showHideFormTabs"> -->
            <div class="advice_assessments_tooltip dropdown-menu" style="width: 20rem;">
                <ul class="nav nav-pills flex-column border-0">
                    <section *ngFor="let asmnt of savedSpecialisationAssessmentsList; let i = index">
                        <li class="nav-item mb-1" role="presentation" *ngIf="i >= 6">
                            <button [class.active]="obgyneFormType === asmnt.name" class="nav-link text-nowrap px-2 py-1 fs-8" data-bs-toggle="pill"
                                [attr.data-bs-target]="getdatabstarget(asmnt.ClinicalTemplateID)" type="button" role="tab"
                                 aria-selected="false"
                                (click)="openPrenatalForm(asmnt.name)">    
                                {{asmnt.screenname}}
                            </button>
                        </li>                       
                    </section>
                    <li class="nav-item" role="presentation">
                        <button [class.active]="obgyneFormType === 'summary'" class="nav-link text-nowrap px-2 py-1 fs-8" data-bs-toggle="pill"
                            type="button" role="tab"
                            aria-selected="false"
                            (click)="openPrenatalForm('summary')">    
                            Discharge Summary
                        </button>
                    </li>
                    
                    <!-- <li class="nav-item" role="presentation" *ngIf="showAssessment(60)">
                        <button [class.active]="obgyneFormType === 'generalconsent'" class="nav-link text-nowrap px-2 py-1 fs-8" data-bs-toggle="pill"
                            data-bs-target="#generalConsent" type="button" role="tab"
                            aria-controls="generalConsent" aria-selected="false"
                            (click)="openPrenatalForm('generalconsent')">
                            General Consent
                        </button>
                    </li>
                    <li class="nav-item" role="presentation" *ngIf="showAssessment(76)">
                        <button [class.active]="obgyneFormType === 'medicalconsent'" class="dropdown-item nav-link px-2 py-1 fs-8" data-bs-toggle="pill"
                            data-bs-target="#medicalConsent" type="button" role="tab"
                            aria-controls="medicalConsent" aria-selected="false"
                            (click)="openPrenatalForm('medicalconsent')">
                            Medical Informed Consent
                        </button>
                    </li>
                    <li class="nav-item" role="presentation" *ngIf="showAssessment(2)">
                        <button [class.active]="obgyneFormType === 'medicalassessment'"  id="medical-assesment-btn" class="dropdown-item nav-link px-2 py-1 fs-8" data-bs-toggle="pill"
                            data-bs-target="#medicalassessment" type="button" role="tab"
                            aria-controls="medicalassessment" aria-selected="false"
                            (click)="openPrenatalForm('medicalassessment')">
                            Medical Assessment
                        </button>
                    </li>
                    <li class="nav-item" role="presentation" *ngIf="showAssessment(6)">
                        <button [class.active]="obgyneFormType === 'medicalobsteric'" class="dropdown-item nav-link px-2 py-1 fs-8" data-bs-toggle="pill"
                            data-bs-target="#medicalobsteric" type="button" role="tab"
                            aria-controls="medicalobsteric" aria-selected="false"
                            (click)="openPrenatalForm('medicalobsteric')">
                            Medical Assessment Obstetric
                        </button>
                    </li>
                    <li class="nav-item" role="presentation" *ngIf="showAssessment(7)">
                        <button [class.active]="obgyneFormType === 'medicalpedia'" class="dropdown-item nav-link px-2 py-1 fs-8" data-bs-toggle="pill"
                            data-bs-target="#medicalpedia" type="button" role="tab"
                            aria-controls="medicalpedia" aria-selected="false"
                            (click)="openPrenatalForm('medicalpedia')">
                            Medical Assessment Pedia
                        </button>
                    </li>
                    <li class="nav-item" role="presentation" *ngIf="showAssessment(8)">
                        <button [class.active]="obgyneFormType === 'medicalsurgical'" class="dropdown-item nav-link px-2 py-1 fs-8" data-bs-toggle="pill"
                            data-bs-target="#medicalsurgical" type="button" role="tab"
                            aria-controls="medicalsurgical" aria-selected="false"
                            (click)="openPrenatalForm('medicalsurgical')">
                            Medical Assessment Surgical
                        </button>
                    </li> -->
                </ul>
            </div>
        </div>
        <!-- <svg class="cursor-pointer" style="min-width: 1rem;" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.74035 3.19227L11.3972 8.84912L5.74035 14.506" stroke="#368796" stroke-width="2"/>
        </svg> -->
        </div>
        <div class="d-flex align-items-center gap-1">
            <div class="text-center custom_tooltip custom_tooltip_left cursor-pointer" *ngIf="obgyneFormType" (click)="BackToAdvice()" >
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 32 33" fill="none">
                    <g filter="url(#filter0_d_6703_2128)">
                    <rect x="2" y="2.51953" width="28" height="28" rx="14" fill="#DAEEF1"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3287 14.3666L13.8914 9.71422C14.4476 9.25909 14.5993 9.20852 14.5993 9.86593V12.7484H17.6841C24.9661 12.7484 25.0167 18.0076 22.4882 23.4186C22.2859 23.8737 21.9319 23.6209 21.9319 23.3175C22.1342 19.1707 22.1342 16.9963 17.6841 16.9963H14.5993V19.5247C14.5993 20.4856 14.3465 20.435 13.7397 19.9293L8.27813 15.378C7.92415 15.024 7.87358 14.7206 8.3287 14.3666Z" fill="#368796"/>
                    <rect x="1.5" y="2.01953" width="29" height="29" rx="14.5" stroke="#8ECBD7"/>
                    </g>
                </svg>
                <p>Back</p>
                <div class="tooltip">
                    <p>Back to Advice</p>
                </div>
            </div>
            <button class="btn btn-danger-outline" *ngIf="obgyneFormType" (click)="ClearAssessment()">{{langData?.common?.Clear}}</button>
            <button class="btn btn-main-outline d-none" *ngIf="obgyneFormType" (click)="DischargeObgPrint()">Print</button>
            <button class="btn btn-main-outline" *ngIf="!endofEpisode && obgyneFormType" (click)="onSaveAssessmentClick()" [disabled]="isSaveDisabled()">{{langData?.common?.Save}}</button>
            <button class="btn btn-danger-outline" (click)="clear()" *ngIf="!isSurgery && !readonly && !obgyneFormType">{{langData?.common?.Clear}}</button>
            <button class="btn btn-main-outline" (click)="saveAdvice()" *ngIf="!isSurgery && !endofEpisode && !obgyneFormType">{{langData?.common?.Save}}</button>
        </div>
    </div>
    <!-- Advice to Pavan -->
    <div class="casesheet_advice" *ngIf="!obgyneFormType">
        <div class="card card-style-1 d-none">
            <div class="card-header py-2 justify-content-between headertoggle_bottom_radius" id="toggle_header">
                <h6 class="m-0 clr-primary-600">{{langData?.common?.Diagnosis}}</h6>
                <div>
                    <button class="btn btn-icon-3d toggle_btn" id="toggle_btn" onclick="toggle_diagtable()">
                        <img src="assets/images/icons/arrow-down.svg" alt="">
                    </button>
                </div>
            </div>
            <div class="p-3" id="diag_table_toggle" style="display: none;">
                <div class="diag_table">
                    <table class="table m-0">
                        <thead>
                            <tr>
                                <th style="width: 70%;">{{langData?.common?.Diagnosis}}</th>
                                <th>{{langData?.Diagnosis?.ICD}}</th>
                                <th>{{langData?.Advice?.ModifiedDate}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of PatientDiagnosisDataList; let i = index">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <input class="form-check-input" type="checkbox" [checked]="item.selected"
                                                (change)="selectedRow(item.Code)" value="view.Code">
                                        <label for="" class="form-label ms-2 mb-0">{{item.DiseaseName}}</label>
                                    </div>
                                </td>
                                <td>{{item.Code}}</td>
                                <td>{{item.MODDATE | date: 'dd-MMM-yyyy'}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="">
           
            <div class="card-header py-1 rounded-0 bg-white flex-column">
                <h6 class="modal-title pe-2 text-danger position-absolute end-0" *ngIf="dischargeIntimationRiased" style="font-size:0.96rem;">Discharge Request
                        already raised, no modification is allowed
                </h6>
                        
                <h6 class="modal-title pe-2 text-danger position-absolute end-0" *ngIf="!dischargeIntimationRiased&&endofEpisode" style="font-size:0.96rem;">No modification is allowed
                    after {{this.PrescriptionRestriction}}hrs.
                </h6>
                <ul class="nav nav-pills border-0 gap-2 align-items-center" id="" role="tablist">

                    <li class="nav-item"  role="presentation" #followup [class.d-none]="(selectedView.PatientType === '1'||selectedView.PatientType === '2'||selectedView.PatientType === '3'||selectedView.PatientType === '4') || readonly">
                        <button [class]="selectedView.PatientType === '1' ? 'nav-link nav_as_btn active' : 'nav-link nav_as_btn'" data-bs-toggle="pill" (click)="activeMainTab('followup');activeTab('followup');" data-bs-target="#followup_req" type="button" role="tab" aria-controls="followup_req" aria-selected="false">
                        
                            {{langData?.common?.FollowUp}}
                        </button>
                    </li>
                    <div #admission>
                        <li class="nav-item d-none" *ngIf="selectedView.PatientType === '1' && !readonly" role="presentation" >
                            <button class="nav-link nav_as_btn fs-8" data-bs-toggle="pill" (click)="activeMainTab('admission');activeTab('admission');" data-bs-target="#admission_req" type="button" role="tab" aria-controls="admission_req" aria-selected="true">
                            
                                {{langData?.Advice?.Admission}}
                            </button>
                        </li>
                    </div>
                    
                    <li class="nav-item" role="presentation" #referral>
                    <button [class]="((selectedView.PatientType === '1'||selectedView.PatientType === '2'||selectedView.PatientType === '4') && isReferral) ? 'nav-link nav_as_btn active' : 'nav-link nav_as_btn'" data-bs-toggle="pill" (click)="activeMainTab('referral');activeTab('referral');" data-bs-target="#referral" type="button" role="tab" aria-controls="referral" aria-selected="false">
                                                            
                        {{langData?.Advice?.Referrals}}
                    </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <div class="clin_imp">
                            <button class="btn btn-secondary-outline min-width-unset d-flex align-items-center fs-8 p-0 pe-2"
                            [class.active]="referralType === 1" (click)="saveReferralConfirmation(1)">
                                <span class="h-100 d-flex align-items-center p">
                                    <svg class="ms-1" width="17" height="17" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.4"
                                            d="M10 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10C18.3334 5.39752 14.6025 1.66669 10 1.66669C5.39752 1.66669 1.66669 5.39752 1.66669 10C1.66669 14.6025 5.39752 18.3334 10 18.3334Z"
                                            fill="#B4DDE4" />
                                        <path
                                            d="M8.81668 12.985C8.65098 12.9849 8.49212 12.9189 8.37502 12.8017L6.01668 10.4433C5.90045 10.3257 5.83527 10.167 5.83527 10.0017C5.83527 9.83631 5.90045 9.67762 6.01668 9.56C6.25835 9.31833 6.65835 9.31833 6.90002 9.56L8.81668 11.4767L13.1 7.19333C13.3417 6.95167 13.7417 6.95167 13.9834 7.19333C14.225 7.435 14.225 7.835 13.9834 8.07667L9.25835 12.8017C9.14125 12.9189 8.98239 12.9849 8.81668 12.985Z"
                                            fill="#fff" />
                                    </svg>
                                </span>
                                <span class="px-2 py-1 d-block">Refer to Social Worker</span>
                            </button>
                        </div>
                    </li>
                    <li class="nav-item" role="presentation">
                        <div class="clin_imp">
                            <button class="btn btn-secondary-outline min-width-unset d-flex align-items-center fs-8 p-0 pe-2"
                            [class.active]="referralType === 2" (click)="saveReferralConfirmation(2)">
                                <span class="h-100 d-flex align-items-center p">
                                    <svg class="ms-1" width="17" height="17" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.4"
                                            d="M10 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10C18.3334 5.39752 14.6025 1.66669 10 1.66669C5.39752 1.66669 1.66669 5.39752 1.66669 10C1.66669 14.6025 5.39752 18.3334 10 18.3334Z"
                                            fill="#B4DDE4" />
                                        <path
                                            d="M8.81668 12.985C8.65098 12.9849 8.49212 12.9189 8.37502 12.8017L6.01668 10.4433C5.90045 10.3257 5.83527 10.167 5.83527 10.0017C5.83527 9.83631 5.90045 9.67762 6.01668 9.56C6.25835 9.31833 6.65835 9.31833 6.90002 9.56L8.81668 11.4767L13.1 7.19333C13.3417 6.95167 13.7417 6.95167 13.9834 7.19333C14.225 7.435 14.225 7.835 13.9834 8.07667L9.25835 12.8017C9.14125 12.9189 8.98239 12.9849 8.81668 12.985Z"
                                            fill="#fff" />
                                    </svg>
                                </span>
                                <span class="px-2 py-1 d-block">Refer to Physiotherapist</span>
                            </button>
                        </div>
                    </li>
                    <!-- <li class="nav-item" role="presentation">
                        <div class="clin_imp">
                            <button class="btn btn-secondary-outline min-width-unset d-flex align-items-center fs-8 p-0 pe-2"
                            [class.active]="referralType === 3" (click)="saveReferralConfirmation(3)">
                                <span class="h-100 d-flex align-items-center p">
                                    <svg class="ms-1" width="17" height="17" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.4"
                                            d="M10 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10C18.3334 5.39752 14.6025 1.66669 10 1.66669C5.39752 1.66669 1.66669 5.39752 1.66669 10C1.66669 14.6025 5.39752 18.3334 10 18.3334Z"
                                            fill="#B4DDE4" />
                                        <path
                                            d="M8.81668 12.985C8.65098 12.9849 8.49212 12.9189 8.37502 12.8017L6.01668 10.4433C5.90045 10.3257 5.83527 10.167 5.83527 10.0017C5.83527 9.83631 5.90045 9.67762 6.01668 9.56C6.25835 9.31833 6.65835 9.31833 6.90002 9.56L8.81668 11.4767L13.1 7.19333C13.3417 6.95167 13.7417 6.95167 13.9834 7.19333C14.225 7.435 14.225 7.835 13.9834 8.07667L9.25835 12.8017C9.14125 12.9189 8.98239 12.9849 8.81668 12.985Z"
                                            fill="#fff" />
                                    </svg>
                                </span>
                                <span class="px-2 py-1 d-block">Refer to Dietician</span>
                            </button>
                        </div>
                    </li> -->

                    <li class="nav-item" role="presentation" #surgery [class.d-none]="doctorDetails[0].EmpSpecialisationId && doctorDetails[0].EmpSpecialisationId == '50' || readonly">
                        <button class="nav-link nav_as_btn fs-8" [class.active]="isSurgery" data-bs-toggle="pill" (click)="activeMainTab('surgery')" data-bs-target="#surgery_req" type="button" role="tab" aria-controls="surgery_req" aria-selected="false">
                    
                        {{langData?.Advice?.SurgeryRequest}}
                    </button>
                    </li>
                </ul>
            </div>
            <div class="">
                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade" id="admission_req" *ngIf="(selectedView.PatientType != '2'&&selectedView.PatientType != '4') && !readonly" role="tabpanel" aria-labelledby="admission_req">
                        <div class="tab-content">
                            <div class="tab-pane fade show active adivce_adm" id="adivce_adm" role="tabpanel" aria-labelledby="adivce_adm-tab">
                                <form [formGroup]="admissionForm">
                                    <div class="" *ngIf="this.activeTab1 === 'admission'">
                                        <div class="card-header py-2 rounded-0 justify-content-between">
                                            <div class="d-flex align-items-center">
                                                <div class="d-flex align-items-center d-none">
                                                    <input type="radio" formControlName="TodayAfter" value="T" name="TodayAfter" (click)="todayClick()" class="form-check-input mt-0 me-2">
                                                    <label for="" class="form-label mb-0">{{langData?.patients?.today}}</label>
                                                </div>
                                                <div class="d-flex align-items-center d-none">
                                                    <input type="radio" formControlName="TodayAfter" value="A" name="TodayAfter" class="form-check-input mt-0 me-2">
                                                    <label for="" class="form-label mb-0">{{langData?.Advice?.After}}</label>
                                                </div>
                                                <div class="d-flex align-items-center d-none" style="width:7rem" *ngIf="this.admissionForm.get('TodayAfter')?.value == 'A'">
                                                    <label for="" class="form-label mb-0">{{langData?.casesheet?.days}}</label>
                                                    <input type="number" numbersOnly name="" formControlName="AfterDays" (change)="addAfterDays()" class="form-control ms-2" id="">
                                                </div>
                                                <div class="d-flex align-items-center">
                                                    <label for="" class="form-label mb-0">{{langData?.Advice?.Admission}}</label>
                                                    <div class="d-flex align-items-center ms-2 w-50">
                                                        <mat-form-field appearance="fill">
                                                            <mat-label translate>{{langData?.Ward?.AdmissionDate}}</mat-label>
                                                            <input matInput class="" formControlName="Admission"
                                                                [matDatepicker]="AdmissionDate" [matDatepickerFilter]="futureDatesFilter"
                                                                (click)="AdmissionDate.open()" (dateChange)="onDateChange($event)">
                                                            <mat-datepicker-toggle matSuffix [for]="AdmissionDate">
                                                            </mat-datepicker-toggle>
                                                            <mat-datepicker  #AdmissionDate ></mat-datepicker>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center">
                                                <button class="btn btn-main-outline" (click)="openAdmissionReconciliation()">Admission Reconciliation</button>
                                            </div>
                                        </div>
                                        <div class="p-2">
                                            <div class="row g-2">
                                                <div class="col-7">
                                                    <div class="row g-2 mx-0">
                                                        <div class="col-lg-3 col-md-4">
                                                            <label for="" class="form-label">{{langData?.Advice?.Expectedlengthofstay}}</label>    
                                                            <div class="d-flex align-items-center afterlabel">
                                                                <input type="number" numbersOnly name="" formControlName="Expectedlengthofstay" (change)="addDays()" class="form-control pe-6" id="">
                                                                <label for="" class="form-label label_sm">{{langData?.casesheet?.days}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-3 col-md-4">
                                                            <label for="" class="form-label">{{langData?.Advice?.ExpectedDischargeDate}}</label>
                                                            <mat-form-field appearance="fill">
                                                                <mat-label translate>dd-MMM-yyyy</mat-label>
                                                                <input [disabled]="true" [readonly]="true" matInput class="" formControlName="DischargeDate"
                                                                    [matDatepicker]="DischargeDate"
                                                                    (click)="DischargeDate.open()">
                                                                <mat-datepicker-toggle matSuffix [for]="DischargeDate">
                                                                </mat-datepicker-toggle>
                                                                <mat-datepicker #DischargeDate></mat-datepicker>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-lg-3 col-md-4">
                                                            <label for="" class="form-label">{{langData?.Advice?.DietType}}</label>
                                                            <select name="" class="form-select" id="" formControlName="DietType">
                                                                <option value="">{{langData?.appointment?.select}}</option>
                                                                <option *ngFor="let item of dietType; let i = index" value="{{item.id}}">{{item.name}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-3 col-md-4">
                                                            <label for="" class="form-label">{{langData?.Advice?.PrimaryConsultant}}</label>
                                                            <input type="text" class="form-control" [readonly]="true" name="" formControlName="PrimaryConsultant" id="">
                                                        </div>
                                                        <div class="col-lg-3 col-md-4">
                                                            <label for="" class="form-label">{{langData?.Advice?.AdmissionType}}</label>
                                                            <select name="" class="form-select" id="" formControlName="AdmissionType">
                                                                <option value="">{{langData?.appointment?.select}}</option>
                                                                <option *ngFor="let item of fetchAdmin; let i = index" value="{{item.id}}">{{item.name}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <label for="" class="form-label">{{langData?.Advice?.ReasonforAdmission}}</label>
                                                            <textarea name="" [class]="(adviceReasonForAdmSubmitted && this.admissionForm.get('Reason').value === '') ? 'form-control resize-none border-danger-300' : 'form-control resize-none'" id="" formControlName="Reason" rows="3" placeholder={{langData?.Advice?.ReasonforAdmission}}></textarea>
                                                        </div>
                                                        <div class="col-12"> 
                                                            <label for="" class="form-label">{{langData?.Advice?.advicetopatient}}</label>
                                                            <textarea name="" class="form-control resize-none" id="" rows="3" formControlName="adviceToPatient" placeholder={{langData?.Advice?.advicetopatient}}></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-5">
                                                    <div class="diagnosis_wrapper mt-2">
                                                        <div class="card-header rounded-0 py-2"  style="min-height: 2rem;">
                                                            <div class="row g-2 w-100">
                                                                <div class="col-md-1">
                                                                    <p class="label m-0">ICD</p>
                                                                </div>
                                                                <div class="col-8">
                                                                    <p class="label m-0">Diagnosis</p>
                                                                </div>
                                                                <div class="col">
                                                                    <p class="label m-0">Modified Date</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="diag_table">
                                                            <div class="diag_td" *ngFor="let item of PatientDiagnosisDataList; let i = index">
                                                                <div class="border-bottom">
                                                                    <div class="row mx-0 gx-2 py-2 align-items-center">
                                                                        <div class="col-md-1">
                                                                            <p>{{item.Code}}</p>
                                                                        </div>
                                                                        <div class="col-8">
                                                                            <p class="fs-7">{{item.DiseaseName}}</p>
                                                                        </div>
                                                                        <div class="col">
                                                                            <div class="d-flex align-items-center gap-1">
                                                                                <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                                                    xmlns="http://www.w3.org/2000/svg">
                                                                                    <path
                                                                                        d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                                                        fill="#368796" />
                                                                                </svg>
                                                                                <p class="m-0 clr-dark-600 text-nowrap">{{item.MODDATE | date: 'dd-MMM-yyyy'}}</p>                                                                           
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="!readonly" [class]="(selectedView.PatientType === '1') ? 'tab-pane fade show active' : 'tab-pane fade'"  id="followup_req" role="tabpanel" aria-labelledby="followup_req">
                    
                        <div class="followup_req">
                            <div class="tab-content">
                                <div  id="followup" role="tabpanel" aria-labelledby="followup-tab">
                                    <form [formGroup]="followupForm">
                                        <div class=""  *ngIf="this.activeTab1 === 'followup'">
                                            <div class="row gx-2 p-2 mx-0">
                                                <div class="col-md-6">
                                                    <div class="row">
                                                        <div class="col-md-4" *ngIf="showNoofDaysFollowUp">
                                                            <label for="" class="form-label">No. of FollowUp</label>
                                                            <div class="d-flex align-items-center afterlabel">
                                                                <select name="" id="" class="form-select" formControlName="NoofFollowUp">
                                                                    <option value="0">Select</option>
                                                                    <option value="1">1</option>
                                                                    <option value="2">2</option>
                                                                    <option value="3">3</option>
                                                                    <option value="4">4</option>
                                                                    <option value="5">5</option>
                                                                    <option value="6">6</option>
                                                                    <option value="7">7</option>
                                                                    <option value="8">8</option>
                                                                    <option value="9">9</option>
                                                                    <option value="10">10</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4" *ngIf="showNoofDaysFollowUp">
                                                            <label for="" class="form-label">No. of Days</label>
                                                            <div class="d-flex align-items-center afterlabel">
                                                                <input type="number" numbersOnly name="" formControlName="NoofDays" class="form-control pe-5" id="">
                                                                <label for="" class="form-label label_sm">{{langData?.casesheet?.days}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-4">
                                                            <label for="" class="form-label">{{langData?.Advice?.FollowUpAfter}}</label>
                                                            <div class="d-flex align-items-center afterlabel">
                                                                <input type="number" #followupAfter id="followupAfter" numbersOnly name="" formControlName="FollowupAfter" (change)="addFollowupDays()" 
                                                                [class]="(noofdaysToFollowup && FollowUpType === 1) ? 'form-control pe-5 border-danger-300' : 'form-control pe-5'" id="">
                                                                <label for="" class="form-label label_sm">{{langData?.casesheet?.days}}</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-4">
                                                            <label for="" class="form-label">{{langData?.common?.Date}}</label>
                                                            <mat-form-field appearance="fill">
                                                                <mat-label translate>dd-MMM-yyyy</mat-label>
                                                                <input [disabled]="true" [readonly]="true" matInput class="" formControlName="FollowupDate"
                                                                    [matDatepicker]="FollowupDate"
                                                                    (click)="FollowupDate.open()">
                                                                <mat-datepicker-toggle matSuffix [for]="FollowupDate">
                                                                </mat-datepicker-toggle>
                                                                <mat-datepicker #FollowupDate></mat-datepicker>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-12">
                                                            <label for="" class="form-label">{{langData?.Diagnosis?.Remarks}}</label>
                                                            <textarea name="" [class]="followupRemarks ? 'form-control resize-none border-danger-300' : 'form-control resize-none'" formControlName="Remarks" id="" rows="5" placeholder="Remarks"></textarea>
                                                        </div>
                                                        <div class="col-12"> 
                                                            <label for="" class="form-label">{{langData?.Advice?.advicetopatient}}</label>
                                                            <textarea name="" class="form-control resize-none" id="" rows="5" formControlName="adviceToPatient" placeholder={{langData?.Advice?.advicetopatient}}></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="diagnosis_wrapper mt-2">
                                                        <div class="card-header rounded-0 py-2"  style="min-height: 2rem;">
                                                            <div class="row g-2 w-100">
                                                                <div class="col-md-1">
                                                                    <p class="label m-0">ICD</p>
                                                                </div>
                                                                <div class="col-8">
                                                                    <p class="label m-0">Diagnosis</p>
                                                                </div>
                                                                <div class="col">
                                                                    <p class="label m-0">Modified Date</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="diag_table">
                                                            <div class="diag_td" *ngFor="let item of PatientDiagnosisDataList; let i = index">
                                                                <div class="border-bottom">
                                                                    <div class="row mx-0 gx-2 py-2 align-items-center">
                                                                        <div class="col-md-1">
                                                                            <p>{{item.Code}}</p>
                                                                        </div>
                                                                        <div class="col-8">
                                                                            <p class="fs-7">{{item.DiseaseName}}</p>
                                                                        </div>
                                                                        <div class="col">
                                                                            <div class="d-flex align-items-center gap-1">
                                                                                <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                                                    xmlns="http://www.w3.org/2000/svg">
                                                                                    <path
                                                                                        d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                                                        fill="#368796" />
                                                                                </svg>
                                                                                <p class="m-0 clr-dark-600 text-nowrap">{{item.MODDATE | date: 'dd-MMM-yyyy'}}</p>                                                                           
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div [class]="((selectedView.PatientType === '1'||selectedView.PatientType === '2'||selectedView.PatientType === '4') && isReferral) ? 'tab-pane fade show active' : 'tab-pane fade'" id="referral" role="tabpanel" aria-labelledby="referral-tab">
                        <form [formGroup]="referralForm">
                            <!-- <div class="card card-style-1 h-100"> -->
                                <!-- <div class="card-header py-2 justify-content-between" id="toggle_header_referral">
                                    <div class="d-flex align-items-center">
                                        <h2 class="card-heading"> {{langData?.Advice?.Referrals}} </h2>
                                    </div>
                                    <div class="d-flex align-items-center d-none">
                                        <button class="btn btn-icon-3d ms-2 toggle_btn" id="toggle_btn_referral" onclick="toggle_referral()">
                                            <img src="assets/images/icons/arrow-down.svg" alt="">
                                        </button>
                                    </div>
                                </div> -->
                                <div class="" id="referral_body">
                                    <div class="row align-items-end">
                                        <!-- <div class="col-md-5 p-2">
                                            <div class="d-flex align-items-center">
                                                <label for="" class="form-label text-nowrap m-0">{{langData?.Advice?.RefertoLocation}}</label>
                                                <select name="" class="form-select pe-4 ms-2" id="" formControlName="Location" (change)="locationChange($event)">
                                                    <option value="0">{{langData?.appointment?.select}}</option>
                                                    <option *ngFor="let hl of locationList;let i=index" value="{{hl.HospitalID}}" >{{hl.Name}}</option>
                                                </select>
                                            </div>
                                        </div> -->
                                        <div class="col-md-7 d-none">
                                            <div class="bg-primary-50 d-flex align-items-center rounded-2 p-2">
                                                <div class="clinical_toggle toggle__switch switch-sm d-inline-flex align-self-start">
                                                    <button id="btnInternal" class="fs-7 btn selected" (click)="doctorType(1)">{{langData?.Advice?.Internal}}</button>
                                                    <button id="btnExternal" class="fs-7 btn" (click)="doctorType(0)">{{langData?.Advice?.External}}</button>
                                                </div>
                                                <div class="d-flex align-items-center justify-content-between w-100 ms-3">
                                                    <div class="d-flex align-items-center input-group w-100">
                                                        <input type="text" class="form-control" placeholder="" formControlName="DoctorName" autocomplete="off"
                                                        aria-label="Country Name"   [matAutocomplete]="autoDoctor" (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : fetchDoctorSearch($event)">
                                                        <mat-autocomplete #autoDoctor="matAutocomplete">
                                                            <mat-option *ngFor="let item of listOfItems" (onSelectionChange)="selectItem(item)"  >
                                                                {{item.DoctorName}} 
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                        <button type="button" id="button-addon2" class="btn btn-secondary-fill btn-icon">
                                                            <img src="assets/images/icons/icon-search.svg" alt="">
                                                        </button>
                                                    </div>
                                                    <div class="d-flex align-items-center ms-3 justify-content-end d-none">
                                                        <input type="checkbox" class="form-check-input mt-0 me-2" />
                                                        <label for="" class="form-label m-0 text-nowrap">{{langData?.Advice?.AgainstSpecialization}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="p-2 bg-primary-50">
                                        <!-- <div class="d-flex align-items-center gap-3 mb-2">
                                            <div class="custom_check d-flex align-items-center gap-2"
                                                [class.active]="referralType === 1" (click)="saveReferralConfirmation(1)">
                                                <svg width="19" height="19" viewBox="0 0 20 21" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                    <path
                                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                                </svg>
                                                <p class="text-nowrap fs-7">Refer to Social Worker</p>
                                            </div>
                                            <div class="custom_check d-flex align-items-center gap-2"
                                                [class.active]="referralType === 2" (click)="saveReferralConfirmation(2)">
                                                <svg width="19" height="19" viewBox="0 0 20 21" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                    <path
                                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                                </svg>
                                                <p class="text-nowrap fs-7">Refer to Physiotherapist</p>
                                            </div>
                                            <div class="custom_check d-flex align-items-center gap-2"
                                                [class.active]="referralType === 3" (click)="saveReferralConfirmation(3)">
                                                <svg width="19" height="19" viewBox="0 0 20 21" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                    <path
                                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                                </svg>
                                                <p class="text-nowrap fs-7">Refer to Dietician</p>
                                            </div>
                                        </div> -->
                                        <div class="row g-2 align-items-center">
                                            <div class="w-max-content">
                                                <label for="" class="form-label text-nowrap m-0">{{langData?.Advice?.RefertoLocation}}</label>
                                                <select name="" class="form-select pe-5" id="" formControlName="Location" (change)="locationChange($event)">
                                                    <option value="0">{{langData?.appointment?.select}}</option>
                                                    <option *ngFor="let hl of locationList;let i=index" value="{{hl.HospitalID}}" >{{hl.Name}}</option>
                                                </select>
                                            </div>
                                            <div class="col-lg-2 col-md-4">
                                                <label for="" class="form-label">{{langData?.Ward?.Specialization}}</label>
                                                <!-- <select name="" [class]="referralSpecialization ? 'form-select border-danger-300' : 'form-select'" id="" formControlName="Specialization" (change)="specializationChange($event)">
                                                    <option value="0">{{langData?.appointment?.select}}</option>
                                                    <option *ngFor="let item of SpecializationList; let i = index" value="{{item.id}}">{{item.name}}</option>
                                                </select> -->
                                                <div class="input_dropdown position-relative">
                                                    <input type="text" class="form-control" id="Specialization"
                                                        placeholder="Specialization" aria-label="Specialization"  [matAutocomplete]="autoMed"
                                                        (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : searchSpecItem($event)">
                                                    <mat-autocomplete #autoMed="matAutocomplete" (optionSelected)="onSpecItemSelected($event)">
                                                        <mat-option *ngFor="let item of SpecializationList"
                                                            [value]="item.name">
                                                            {{item.name}}
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                </div>
                                            </div>
                                            <div class="col-lg-3 col-md-4 align-items-center justify-content-between">
                                                <label for="" class="form-label">{{langData?.SHO?.Doctor}}</label>
                                                <!-- <select name="" class="form-select" id="" formControlName="SpecialisationDoctorName" (change)="selectSpecItem($event)">
                                                    <option value="0">{{langData?.appointment?.select}}</option>
                                                    <option *ngFor="let item of listOfSpecItems; let i = index" value="{{item.EmpNo + ' - ' +item.Fullname}}" >{{item.EmpNo + ' - ' +item.Fullname}}</option>
                                                </select> -->
                                                <div class="input_dropdown position-relative">
                                                    <input type="text" class="form-control" id="Doctor"
                                                        placeholder="Doctor" aria-label="Doctor"  [matAutocomplete]="autoMed1"
                                                        (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : searchDocItem($event)">
                                                    <mat-autocomplete #autoMed1="matAutocomplete" (optionSelected)="onDocItemSelected($event)">
                                                        <mat-option *ngFor="let item of listOfSpecItems"
                                                            [value]="item.EmpNo + '-' + item.Fullname ">
                                                            <div class="border-bottom py-1">
                                                             <p >{{item.EmpNo}}-{{item.Fullname}}</p>
                                                            <p class="color-highlight  fs-8 fw-bold">{{item.THourDifferencestring}}</p>
                                                            </div>
                                                            
                                                            
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-md-4">
                                                <label for="" class="form-label">{{langData?.Advice?.Reason}}</label>
                                                <select name="" [class]="referralReason ? 'form-select border-danger-300' : 'form-select'" id="" formControlName="Reason" (change)="reasonChange($event)">
                                                    <option value="0">{{langData?.appointment?.select}}</option>
                                                    <option *ngFor="let item of reasonsList; let i = index" value="{{item.id}}">{{item.name}}</option>
                                                </select>
                                            </div>
                                            <div class="col-lg-1 col-md-4">
                                                <label for="" class="form-label">{{langData?.Advice?.Priority}}</label>
                                                <select name="" [class]="referralPriority ? 'form-select pe-4 border-danger-300' : 'form-select pe-4'" id="" formControlName="Priority" (change)="priorityChange($event)">
                                                    <option value="0">{{langData?.appointment?.select}}</option>
                                                    <option *ngFor="let item of priorityList; let i = index" value="{{item.id}}" >{{item.name}}</option>
                                                </select>
                                            </div>
                                            <div class="col d-flex align-items-end justify-content-between">
                                                <div class="d-flex align-items-center">
                                                        <div class="w-50 me-6 d-none" *ngIf="this.selectedView.PatientType !== '1'">
                                                            <label for="" class="form-label">{{langData?.Advice?.Durationof}}</label>
                                                            <div class="d-flex align-items-center afterlabel">
                                                                <input type="text" numbersOnly maxlength="2" class="form-control" style="width: 6rem;" formControlName="Duration">
                                                                <label for="" class="form-label label_sm">Day(s)</label>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex align-items-center gap-1 mt-4 ms-1">
                                                            <div class="custom_check d-flex align-items-center gap-2" [class.active]="Cosession" (click)="cosessionClick()">
                                                                <svg width="16" height="16" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg"><circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle><path d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z" fill="white" stroke="white" stroke-width="0.25"></path></svg>                          
                                                                <p class="m-0 fs-8 text-nowrap">{{langData?.Advice?.CoManagement}}</p>
                                                             </div>
                                                            <!-- <input type="checkbox" name="" class="form-check-input mt-0" id="" formControlName="Cosession">
                                                            <label for="" class="form-label m-0 text-nowrap">{{langData?.Advice?.CoManagement}}</label> -->
                                                        </div>
                                                </div>
                                                <div class="d-flex justify-content-end align-items-end mt-2">
                                                    <button class="btn btn-main-outline" *ngIf="!isEdit" (click)="addReferral()">                                               
                                                        {{langData?.common?.Add}}</button>
                                                    <button class="btn btn-main-outline" *ngIf="isEdit" (click)="updateReferral()">{{langData?.Advice?.Update}}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="p-2 pt-0">
                                        <label for="" class="form-label">{{langData?.Advice?.ReferralRemarks}}</label>
                                        <textarea name="" [class]="referralRemarks ? 'form-control resize-none border-danger-300' : 'form-control resize-none'" id="" rows="3" formControlName="Remarks" placeholder={{langData?.Advice?.ReferralRemarks}}></textarea>
                                    </div>
                                    <div class="mt-2 p-2 pb-0">
                                        <div class="row g-2">
                                            <div class="col-5 d-none">
                                                <div class="referral_leftpanel h-100 rounded-2 p-2">
                                                    <div class="row g-1">
                                                        <div class="col-4">
                                                            <div class="bg-primary-50 p-1 rounded-2">
                                                                <label for="" class="form-label fw-bold">Specialization</label>
                                                                <p>{{referralList1[0]?.SpecializationName}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-8">
                                                            <div class="bg-primary-50 p-1 rounded-2 h-100">
                                                                <label for="" class="form-label fw-bold">Doctor</label>
                                                                <p>{{referralList1[0]?.SpecialisationDoctorName}}</p>
                                                            </div>
                                                            <div class="custom_tooltip custom_tooltip_left">
                                                                <svg class="cursor-pointer" (click)="editRow(referralList1[0], 0)" width="16" height="16" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <path d="M3 17.0029H7.24C7.37161 17.0036 7.50207 16.9784 7.62391 16.9286C7.74574 16.8789 7.85656 16.8055 7.95 16.7129L14.87 9.78287L17.71 7.00287C17.8037 6.90991 17.8781 6.7993 17.9289 6.67745C17.9797 6.55559 18.0058 6.42488 18.0058 6.29287C18.0058 6.16086 17.9797 6.03015 17.9289 5.90829C17.8781 5.78643 17.8037 5.67583 17.71 5.58287L13.47 1.29287C13.377 1.19914 13.2664 1.12475 13.1446 1.07398C13.0227 1.02321 12.892 0.99707 12.76 0.99707C12.628 0.99707 12.4973 1.02321 12.3754 1.07398C12.2536 1.12475 12.143 1.19914 12.05 1.29287L9.23 4.12287L2.29 11.0529C2.19732 11.1463 2.12399 11.2571 2.07423 11.379C2.02446 11.5008 1.99924 11.6313 2 11.7629V16.0029C2 16.2681 2.10536 16.5224 2.29289 16.71C2.48043 16.8975 2.73478 17.0029 3 17.0029ZM12.76 3.41287L15.59 6.24287L14.17 7.66287L11.34 4.83287L12.76 3.41287ZM4 12.1729L9.93 6.24287L12.76 9.07287L6.83 15.0029H4V12.1729ZM19 19.0029H1C0.734784 19.0029 0.48043 19.1082 0.292893 19.2958C0.105357 19.4833 0 19.7377 0 20.0029C0 20.2681 0.105357 20.5224 0.292893 20.71C0.48043 20.8975 0.734784 21.0029 1 21.0029H19C19.2652 21.0029 19.5196 20.8975 19.7071 20.71C19.8946 20.5224 20 20.2681 20 20.0029C20 19.7377 19.8946 19.4833 19.7071 19.2958C19.5196 19.1082 19.2652 19.0029 19 19.0029Z" fill="#FFAD0E"/>
                                                                </svg>
                                                                <div class="tooltip">
                                                                    <p class="text-wrap">Edit</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-4">
                                                            <div class="bg-primary-50 p-1 rounded-2">
                                                                <label for="" class="form-label fw-bold">Co-Management</label>
                                                                <p>{{referralList1[0]?.Cosession === true ? 'Yes' : 'No'}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-8">
                                                            <div class="bg-primary-50 p-1 rounded-2 h-100">
                                                                <label for="" class="form-label fw-bold">Duration</label>
                                                                <p>{{referralList1[0]?.Duration}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-4">
                                                            <div class="bg-primary-50 p-1 rounded-2">
                                                                <label for="" class="form-label fw-bold">Priority</label>
                                                                <p>{{referralList1[0]?.PriorityName}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-8">
                                                            <div class="bg-primary-50 p-1 rounded-2 h-100">
                                                                <label for="" class="form-label fw-bold">Remarks</label>
                                                                <p>{{referralList1[0]?.ReasonName}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-4">
                                                            <div class="bg-primary-50 p-1 rounded-2">
                                                                <label for="" class="form-label fw-bold">Reason</label>
                                                                <p>{{referralList1[0]?.Duration}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-8">
                                                            <div class="bg-primary-50 p-1 rounded-2 h-100">
                                                                <div class="d-flex align-items-center gap-1">
                                                                    <label for="" class="form-label fw-bold">From</label>
                                                                    <svg width="12" height="6" viewBox="0 0 12 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path d="M0.3125 4.36009H9.61307L5.89288 0.639908" stroke="#357D83" stroke-width="1.5"/>
                                                                    </svg>        
                                                                    <label for="" class="form-label fw-bold">To</label>     
                                                                </div>                                                   
                                                                <div class="d-flex align-items-center gap-1">
                                                                    <p>{{referralList1[0]?.StartDate}} </p>
                                                                    <svg width="12" height="6" viewBox="0 0 12 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path d="M0.3125 4.36009H9.61307L5.89288 0.639908" stroke="#357D83" stroke-width="1.5"/>
                                                                    </svg>        
                                                                    <p>{{referralList1[0]?.EndDate}}</p>
                                                                </div>                                                   
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="border rounded h-100 referral_table">
                                                    <div class="bg-primary-50 p-2 rounded-top">
                                                        <div class="row g-1">
                                                            <div class="col-3">
                                                                <p class="clr-primary-600 m-0 fw-bold">{{langData?.common?.Doctor}}</p>
                                                            </div>
                                                            <div class="col-3">
                                                                <p class="clr-primary-600 m-0 fw-bold">{{langData?.Ward?.Specialization}}</p>
                                                            </div>
                                                            <div class="col-2">
                                                                <p class="clr-primary-600 m-0 fw-bold">{{langData?.Advice?.Priority}}</p>
                                                            </div>
                                                            <div class="col-2">
                                                                <p class="clr-primary-600 m-0 fw-bold">{{langData?.Advice?.Reason}}</p>
                                                            </div>
                                                            <div class="col-1 d-none" *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')">
                                                                <p class="clr-primary-600 m-0 fw-bold">{{langData?.common?.Duration}}</p>
                                                            </div>
                                                            <div class="col-2">
                                                                <p class="clr-primary-600 m-0 fw-bold">{{langData?.Advice?.CoManagement}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="p-2 d-flex flex-column gap-2 referral_table_body">
                                                        <div class="border-primary-200 rounded" *ngFor="let item of referralList; let i = index">
                                                            <div *ngIf="item.BKD === 0">
                                                                <div class="row gx-1 p-2">
                                                                    <div class="col-3">
                                                                        <p class="">{{item.SpecialisationDoctorName}}</p>
                                                                    </div>
                                                                    <div class="col-3">
                                                                        <p class="">{{item.SpecializationName}}</p>
                                                                    </div>
                                                                    <div class="col-2">
                                                                        <p class="" [class]="item.Priority != '1' ? 'ASAPRoutine' : ''">{{item.PriorityName}}</p>
                                                                    </div>
                                                                    <div class="col-2">
                                                                        <p class="">{{item.ReasonName}}</p>
                                                                    </div>
                                                                    <div class="col-1 d-none" *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')">
                                                                        <p class="">{{item.Duration}}</p>
                                                                    </div>
                                                                    <div class="col-2">
                                                                        <p class="">{{item.Cosession === true ? 'Yes' : 'No'}}</p>
                                                                    </div>
                                                                </div>
                                                                <div class="referralList_sub p-2">
                                                                    <div class="d-flex align-items-center justify-content-between">
                                                                        <div class="d-flex align-items-center gap-2">
                                                                            <div class="d-flex align-items-center gap-2">
                                                                                <div class="d-flex align-items-center gap-1">
                                                                                    <p *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')" class="clr-primary-600 m-0 fw-bold">From</p>
                                                                                    <svg *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')" width="12" height="6" viewBox="0 0 12 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                        <path d="M0.3125 4.86009H9.61307L5.89288 1.13991" stroke="#357D83" stroke-width="1.5"/>
                                                                                    </svg>          
                                                                                    <p *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')" class="clr-primary-600 m-0 fw-bold">To: </p>                                                                      
                                                                                </div>
                                                                            </div>
                                                                            <div class="d-flex align-items-center gap-2">
                                                                                <!-- FROM -->
                                                                                <div class="d-flex align-items-center gap-1">
                                                                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                                                        xmlns="http://www.w3.org/2000/svg">
                                                                                        <path
                                                                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                                                            fill="#368796" />
                                                                                    </svg>
                                                                                    <p class="m-0 clr-dark-600 text-nowrap">{{item.StartDate?.split(' ')[0]}}</p>         
                                                                                    <svg class="" width="10" height="11" viewBox="0 0 10 11"
                                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                        <path
                                                                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                                                                            fill="#368796" />
                                                                                        <path
                                                                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                                                                            fill="#368796" />
                                                                                    </svg>
                                                                                    <p class="m-0 clr-dark-600  text-nowrap">{{item.StartDate?.split(' ')[1]}}</p>                                                                    
                                                                                </div>
                                                                                <svg width="12" height="6" viewBox="0 0 12 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                    <path d="M0.3125 4.86009H9.61307L5.89288 1.13991" stroke="#357D83" stroke-width="1.5"/>
                                                                                </svg>   
                                                                                <!-- TO -->
                                                                                <div class="d-flex align-items-center gap-1">
                                                                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                                                        xmlns="http://www.w3.org/2000/svg">
                                                                                        <path
                                                                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                                                            fill="#368796" />
                                                                                    </svg>
                                                                                    <p class="m-0 clr-dark-600 text-nowrap">{{item.EndDate?.split(' ')[0]}}</p>         
                                                                                    <svg class="" width="10" height="11" viewBox="0 0 10 11"
                                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                        <path
                                                                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                                                                            fill="#368796" />
                                                                                        <path
                                                                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                                                                            fill="#368796" />
                                                                                    </svg>
                                                                                    <p class="m-0 clr-dark-600  text-nowrap">{{item.EndDate?.split(' ')[1]}}</p>                                                                    
                                                                                </div>
                                                                            </div>
                                                                            <div class="d-flex align-items-center gap-2">
                                                                                <p class="clr-primary-600 m-0 fw-bold">{{langData?.SHO?.Remarks}}:</p>
                                                                                <div class="custom_tooltip custom_tooltip_left referal_remarks">
                                                                                    <p class="truncateText">{{item.Remarks}}</p>
                                                                                    <div class="tooltip">
                                                                                        <p class="text-wrap">{{item.Remarks}}</p>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="d-flex align-items-center gap-2">
                                                                                <p class="clr-primary-600 m-0 fw-bold">Status:</p>
                                                                                <div class="custom_tooltip custom_tooltip_left referal_remarks">
                                                                                    <p class="">{{item.StatusName}}</p>                                                                              
                                                                                </div>
                                                                            </div>
                                                                            <div class="d-flex align-items-center gap-2">
                                                                                <p class="clr-primary-600 m-0 fw-bold">AcceptRejectDate:</p>
                                                                                <div class="custom_tooltip custom_tooltip_left referal_remarks">
                                                                                    <p class="">{{item.AcceptRejectDate}}</p>                                                                              
                                                                                </div>
                                                                            </div>
                                                                            <div class="d-flex align-items-center gap-2">
                                                                                <p class="clr-primary-600 m-0 fw-bold">Doctor Visited:</p>
                                                                                <div class="custom_tooltip custom_tooltip_left referal_remarks">
                                                                                    <p class="">{{item.IsVisited=='True'?'YES':'NO'}}</p>                                                                              
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="d-flex gap-2" *ngIf="item.Status === '0'">
                                                                            <div class="custom_tooltip custom_tooltip_left">
                                                                                <svg class="cursor-pointer" (click)="editRow(item, i)" width="16" height="16" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                    <path d="M3 17.0029H7.24C7.37161 17.0036 7.50207 16.9784 7.62391 16.9286C7.74574 16.8789 7.85656 16.8055 7.95 16.7129L14.87 9.78287L17.71 7.00287C17.8037 6.90991 17.8781 6.7993 17.9289 6.67745C17.9797 6.55559 18.0058 6.42488 18.0058 6.29287C18.0058 6.16086 17.9797 6.03015 17.9289 5.90829C17.8781 5.78643 17.8037 5.67583 17.71 5.58287L13.47 1.29287C13.377 1.19914 13.2664 1.12475 13.1446 1.07398C13.0227 1.02321 12.892 0.99707 12.76 0.99707C12.628 0.99707 12.4973 1.02321 12.3754 1.07398C12.2536 1.12475 12.143 1.19914 12.05 1.29287L9.23 4.12287L2.29 11.0529C2.19732 11.1463 2.12399 11.2571 2.07423 11.379C2.02446 11.5008 1.99924 11.6313 2 11.7629V16.0029C2 16.2681 2.10536 16.5224 2.29289 16.71C2.48043 16.8975 2.73478 17.0029 3 17.0029ZM12.76 3.41287L15.59 6.24287L14.17 7.66287L11.34 4.83287L12.76 3.41287ZM4 12.1729L9.93 6.24287L12.76 9.07287L6.83 15.0029H4V12.1729ZM19 19.0029H1C0.734784 19.0029 0.48043 19.1082 0.292893 19.2958C0.105357 19.4833 0 19.7377 0 20.0029C0 20.2681 0.105357 20.5224 0.292893 20.71C0.48043 20.8975 0.734784 21.0029 1 21.0029H19C19.2652 21.0029 19.5196 20.8975 19.7071 20.71C19.8946 20.5224 20 20.2681 20 20.0029C20 19.7377 19.8946 19.4833 19.7071 19.2958C19.5196 19.1082 19.2652 19.0029 19 19.0029Z" fill="#FFAD0E"/>
                                                                                </svg>
                                                                                <div class="tooltip">
                                                                                    <p class="text-wrap">Edit</p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="custom_tooltip custom_tooltip_left">
                                                                                <svg class="cursor-pointer" (click)="deleteItem(item)" width="16" height="16" viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                    <path d="M7 16.9971C7.26522 16.9971 7.51957 16.8917 7.70711 16.7042C7.89464 16.5166 8 16.2623 8 15.9971V9.99707C8 9.73185 7.89464 9.4775 7.70711 9.28996C7.51957 9.10243 7.26522 8.99707 7 8.99707C6.73478 8.99707 6.48043 9.10243 6.29289 9.28996C6.10536 9.4775 6 9.73185 6 9.99707V15.9971C6 16.2623 6.10536 16.5166 6.29289 16.7042C6.48043 16.8917 6.73478 16.9971 7 16.9971ZM17 4.99707H13V3.99707C13 3.20142 12.6839 2.43836 12.1213 1.87575C11.5587 1.31314 10.7956 0.99707 10 0.99707H8C7.20435 0.99707 6.44129 1.31314 5.87868 1.87575C5.31607 2.43836 5 3.20142 5 3.99707V4.99707H1C0.734784 4.99707 0.48043 5.10243 0.292893 5.28996C0.105357 5.4775 0 5.73185 0 5.99707C0 6.26229 0.105357 6.51664 0.292893 6.70418C0.48043 6.89171 0.734784 6.99707 1 6.99707H2V17.9971C2 18.7927 2.31607 19.5558 2.87868 20.1184C3.44129 20.681 4.20435 20.9971 5 20.9971H13C13.7956 20.9971 14.5587 20.681 15.1213 20.1184C15.6839 19.5558 16 18.7927 16 17.9971V6.99707H17C17.2652 6.99707 17.5196 6.89171 17.7071 6.70418C17.8946 6.51664 18 6.26229 18 5.99707C18 5.73185 17.8946 5.4775 17.7071 5.28996C17.5196 5.10243 17.2652 4.99707 17 4.99707ZM7 3.99707C7 3.73185 7.10536 3.4775 7.29289 3.28996C7.48043 3.10243 7.73478 2.99707 8 2.99707H10C10.2652 2.99707 10.5196 3.10243 10.7071 3.28996C10.8946 3.4775 11 3.73185 11 3.99707V4.99707H7V3.99707ZM14 17.9971C14 18.2623 13.8946 18.5166 13.7071 18.7042C13.5196 18.8917 13.2652 18.9971 13 18.9971H5C4.73478 18.9971 4.48043 18.8917 4.29289 18.7042C4.10536 18.5166 4 18.2623 4 17.9971V6.99707H14V17.9971ZM11 16.9971C11.2652 16.9971 11.5196 16.8917 11.7071 16.7042C11.8946 16.5166 12 16.2623 12 15.9971V9.99707C12 9.73185 11.8946 9.4775 11.7071 9.28996C11.5196 9.10243 11.2652 8.99707 11 8.99707C10.7348 8.99707 10.4804 9.10243 10.2929 9.28996C10.1054 9.4775 10 9.73185 10 9.99707V15.9971C10 16.2623 10.1054 16.5166 10.2929 16.7042C10.4804 16.8917 10.7348 16.9971 11 16.9971Z" fill="#FF6868"/>
                                                                                </svg>
                                                                                <div class="tooltip">
                                                                                    <p class="text-wrap">Delete</p>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="referral_table mt-3 d-none">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <!-- <th></th> -->
                                                    <th>{{langData?.Diagnosis?.slno}}</th>
                                                    <!-- <th>{{langData?.Advice?.ReferralType}}</th> -->
                                                    <th>{{langData?.common?.Doctor}}</th>
                                                    <th>{{langData?.Ward?.Specialization}}</th>
                                                    <th>{{langData?.Advice?.Priority}}</th>
                                                    <th>{{langData?.Advice?.Reason}}</th>
                                                    <th *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')">{{langData?.common?.Duration}}</th>
                                                    <th>{{langData?.SHO?.Remarks}}</th>
                                                    <th *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')">From</th>
                                                    <th *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')">To</th>
                                                    <th>{{langData?.Advice?.CoManagement}}</th>
                                                    <th>{{langData?.Advice?.Actions}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngFor="let item of referralList; let i = index">
                                                    <tr *ngIf="item.BKD === 0">
                                                        <!-- <td [class]="item.Priority != '1' ? 'ReferalNewRequest legend_line' : ''">                                                     
                                                            <label for=""></label>
                                                        </td>-->
                                                        <td>{{i + 1}}</td>
                                                        <!-- <td>{{item.Type === 1 ? "Internal" : "External"}}</td> -->
                                                        <td class="">{{item.SpecialisationDoctorName}}</td>
                                                        <td>{{item.SpecializationName}}</td>
                                                        <td [class]="item.Priority != '1' ? 'ASAPRoutine' : ''">{{item.PriorityName}}</td>
                                                        <td>{{item.ReasonName}}</td>
                                                        <td *ngIf="(this.selectedView.PatientType === '2'||this.selectedView.PatientType === '4')">{{item.Duration}}</td>
                                                        <td>
                                                            <div class="custom_tooltip custom_tooltip_right">
                                                                <p class="text-truncate" style="width: 100px;">{{item.Remarks}}</p>
                                                                <div class="tooltip">
                                                                    <p class="text-wrap">{{item.Remarks}}</p>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <!-- <td class="text-nowrap">{{item.StartDate}}</td>
                                                        <td class="text-nowrap">{{item.EndDate}}</td> -->
                                                        <td class="text-nowrap">
                                                            <div class="d-flex align-items-center gap-1">
                                                                <!-- Date -->
                                                                <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                                    xmlns="http://www.w3.org/2000/svg">
                                                                    <path
                                                                        d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                                        fill="#368796" />
                                                                </svg>
                                                                <p class="m-0 clr-dark-600 text-nowrap">{{item.StartDate?.split(' ')[0]}}</p>
            
                                                                <!-- Time -->
                                                                <svg class="" width="10" height="11" viewBox="0 0 10 11"
                                                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <path
                                                                        d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                                                        fill="#368796" />
                                                                    <path
                                                                        d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                                                        fill="#368796" />
                                                                </svg>
                                                                <p class="m-0 clr-dark-600  text-nowrap">{{item.StartDate?.split(' ')[1]}}</p>
                                                            </div>
                                                        </td>
                                                        <td class="text-nowrap">
                                                            <div class="d-flex align-items-center gap-1">
                                                                <!-- Date -->
                                                                <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                                    xmlns="http://www.w3.org/2000/svg">
                                                                    <path
                                                                        d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                                        fill="#368796" />
                                                                </svg>
                                                                <p class="m-0 clr-dark-600 text-nowrap">{{item.StartDate?.split(' ')[0]}}</p>
            
                                                                <!-- Time -->
                                                                <svg class="" width="10" height="11" viewBox="0 0 10 11"
                                                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <path
                                                                        d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                                                        fill="#368796" />
                                                                    <path
                                                                        d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                                                        fill="#368796" />
                                                                </svg>
                                                                <p class="m-0 clr-dark-600  text-nowrap">{{item.StartDate?.split(' ')[1]}}</p>
                                                            </div>
                                                        </td>
                                                        <td>{{item.Cosession === true ? 'Yes' : 'No'}}</td>
                                                        <td>
                                                            <div class="d-flex gap-2" *ngIf="item.Status === '0'">
                                                                <svg class="cursor-pointer" (click)="deleteItem(item)" width="18" height="21" viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <path d="M7 16.9971C7.26522 16.9971 7.51957 16.8917 7.70711 16.7042C7.89464 16.5166 8 16.2623 8 15.9971V9.99707C8 9.73185 7.89464 9.4775 7.70711 9.28996C7.51957 9.10243 7.26522 8.99707 7 8.99707C6.73478 8.99707 6.48043 9.10243 6.29289 9.28996C6.10536 9.4775 6 9.73185 6 9.99707V15.9971C6 16.2623 6.10536 16.5166 6.29289 16.7042C6.48043 16.8917 6.73478 16.9971 7 16.9971ZM17 4.99707H13V3.99707C13 3.20142 12.6839 2.43836 12.1213 1.87575C11.5587 1.31314 10.7956 0.99707 10 0.99707H8C7.20435 0.99707 6.44129 1.31314 5.87868 1.87575C5.31607 2.43836 5 3.20142 5 3.99707V4.99707H1C0.734784 4.99707 0.48043 5.10243 0.292893 5.28996C0.105357 5.4775 0 5.73185 0 5.99707C0 6.26229 0.105357 6.51664 0.292893 6.70418C0.48043 6.89171 0.734784 6.99707 1 6.99707H2V17.9971C2 18.7927 2.31607 19.5558 2.87868 20.1184C3.44129 20.681 4.20435 20.9971 5 20.9971H13C13.7956 20.9971 14.5587 20.681 15.1213 20.1184C15.6839 19.5558 16 18.7927 16 17.9971V6.99707H17C17.2652 6.99707 17.5196 6.89171 17.7071 6.70418C17.8946 6.51664 18 6.26229 18 5.99707C18 5.73185 17.8946 5.4775 17.7071 5.28996C17.5196 5.10243 17.2652 4.99707 17 4.99707ZM7 3.99707C7 3.73185 7.10536 3.4775 7.29289 3.28996C7.48043 3.10243 7.73478 2.99707 8 2.99707H10C10.2652 2.99707 10.5196 3.10243 10.7071 3.28996C10.8946 3.4775 11 3.73185 11 3.99707V4.99707H7V3.99707ZM14 17.9971C14 18.2623 13.8946 18.5166 13.7071 18.7042C13.5196 18.8917 13.2652 18.9971 13 18.9971H5C4.73478 18.9971 4.48043 18.8917 4.29289 18.7042C4.10536 18.5166 4 18.2623 4 17.9971V6.99707H14V17.9971ZM11 16.9971C11.2652 16.9971 11.5196 16.8917 11.7071 16.7042C11.8946 16.5166 12 16.2623 12 15.9971V9.99707C12 9.73185 11.8946 9.4775 11.7071 9.28996C11.5196 9.10243 11.2652 8.99707 11 8.99707C10.7348 8.99707 10.4804 9.10243 10.2929 9.28996C10.1054 9.4775 10 9.73185 10 9.99707V15.9971C10 16.2623 10.1054 16.5166 10.2929 16.7042C10.4804 16.8917 10.7348 16.9971 11 16.9971Z" fill="#FF6868"/>
                                                                </svg>
                                                                <svg class="cursor-pointer" (click)="editRow(item, i)" width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <path d="M3 17.0029H7.24C7.37161 17.0036 7.50207 16.9784 7.62391 16.9286C7.74574 16.8789 7.85656 16.8055 7.95 16.7129L14.87 9.78287L17.71 7.00287C17.8037 6.90991 17.8781 6.7993 17.9289 6.67745C17.9797 6.55559 18.0058 6.42488 18.0058 6.29287C18.0058 6.16086 17.9797 6.03015 17.9289 5.90829C17.8781 5.78643 17.8037 5.67583 17.71 5.58287L13.47 1.29287C13.377 1.19914 13.2664 1.12475 13.1446 1.07398C13.0227 1.02321 12.892 0.99707 12.76 0.99707C12.628 0.99707 12.4973 1.02321 12.3754 1.07398C12.2536 1.12475 12.143 1.19914 12.05 1.29287L9.23 4.12287L2.29 11.0529C2.19732 11.1463 2.12399 11.2571 2.07423 11.379C2.02446 11.5008 1.99924 11.6313 2 11.7629V16.0029C2 16.2681 2.10536 16.5224 2.29289 16.71C2.48043 16.8975 2.73478 17.0029 3 17.0029ZM12.76 3.41287L15.59 6.24287L14.17 7.66287L11.34 4.83287L12.76 3.41287ZM4 12.1729L9.93 6.24287L12.76 9.07287L6.83 15.0029H4V12.1729ZM19 19.0029H1C0.734784 19.0029 0.48043 19.1082 0.292893 19.2958C0.105357 19.4833 0 19.7377 0 20.0029C0 20.2681 0.105357 20.5224 0.292893 20.71C0.48043 20.8975 0.734784 21.0029 1 21.0029H19C19.2652 21.0029 19.5196 20.8975 19.7071 20.71C19.8946 20.5224 20 20.2681 20 20.0029C20 19.7377 19.8946 19.4833 19.7071 19.2958C19.5196 19.1082 19.2652 19.0029 19 19.0029Z" fill="#FFAD0E"/>
                                                                </svg>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </ng-container>
                                                
                                            </tbody>
                                        </table>
                                    </div>                                    
                                </div>
                            <!-- </div> -->
                        </form>
                    </div>
                    <div *ngIf="!readonly && isSurgery" [class]="isSurgery ? 'tab-pane fade show active p-2 surgery_req' : 'tab-pane fade p-2 surgery_req'" id="surgery_req" role="tabpanel" [class.d-none]="doctorDetails[0].EmpSpecialisationId && doctorDetails[0].EmpSpecialisationId == '50' && !readonly">
                        <form [formGroup]="surgeryForm">
                            <div class="card card-style-1 h-100">
                                <div class="card-header py-2 justify-content-between" id="toggle_header_surgery_req">
                                    <div class="d-flex align-items-center">
                                        <h2 class="card-heading"> {{langData?.Advice?.Surgery}} </h2>
                                    </div>
                                    <div class="d-flex align-items-center gap-2">
                                        <button class="btn btn-danger-outline" *ngIf="enableCancelSurReq" (click)="cancelSurgeryRequest()">Cancel Surgery Request</button>
                                        <button class="btn btn-main-outline" (click)="showViewSurgeryPopup()">View Surgery Requests</button> 
                                        <button class="btn btn-danger-outline" (click)="clearSurgery()">{{langData?.common?.Clear}}</button>
                                        <!-- <button class="btn btn-main-outline ms-2"  (click)="saveSurgery('save')">{{langData?.common?.Save}}</button>  -->
                                        <button class="btn btn-main-outline" *ngIf="!disableSave&&!endofEpisode" (click)="onSaveClick()">Save & Schedule</button> 
                                        <!-- *ngIf="!endofEpisode" -->
                                    </div>
                                    
                                </div>
                                <div class="p-2" id="surgery_req_body">
                                    <div class="row gy-2 gx-3 align-items-center">
                                        <div class="col-md-4">
                                            <div class="d-flex flex-column align-items-start">
                                                <label for="" class="form-label me-3 text-nowrap">{{langData?.Advice?.SurgeryName}}</label>
                                                <div class="d-flex align-items-center input-group">
                                                    <input #surgeryInput type="text" [class]="(surgeryRequestSubmitted && this.surgeryTableForm.value.items.length === 0) ? 'form-control border-danger-300' : 'form-control'" placeholder={{langData?.common?.Search}} autocomplete="off"
                                                    aria-label="Country Name" formControlName="SurgeryName"  [matAutocomplete]="autoSurgery" (mousedown)="onSurgeriesMousedown($event)" (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : fetchSurgeries($event)">
                                                    <mat-autocomplete #autoSurgery="matAutocomplete">
                                                        <mat-option *ngFor="let item of listOfSurgeryItems" (onSelectionChange)="selectSurgeryItem(item)"  >
                                                            {{item.Name}} 
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                    <button type="button" id="button-addon2" class="btn btn-secondary-fill btn-icon">
                                                        <img src="assets/images/icons/icon-search.svg" alt="">
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-2">
                                            <div class="d-flex flex-column align-items-start">
                                                <label for="" class="form-label text-nowrap">{{langData?.Advice?.FastingTime}}</label>
                                                <div class="d-flex align-items-center gap-2">
                                                    <!-- <input type="text" [class]="(surgeryRequestSubmitted && !this.surgeryForm.get('FastingTime').value) ? 
                                                        'form-control w-50 border-danger-300' : 'form-control w-50'" formControlName="FastingTime" (input)="onFastingTimeInput($event)" 
                                                        numbersOnly maxlength="2"> -->
                                                    <select name="" id="" class="form-select pe-5 fs-8" formControlName="FastingTime" (change)="onFastingTimeInput($event)">
                                                        <option selected *ngFor="let ftm of fastingtimearr; let i = index" value="{{ftm}}">{{ftm}}</option>
                                                    </select>
                                                    <label for="" class="form-label text-nowrap">hrs</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <div class="d-flex align-items-center gap-3">
                                                <div class="d-flex align-items-center gap-2">
                                                    <label for="" class="form-label m-0">{{langData?.Advice?.BloodRequired}}</label>
                                                    <div class="custom_toggle" (click)="toggleBloodRequired()">
                                                        <input type="checkbox" class="toggle" id="" [checked]="IsBloodRequired === 1 ? 'true' : ''"/>
                                                        <label for="">
                                                            <span class="on" *ngIf="IsBloodRequired === 1">{{langData?.common?.yes}}</span>
                                                            <span class="off" *ngIf="IsBloodRequired === 0">{{langData?.common?.no}}</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="d-flex align-items-center gap-2">
                                                    <label for="" class="form-label m-0">Infected</label>
                                                    <div class="custom_toggle" (click)="toggleInfected()">
                                                        <input type="checkbox" class="toggle" id="" [checked]="IsInfected === 1 ? 'true' : ''"/>
                                                        <label for="">
                                                            <span class="on" *ngIf="IsInfected === 1">{{langData?.common?.yes}}</span>
                                                            <span class="off" *ngIf="IsInfected === 0">{{langData?.common?.no}}</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                
                                            </div>
                                            <div class="d-flex flex-column align-items-start d-none">
                                                
                                                <div class="d-flex align-items-center gap-2">
                                                    <div>
                                                        <label for="" class="form-label me-3 text-nowrap" required>{{langData?.Advice?.ProposedDateTime}}</label>
                                                        <mat-form-field appearance="fill" style="width: 10rem;">
                                                            <mat-label translate>dd-MM-yyyy</mat-label>
                                                            <input matInput class="" formControlName="ProposedDate"
                                                                [matDatepicker]="ProposedDate"
                                                                (click)="ProposedDate.open()" [min]="minDate">
                                                            <mat-datepicker-toggle matSuffix [for]="ProposedDate">
                                                            </mat-datepicker-toggle>
                                                            <mat-datepicker #ProposedDate></mat-datepicker>
                                                        </mat-form-field>  
                                                    </div>
                                                    
                                                    <div>
                                                        <label for="" class="form-label me-3 text-nowrap" required>{{langData?.Advice?.ProposedDateTimes}}</label>                                                   
                                                    <div class="d-flex align-items-center">
                                                        <input type="time" formControlName="ProposedTime" class="form-control me-2" pattern="(?:[01]\d|2[0-3]):(?:[0-5]\d)">
                                                        <label for="" class="form-label ms-2 text-nowrap">24hrs</label>
                                                    </div>
                                                    
                                                    </div>   
                                                </div>
                                            </div>
                                        
                                        </div>
                                        <div class="col d-flex align-items-center justify-content-end gap-2">
                                            <div class="custom_check d-flex align-items-center gap-1" [class.active]="this.surgeryForm.get('Consent').value === true" (click)="toggleCheckboxSelection()">
                                                <svg style="min-width: 1rem;" width="16" height="16" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg"><circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle><path d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z" fill="white" stroke="white" stroke-width="0.25"></path></svg>                          
                                                <p class="m-0 fs-7 text-nowrap">{{langData?.Advice?.Consenttaken}}</p>
                                            </div>
                                            <div class="high_risk_btn">
                                                <div class="custom_check btn btn-danger-outline d-flex align-items-center gap-1" [class.active]="this.surgeryForm.get('HighRiskPatient').value === true" (click)="toggleHighRiskCheckboxSelection()">
                                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <circle cx="11.7549" cy="12.0645" r="11.6299" fill="white"/>
                                                        <path d="M5.24902 12.9473L9.17285 16.8713L18.2599 10.4689" stroke="#E63C1A" stroke-width="2"/>
                                                    </svg>  
                                                    <p class="m-0 fs-7">High Risk Patient</p>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="col">
                                            <div class="d-flex align-items-center gap-2"> -->
                                            
                                                <!--<div class="high_risk_btn">
                                                    <button class="btn btn-danger-outline d-flex align-items-center gap-1" [class.active]="this.surgeryForm.get('HighRiskPatient').value === true" (click)="toggleHighRiskCheckboxSelection()">
                                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <circle cx="11.7549" cy="12.0645" r="11.6299" fill="white"/>
                                                            <path d="M5.24902 12.9473L9.17285 16.8713L18.2599 10.4689" stroke="#E63C1A" stroke-width="2"/>
                                                        </svg>                                                                                                     
                                                        High Risk Patient</button> 

                                                        <div class="col">
                                                            <div class="custom_check btn btn-danger-outline d-flex align-items-center gap-1" [class.active]="this.surgeryForm.get('HighRiskPatient').value === true" (click)="toggleHighRiskCheckboxSelection()">
                                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <circle cx="11.7549" cy="12.0645" r="11.6299" fill="white"/>
                                                                    <path d="M5.24902 12.9473L9.17285 16.8713L18.2599 10.4689" stroke="#E63C1A" stroke-width="2"/>
                                                                </svg>    
                                                                <p class="m-0 fs-7">High Risk Patient</p>
                                                            </div>
                                                        </div>
                                                </div>-->
                                            <!-- </div>
                                        </div>                                  -->
                                    </div>
                                    <form [formGroup]="surgeryTableForm">
                                        <div class="mt-3 surgery_table" formArrayName="items">
                                            <table class="table m-0">
                                                <thead>
                                                    <tr>
                                                        <th>{{langData?.Advice?.SurgeryCode}}</th>
                                                        <th style="width:25%">{{langData?.Advice?.SurgeryName}}</th>
                                                        <th style="width:9%">{{langData?.Advice?.Priority}}</th>
                                                        <th>{{langData?.Diagnosis?.Primary}}</th>
                                                        <th>{{langData?.Advice?.Site}}</th>
                                                        <th style="width:15%">{{langData?.common?.Department}}</th>
                                                        <th style="width:17%">{{langData?.Advice?.Surgeon}}</th>                                                   
                                                        <th style="width:14%">{{langData?.Advice?.EstTime}}</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let item of items.controls; let i = index"  [formGroupName]="i">
                                                        <!-- <td><input type="radio" class="form-check-input"></td> -->
                                                        <td>{{item.get('SurgeryCode')?.value}}</td>
                                                        <td>{{item.get('SurgeryName')?.value}}</td>
                                                        <td>
                                                            <select name="" id="" class="form-select pe-5 fs-8" formControlName="Priority">
                                                                <option value="">{{langData?.appointment?.select}}</option>
                                                                <option *ngFor="let item of priorities; let i = index" value="{{item.id}}">{{item.name}}</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <div [class.active]="item.get('Primary')?.value === true" class="custom_check d-flex align-items-center gap-2" (click)="togglePrimary(item)">
                                                                <svg width="16" height="16" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg"><circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle><path d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z" fill="white" stroke="white" stroke-width="0.25"></path></svg>                          
                                                                <p class="m-0 fs-7"></p>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <!-- <img (click)="getImage(i)"  style="height: 40px;" [src]="imageUrl" alt=""> --> 
                                                            <svg class="cursor-pointer" (click)="getImage(i)" xmlns="http://www.w3.org/2000/svg" width="20" height="30" viewBox="0 0 264 680" fill="none">
                                                                <mask id="path-1-inside-1_6946_28021" fill="white">
                                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M255.376 357.834C254.361 356.118 253.42 354.361 252.384 352.645C251.003 350.375 250.281 347.864 249.716 345.28C249.015 342.047 248.252 338.835 247.498 335.613C246.881 332.966 245.626 330.727 243.774 328.655C241.2 325.757 238.972 322.545 236.66 319.417C236.21 318.821 235.959 318.005 235.875 317.262C235.666 315.724 235.655 314.155 235.509 312.606C235.09 308.495 234.536 304.394 234.232 300.271C233.741 293.335 233.437 286.378 233.008 279.431C232.653 273.802 232.339 268.174 231.847 262.555C231.073 253.757 229.315 245.146 225.884 236.934C225.643 236.348 225.601 235.615 225.653 234.967C225.789 233.324 226.124 231.692 226.208 230.05C226.469 224.934 226.292 219.807 225.57 214.754C223.958 203.612 221.019 192.595 217.618 181.892C217.325 180.94 217.127 179.894 217.148 178.9C217.21 177.31 217.556 175.73 217.681 174.14C217.817 172.403 217.713 170.635 217.932 168.919C218.455 165.017 218.319 161.146 217.639 157.296C216.551 151.029 213.716 144.166 210.033 137.941C206.476 131.915 201.904 128.515 196.82 125.209C194.434 123.671 191.955 122.593 189.214 121.85C186.431 121.097 183.501 121.076 180.792 119.862C179.62 119.339 178.354 119.046 177.214 118.44C172.443 115.929 167.756 113.25 162.964 110.802C159.47 109.013 155.871 107.475 152.282 105.948C151.016 105.404 150.901 105.519 150.776 104.242C150.075 96.9399 151.613 89.2502 151.613 89.0096C151.613 88.9573 151.592 88.9259 151.581 88.8841C151.644 88.8004 151.707 88.7167 151.77 88.633C152.774 87.0218 153.538 85.3269 153.82 83.4333C154.019 82.1046 154.218 80.7759 154.406 79.4368C155.902 79.6565 157.398 79.5309 158.141 78.4638C158.696 77.6582 158.884 76.7375 159.344 75.8587C159.815 74.938 160.631 74.2161 161.29 73.442C162.671 71.7994 162.985 69.4663 163.017 67.2693C163.027 65.292 163.393 60.6049 160.778 60.0923C160.213 59.9877 159.47 60.4375 158.8 60.9816C158.8 60.9502 158.8 60.9188 158.811 60.8874C159.062 58.931 159.02 56.9536 159.491 55.0181C161.175 48.0608 160.119 41.1872 157.064 35.4016C153.119 27.9421 145.806 22.303 136.662 20.65C114.891 16.7163 96.6866 32.1793 99.3545 54.6624C99.5846 56.6293 100.254 58.502 100.83 60.3957C100.924 60.6363 101.018 60.8665 101.112 61.1071C100.401 60.5108 99.5846 59.9772 98.9778 60.0923C96.3623 60.6049 96.718 65.292 96.7389 67.2693C96.7599 69.4663 97.0842 71.7889 98.4547 73.442C99.1034 74.2161 99.9299 74.9485 100.401 75.8587C100.861 76.7375 101.049 77.6582 101.604 78.4638C102.504 79.7611 104.491 79.6774 106.28 79.2694C106.416 79.9285 106.479 80.6085 106.511 81.2781C106.647 83.6216 107.191 85.8291 108.436 87.8169C108.969 88.6539 109.555 89.4804 110.11 90.2964C110.434 93.9791 111.135 101.46 111.313 102.987C111.543 104.996 110.664 105.634 108.718 106.555C108.54 106.628 108.352 106.712 108.174 106.795C104.983 108.365 101.75 109.882 98.6012 111.587C94.3013 113.92 90.0746 116.42 85.806 118.879C83.6403 120.124 81.4538 121.285 79.0475 121.704C78.0431 121.882 77.0074 121.986 76.0135 122.279C73.8478 122.949 71.5147 123.315 69.6002 124.424C63.0927 128.222 57.3699 131.946 53.0386 139.72C47.9122 148.916 44.1353 159.535 45.6524 170.196C45.6837 170.478 45.6733 170.782 45.6524 171.064C45.485 172.968 45.7988 174.83 46.1545 176.693C46.5102 178.555 46.6986 180.47 46.1022 182.321C43.0159 191.967 40.2957 201.844 38.5904 211.846C37.2408 219.723 36.6549 227.675 37.879 235.657C38.0255 236.62 37.8581 237.467 37.5023 238.336C35.7447 242.625 34.3742 247.03 33.443 251.57C31.654 260.327 31.0368 269.199 30.5764 278.092C30.3672 282.172 30.2835 286.252 30.0219 290.332C29.6976 295.386 29.2582 300.418 28.8397 305.461C28.5677 308.756 28.0864 312.041 27.9609 315.337C27.8667 317.911 27.3436 320.181 25.6488 322.211C23.368 324.931 21.2756 327.808 19.0053 330.528C18.0532 331.668 17.143 332.788 16.7769 334.232C15.783 338.144 14.7891 342.047 13.8684 345.981C13.3557 348.157 12.9163 350.364 11.8283 352.352C10.6461 354.528 9.3906 356.662 8.14561 358.807C7.39233 360.083 7.75851 361.088 9.22321 361.412C11.483 361.893 13.7115 361.914 15.5633 360.24C16.7036 359.205 17.7708 358.075 18.8484 356.955C19.1936 356.589 19.4761 356.15 19.7795 355.742C19.8737 355.784 19.9678 355.825 20.062 355.867C20.0201 356.38 19.9992 356.882 19.9364 357.405C19.497 361.36 18.9948 365.325 18.5973 369.28C18.252 372.722 17.9905 376.153 17.7498 379.606C17.6452 380.955 17.6766 382.326 17.6975 383.676C17.6975 384.314 18.1265 384.753 18.7228 384.962C19.2773 385.151 19.5807 384.753 19.9469 384.408C22.1021 382.399 23.1378 379.794 23.8493 377.043C25.1256 372.052 26.2869 367.03 27.5215 362.019C27.6052 361.705 27.8144 361.412 27.9609 361.109C28.2747 361.444 28.3271 361.716 28.3166 361.977C28.2748 363.243 28.212 364.509 28.1492 365.775C27.9923 368.934 27.8144 372.094 27.6679 375.243C27.4796 379.072 27.4378 382.912 27.9609 386.731C28.3166 386.877 28.6618 386.95 28.9339 387.128C29.729 387.63 30.4509 387.473 31.0158 386.814C31.3715 386.385 31.6645 385.873 31.8319 385.339C33.2024 381.207 33.7046 376.896 34.4474 372.638C34.8554 370.253 35.1379 367.825 35.4727 365.419C35.6192 365.796 35.7133 366.172 35.7133 366.549C35.7447 370.776 35.7343 375.013 35.8179 379.25C35.8493 380.746 36.0586 382.242 36.2783 383.728C36.4143 384.669 37.042 385.182 37.9208 385.297C38.5381 385.381 39.4169 384.816 39.7308 384.063C39.8982 383.665 39.961 383.226 40.0237 382.797C40.3376 380.767 40.6305 378.727 40.9862 376.373C41.5826 377.848 42.0325 379.02 42.5242 380.171C43.2042 381.782 43.2251 381.761 44.9828 381.51C45.1606 381.479 45.3385 381.479 45.6524 381.447C45.8093 380.662 46.0918 379.909 46.1022 379.166C46.1441 377.074 46.0499 374.982 46.029 372.889C45.9871 367.867 45.4326 362.835 46.6776 357.813C47.3786 354.967 47.2426 351.923 47.4518 348.973C47.5251 348 47.4205 347.016 47.5146 346.054C47.8912 342.183 48.1528 338.312 47.9854 334.42C47.8285 330.706 47.5565 327.013 46.4056 323.476C45.9662 322.158 46.0395 321.07 46.4893 319.857C48.1633 315.337 49.9732 310.87 51.417 306.277C54.8276 295.427 58.1232 284.526 61.3979 273.635C63.4589 266.793 64.7667 259.846 64.5051 252.648C64.4423 250.817 64.7144 248.976 64.7667 247.124C64.8294 244.885 64.8713 242.656 64.7981 240.428C64.7562 239.078 64.9445 237.865 65.635 236.662C67.6438 233.157 69.1398 229.401 70.5313 225.603C72.0065 221.575 73.1678 217.464 74.1407 213.3C74.2558 212.777 74.2872 212.18 74.8626 211.72C75.574 213.321 76.2436 214.817 76.8923 216.334C77.0178 216.637 77.0074 217.003 77.0492 217.338C77.6665 223.134 78.2524 228.941 78.8696 234.747C79.2149 237.99 79.7694 241.213 79.9577 244.445C80.1669 248.139 80.0414 251.842 80.1146 255.535C80.2088 260.107 80.3029 264.679 80.5226 269.241C80.6168 271.019 81.0562 272.787 81.4119 274.545C81.6735 275.842 81.8513 277.087 81.3805 278.406C80.8993 279.724 80.5645 281.115 80.2715 282.475C79.0265 288.313 78.064 294.151 79.4973 300.104C79.6334 300.7 79.6124 301.38 79.4973 301.987C78.8173 305.523 78.064 309.049 77.3945 312.575C75.2288 324.073 73.0318 335.602 71.0335 347.142C70.05 352.823 69.4119 358.598 68.8364 364.352C68.0622 372.199 67.7484 380.077 67.9158 387.965C68.0204 392.83 68.2087 397.684 68.533 402.539C68.7109 405.144 69.3491 407.728 69.6106 410.323C70.3744 417.876 71.7972 425.336 72.4354 432.889C72.8644 437.964 73.0945 442.964 72.2052 448.007C70.9916 454.87 70.5941 461.817 70.8556 468.775C70.9079 470.26 70.7301 471.641 70.2174 473.043C67.9785 479.205 66.7859 485.702 66.1686 492.116C63.846 516.524 64.4737 540.859 66.1163 565.518C66.1163 565.518 66.8905 584.685 66.8905 589.026C66.8905 593.368 65.5513 599.645 63.5531 603.757C57.893 615.412 48.1633 626.083 39.804 636.399C35.4622 641.766 34.824 640.929 32.6898 642.624C30.702 644.193 30.4299 645.03 29.3105 646.809C28.2434 648.504 28.8606 649.738 28.8606 649.738C27.5842 653.191 29.9801 653.63 29.9801 653.63C31.518 656.444 34.0708 655.555 34.0708 655.555C37.6488 659.133 39.7831 656.277 39.7831 656.277C43.8738 661.006 48.09 659.981 52.9445 655.775C57.7989 651.559 57.349 653.348 59.975 652.312C71.2846 647.886 71.8181 636.723 81.5793 631.22C92.3553 625.152 95.1173 618.571 93.8514 614.355C92.575 610.139 91.8113 604.123 91.8113 604.123C92.9621 603.359 93.3388 600.932 92.7006 598.505C90.65 590.732 91.4242 589.811 92.9935 573.752C95.3475 559.146 97.3353 542.554 104.272 529.915C106.751 525.396 108.383 520.165 108.98 514.829C109.409 510.853 109.388 506.867 109.273 502.881C109.137 497.964 108.582 493.089 107.871 488.224C107.348 484.614 106.824 481.005 106.291 477.406C106.176 476.611 106.28 475.899 106.762 475.198C108.111 473.2 108.98 470.982 109.618 468.68C110.852 464.161 111.564 459.557 111.595 454.86C111.616 452.328 111.689 449.796 111.909 447.285C112.066 445.371 112.118 443.414 113.06 441.615C117.14 433.8 120.404 425.629 122.926 417.175C125.374 409.025 127.173 400.697 129.056 392.401C130.626 385.444 132.216 378.476 133.785 371.539C133.89 372.209 133.974 372.91 134.141 373.601C134.633 375.683 135.166 377.754 135.689 379.826C137.416 386.804 139.205 393.803 140.847 400.792C144.174 414.874 148.851 428.757 155.787 441.521C155.766 441.521 155.766 441.521 155.735 441.542C155.955 441.96 156.143 442.4 156.31 442.839C156.363 443.08 156.436 443.31 156.467 443.55C156.98 448.185 157.43 451.334 157.482 452.694H157.503C157.513 453.416 157.545 454.128 157.545 454.86C157.566 458.344 157.984 463.041 159.533 468.68C160.16 470.982 161.039 473.211 162.389 475.198C162.755 475.742 164.126 478.086 162.159 489.647C161.332 494.49 161.228 499.418 161.259 504.335C161.28 508.332 161.384 512.307 161.96 516.273C162.734 521.577 164.575 526.766 167.17 531.192C174.295 543.307 175.791 559.827 178.448 574.034C180.562 590.031 181.011 590.282 179.233 598.097C178.678 600.545 179.589 603.569 180.76 604.291C180.76 604.291 180.216 608.287 179.599 612.65C178.532 620.392 179.756 624.702 191.076 631.367C200.869 637.131 201.182 648.42 212.89 652.521C215.547 653.452 215.38 652.061 220.025 656.518C224.9 661.184 228.928 661.121 232.851 656.256C232.851 656.256 235.205 658.715 238.459 655.607C238.459 655.607 241.503 656.298 242.602 653.588C242.602 653.588 245.406 652.521 243.439 649.78C243.439 649.78 245.374 648.66 241.043 643.586C239.809 642.153 237.674 642.728 233.176 636.838C226.731 628.416 220.391 619.837 214.291 611.227C211.435 607.189 208.443 603.872 207.261 599.311C206.079 594.749 205.503 594.174 205.43 589.905C205.242 578.815 205.744 567.359 206.016 556.092C205.88 534.613 206.141 513.437 203.965 492.137C203.515 487.69 200.22 475.638 199.655 474.163C198.933 471.892 198.253 469.538 198.284 468.775C198.546 461.817 198.148 454.87 196.935 448.007C196.077 443.121 195.794 437.629 196.14 432.712C196.318 430.305 196.443 427.868 196.652 425.451C196.903 422.647 197.343 419.854 197.667 417.05C198.065 413.817 198.462 410.584 198.808 407.341C199.142 404.307 199.582 401.252 199.676 398.197C199.833 393.384 199.749 388.572 199.728 383.77C199.697 375.735 199.1 367.721 197.971 359.78C197.029 353.084 196.035 346.389 194.811 339.756C193.535 332.882 191.986 326.04 190.522 319.197C189.172 312.878 187.749 306.559 186.399 300.24C186.295 299.738 186.284 299.162 186.399 298.66C187.195 294.685 187.069 290.709 186.337 286.775C185.782 283.71 184.997 280.697 184.244 277.684C183.941 276.428 183.868 275.215 184.098 273.938C184.38 272.306 184.746 270.664 184.788 269.021C184.872 265.579 184.799 262.116 184.767 258.664C184.725 255.786 184.537 252.92 184.631 250.053C184.778 245.638 185.05 241.213 185.395 236.798C185.918 230.102 186.546 223.417 187.142 216.742C187.226 215.832 188.607 212.818 189.287 212.044C189.423 212.494 189.549 212.913 189.653 213.331C191.547 221.314 194.236 229.014 198.18 236.233C198.588 236.986 198.776 237.75 198.734 238.608C198.672 239.863 198.577 241.129 198.619 242.384C198.724 245.596 199.1 248.798 199.017 251.999C198.86 258.643 199.958 265.087 201.789 271.427C203.149 276.093 204.645 280.718 206.047 285.373C208.569 293.764 210.808 302.228 213.936 310.42C215.108 313.464 216.164 316.551 217.305 319.595C217.608 320.401 217.66 321.133 217.284 321.97C216.917 322.796 216.719 323.728 216.541 324.627C215.652 329.325 215.264 334.064 215.599 338.845C215.777 341.231 215.997 343.595 216.049 345.981C216.154 350.647 216.154 355.313 217.556 359.832C217.608 360.021 217.629 360.219 217.629 360.408C217.629 364.007 217.629 367.616 217.587 371.215C217.566 373.444 217.399 375.683 217.409 377.921C217.409 378.758 217.692 379.606 217.849 380.401C218.372 380.474 218.696 380.516 219.02 380.568C220.203 380.778 220.276 380.746 220.778 379.627C221.134 378.821 221.479 378.026 221.814 377.22C222.013 376.718 222.18 376.216 222.358 375.714C222.891 377.817 223.184 379.826 223.488 381.845C223.55 382.221 223.603 382.619 223.749 382.975C224.053 383.697 224.973 384.356 225.517 384.303C226.344 384.209 227.097 383.56 227.244 382.629C227.453 381.301 227.683 379.941 227.714 378.591C227.788 374.27 227.746 369.928 227.788 365.597C227.788 365.22 227.882 364.833 227.955 364.258C228.572 368.181 229.074 371.895 229.744 375.567C230.288 378.528 230.989 381.468 231.69 384.387C232.14 386.249 233.217 386.699 234.902 385.904C235.111 385.799 235.331 385.737 235.582 385.642C236.597 377.116 235.132 368.673 235.289 360.01C235.959 360.429 235.979 360.91 236.084 361.36C236.565 363.442 237.005 365.545 237.538 367.606C238.166 370.064 238.951 372.471 239.484 374.94C240.164 378.089 241.2 381.008 243.544 383.32C243.899 383.676 244.171 384.115 244.747 383.937C245.343 383.738 245.73 383.309 245.824 382.671C245.866 382.441 245.866 382.179 245.856 381.939C245.615 378.068 245.479 374.176 245.134 370.305C244.653 364.99 244.025 359.675 243.439 354.267C243.857 354.811 244.213 355.313 244.611 355.784C245.301 356.61 245.971 357.437 246.724 358.19C248.796 360.282 251.275 361.036 254.184 360.397C255.68 360.063 256.161 359.006 255.387 357.73L255.376 357.834Z"/>
                                                                </mask>
                                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M255.376 357.834C254.361 356.118 253.42 354.361 252.384 352.645C251.003 350.375 250.281 347.864 249.716 345.28C249.015 342.047 248.252 338.835 247.498 335.613C246.881 332.966 245.626 330.727 243.774 328.655C241.2 325.757 238.972 322.545 236.66 319.417C236.21 318.821 235.959 318.005 235.875 317.262C235.666 315.724 235.655 314.155 235.509 312.606C235.09 308.495 234.536 304.394 234.232 300.271C233.741 293.335 233.437 286.378 233.008 279.431C232.653 273.802 232.339 268.174 231.847 262.555C231.073 253.757 229.315 245.146 225.884 236.934C225.643 236.348 225.601 235.615 225.653 234.967C225.789 233.324 226.124 231.692 226.208 230.05C226.469 224.934 226.292 219.807 225.57 214.754C223.958 203.612 221.019 192.595 217.618 181.892C217.325 180.94 217.127 179.894 217.148 178.9C217.21 177.31 217.556 175.73 217.681 174.14C217.817 172.403 217.713 170.635 217.932 168.919C218.455 165.017 218.319 161.146 217.639 157.296C216.551 151.029 213.716 144.166 210.033 137.941C206.476 131.915 201.904 128.515 196.82 125.209C194.434 123.671 191.955 122.593 189.214 121.85C186.431 121.097 183.501 121.076 180.792 119.862C179.62 119.339 178.354 119.046 177.214 118.44C172.443 115.929 167.756 113.25 162.964 110.802C159.47 109.013 155.871 107.475 152.282 105.948C151.016 105.404 150.901 105.519 150.776 104.242C150.075 96.9399 151.613 89.2502 151.613 89.0096C151.613 88.9573 151.592 88.9259 151.581 88.8841C151.644 88.8004 151.707 88.7167 151.77 88.633C152.774 87.0218 153.538 85.3269 153.82 83.4333C154.019 82.1046 154.218 80.7759 154.406 79.4368C155.902 79.6565 157.398 79.5309 158.141 78.4638C158.696 77.6582 158.884 76.7375 159.344 75.8587C159.815 74.938 160.631 74.2161 161.29 73.442C162.671 71.7994 162.985 69.4663 163.017 67.2693C163.027 65.292 163.393 60.6049 160.778 60.0923C160.213 59.9877 159.47 60.4375 158.8 60.9816C158.8 60.9502 158.8 60.9188 158.811 60.8874C159.062 58.931 159.02 56.9536 159.491 55.0181C161.175 48.0608 160.119 41.1872 157.064 35.4016C153.119 27.9421 145.806 22.303 136.662 20.65C114.891 16.7163 96.6866 32.1793 99.3545 54.6624C99.5846 56.6293 100.254 58.502 100.83 60.3957C100.924 60.6363 101.018 60.8665 101.112 61.1071C100.401 60.5108 99.5846 59.9772 98.9778 60.0923C96.3623 60.6049 96.718 65.292 96.7389 67.2693C96.7599 69.4663 97.0842 71.7889 98.4547 73.442C99.1034 74.2161 99.9299 74.9485 100.401 75.8587C100.861 76.7375 101.049 77.6582 101.604 78.4638C102.504 79.7611 104.491 79.6774 106.28 79.2694C106.416 79.9285 106.479 80.6085 106.511 81.2781C106.647 83.6216 107.191 85.8291 108.436 87.8169C108.969 88.6539 109.555 89.4804 110.11 90.2964C110.434 93.9791 111.135 101.46 111.313 102.987C111.543 104.996 110.664 105.634 108.718 106.555C108.54 106.628 108.352 106.712 108.174 106.795C104.983 108.365 101.75 109.882 98.6012 111.587C94.3013 113.92 90.0746 116.42 85.806 118.879C83.6403 120.124 81.4538 121.285 79.0475 121.704C78.0431 121.882 77.0074 121.986 76.0135 122.279C73.8478 122.949 71.5147 123.315 69.6002 124.424C63.0927 128.222 57.3699 131.946 53.0386 139.72C47.9122 148.916 44.1353 159.535 45.6524 170.196C45.6837 170.478 45.6733 170.782 45.6524 171.064C45.485 172.968 45.7988 174.83 46.1545 176.693C46.5102 178.555 46.6986 180.47 46.1022 182.321C43.0159 191.967 40.2957 201.844 38.5904 211.846C37.2408 219.723 36.6549 227.675 37.879 235.657C38.0255 236.62 37.8581 237.467 37.5023 238.336C35.7447 242.625 34.3742 247.03 33.443 251.57C31.654 260.327 31.0368 269.199 30.5764 278.092C30.3672 282.172 30.2835 286.252 30.0219 290.332C29.6976 295.386 29.2582 300.418 28.8397 305.461C28.5677 308.756 28.0864 312.041 27.9609 315.337C27.8667 317.911 27.3436 320.181 25.6488 322.211C23.368 324.931 21.2756 327.808 19.0053 330.528C18.0532 331.668 17.143 332.788 16.7769 334.232C15.783 338.144 14.7891 342.047 13.8684 345.981C13.3557 348.157 12.9163 350.364 11.8283 352.352C10.6461 354.528 9.3906 356.662 8.14561 358.807C7.39233 360.083 7.75851 361.088 9.22321 361.412C11.483 361.893 13.7115 361.914 15.5633 360.24C16.7036 359.205 17.7708 358.075 18.8484 356.955C19.1936 356.589 19.4761 356.15 19.7795 355.742C19.8737 355.784 19.9678 355.825 20.062 355.867C20.0201 356.38 19.9992 356.882 19.9364 357.405C19.497 361.36 18.9948 365.325 18.5973 369.28C18.252 372.722 17.9905 376.153 17.7498 379.606C17.6452 380.955 17.6766 382.326 17.6975 383.676C17.6975 384.314 18.1265 384.753 18.7228 384.962C19.2773 385.151 19.5807 384.753 19.9469 384.408C22.1021 382.399 23.1378 379.794 23.8493 377.043C25.1256 372.052 26.2869 367.03 27.5215 362.019C27.6052 361.705 27.8144 361.412 27.9609 361.109C28.2747 361.444 28.3271 361.716 28.3166 361.977C28.2748 363.243 28.212 364.509 28.1492 365.775C27.9923 368.934 27.8144 372.094 27.6679 375.243C27.4796 379.072 27.4378 382.912 27.9609 386.731C28.3166 386.877 28.6618 386.95 28.9339 387.128C29.729 387.63 30.4509 387.473 31.0158 386.814C31.3715 386.385 31.6645 385.873 31.8319 385.339C33.2024 381.207 33.7046 376.896 34.4474 372.638C34.8554 370.253 35.1379 367.825 35.4727 365.419C35.6192 365.796 35.7133 366.172 35.7133 366.549C35.7447 370.776 35.7343 375.013 35.8179 379.25C35.8493 380.746 36.0586 382.242 36.2783 383.728C36.4143 384.669 37.042 385.182 37.9208 385.297C38.5381 385.381 39.4169 384.816 39.7308 384.063C39.8982 383.665 39.961 383.226 40.0237 382.797C40.3376 380.767 40.6305 378.727 40.9862 376.373C41.5826 377.848 42.0325 379.02 42.5242 380.171C43.2042 381.782 43.2251 381.761 44.9828 381.51C45.1606 381.479 45.3385 381.479 45.6524 381.447C45.8093 380.662 46.0918 379.909 46.1022 379.166C46.1441 377.074 46.0499 374.982 46.029 372.889C45.9871 367.867 45.4326 362.835 46.6776 357.813C47.3786 354.967 47.2426 351.923 47.4518 348.973C47.5251 348 47.4205 347.016 47.5146 346.054C47.8912 342.183 48.1528 338.312 47.9854 334.42C47.8285 330.706 47.5565 327.013 46.4056 323.476C45.9662 322.158 46.0395 321.07 46.4893 319.857C48.1633 315.337 49.9732 310.87 51.417 306.277C54.8276 295.427 58.1232 284.526 61.3979 273.635C63.4589 266.793 64.7667 259.846 64.5051 252.648C64.4423 250.817 64.7144 248.976 64.7667 247.124C64.8294 244.885 64.8713 242.656 64.7981 240.428C64.7562 239.078 64.9445 237.865 65.635 236.662C67.6438 233.157 69.1398 229.401 70.5313 225.603C72.0065 221.575 73.1678 217.464 74.1407 213.3C74.2558 212.777 74.2872 212.18 74.8626 211.72C75.574 213.321 76.2436 214.817 76.8923 216.334C77.0178 216.637 77.0074 217.003 77.0492 217.338C77.6665 223.134 78.2524 228.941 78.8696 234.747C79.2149 237.99 79.7694 241.213 79.9577 244.445C80.1669 248.139 80.0414 251.842 80.1146 255.535C80.2088 260.107 80.3029 264.679 80.5226 269.241C80.6168 271.019 81.0562 272.787 81.4119 274.545C81.6735 275.842 81.8513 277.087 81.3805 278.406C80.8993 279.724 80.5645 281.115 80.2715 282.475C79.0265 288.313 78.064 294.151 79.4973 300.104C79.6334 300.7 79.6124 301.38 79.4973 301.987C78.8173 305.523 78.064 309.049 77.3945 312.575C75.2288 324.073 73.0318 335.602 71.0335 347.142C70.05 352.823 69.4119 358.598 68.8364 364.352C68.0622 372.199 67.7484 380.077 67.9158 387.965C68.0204 392.83 68.2087 397.684 68.533 402.539C68.7109 405.144 69.3491 407.728 69.6106 410.323C70.3744 417.876 71.7972 425.336 72.4354 432.889C72.8644 437.964 73.0945 442.964 72.2052 448.007C70.9916 454.87 70.5941 461.817 70.8556 468.775C70.9079 470.26 70.7301 471.641 70.2174 473.043C67.9785 479.205 66.7859 485.702 66.1686 492.116C63.846 516.524 64.4737 540.859 66.1163 565.518C66.1163 565.518 66.8905 584.685 66.8905 589.026C66.8905 593.368 65.5513 599.645 63.5531 603.757C57.893 615.412 48.1633 626.083 39.804 636.399C35.4622 641.766 34.824 640.929 32.6898 642.624C30.702 644.193 30.4299 645.03 29.3105 646.809C28.2434 648.504 28.8606 649.738 28.8606 649.738C27.5842 653.191 29.9801 653.63 29.9801 653.63C31.518 656.444 34.0708 655.555 34.0708 655.555C37.6488 659.133 39.7831 656.277 39.7831 656.277C43.8738 661.006 48.09 659.981 52.9445 655.775C57.7989 651.559 57.349 653.348 59.975 652.312C71.2846 647.886 71.8181 636.723 81.5793 631.22C92.3553 625.152 95.1173 618.571 93.8514 614.355C92.575 610.139 91.8113 604.123 91.8113 604.123C92.9621 603.359 93.3388 600.932 92.7006 598.505C90.65 590.732 91.4242 589.811 92.9935 573.752C95.3475 559.146 97.3353 542.554 104.272 529.915C106.751 525.396 108.383 520.165 108.98 514.829C109.409 510.853 109.388 506.867 109.273 502.881C109.137 497.964 108.582 493.089 107.871 488.224C107.348 484.614 106.824 481.005 106.291 477.406C106.176 476.611 106.28 475.899 106.762 475.198C108.111 473.2 108.98 470.982 109.618 468.68C110.852 464.161 111.564 459.557 111.595 454.86C111.616 452.328 111.689 449.796 111.909 447.285C112.066 445.371 112.118 443.414 113.06 441.615C117.14 433.8 120.404 425.629 122.926 417.175C125.374 409.025 127.173 400.697 129.056 392.401C130.626 385.444 132.216 378.476 133.785 371.539C133.89 372.209 133.974 372.91 134.141 373.601C134.633 375.683 135.166 377.754 135.689 379.826C137.416 386.804 139.205 393.803 140.847 400.792C144.174 414.874 148.851 428.757 155.787 441.521C155.766 441.521 155.766 441.521 155.735 441.542C155.955 441.96 156.143 442.4 156.31 442.839C156.363 443.08 156.436 443.31 156.467 443.55C156.98 448.185 157.43 451.334 157.482 452.694H157.503C157.513 453.416 157.545 454.128 157.545 454.86C157.566 458.344 157.984 463.041 159.533 468.68C160.16 470.982 161.039 473.211 162.389 475.198C162.755 475.742 164.126 478.086 162.159 489.647C161.332 494.49 161.228 499.418 161.259 504.335C161.28 508.332 161.384 512.307 161.96 516.273C162.734 521.577 164.575 526.766 167.17 531.192C174.295 543.307 175.791 559.827 178.448 574.034C180.562 590.031 181.011 590.282 179.233 598.097C178.678 600.545 179.589 603.569 180.76 604.291C180.76 604.291 180.216 608.287 179.599 612.65C178.532 620.392 179.756 624.702 191.076 631.367C200.869 637.131 201.182 648.42 212.89 652.521C215.547 653.452 215.38 652.061 220.025 656.518C224.9 661.184 228.928 661.121 232.851 656.256C232.851 656.256 235.205 658.715 238.459 655.607C238.459 655.607 241.503 656.298 242.602 653.588C242.602 653.588 245.406 652.521 243.439 649.78C243.439 649.78 245.374 648.66 241.043 643.586C239.809 642.153 237.674 642.728 233.176 636.838C226.731 628.416 220.391 619.837 214.291 611.227C211.435 607.189 208.443 603.872 207.261 599.311C206.079 594.749 205.503 594.174 205.43 589.905C205.242 578.815 205.744 567.359 206.016 556.092C205.88 534.613 206.141 513.437 203.965 492.137C203.515 487.69 200.22 475.638 199.655 474.163C198.933 471.892 198.253 469.538 198.284 468.775C198.546 461.817 198.148 454.87 196.935 448.007C196.077 443.121 195.794 437.629 196.14 432.712C196.318 430.305 196.443 427.868 196.652 425.451C196.903 422.647 197.343 419.854 197.667 417.05C198.065 413.817 198.462 410.584 198.808 407.341C199.142 404.307 199.582 401.252 199.676 398.197C199.833 393.384 199.749 388.572 199.728 383.77C199.697 375.735 199.1 367.721 197.971 359.78C197.029 353.084 196.035 346.389 194.811 339.756C193.535 332.882 191.986 326.04 190.522 319.197C189.172 312.878 187.749 306.559 186.399 300.24C186.295 299.738 186.284 299.162 186.399 298.66C187.195 294.685 187.069 290.709 186.337 286.775C185.782 283.71 184.997 280.697 184.244 277.684C183.941 276.428 183.868 275.215 184.098 273.938C184.38 272.306 184.746 270.664 184.788 269.021C184.872 265.579 184.799 262.116 184.767 258.664C184.725 255.786 184.537 252.92 184.631 250.053C184.778 245.638 185.05 241.213 185.395 236.798C185.918 230.102 186.546 223.417 187.142 216.742C187.226 215.832 188.607 212.818 189.287 212.044C189.423 212.494 189.549 212.913 189.653 213.331C191.547 221.314 194.236 229.014 198.18 236.233C198.588 236.986 198.776 237.75 198.734 238.608C198.672 239.863 198.577 241.129 198.619 242.384C198.724 245.596 199.1 248.798 199.017 251.999C198.86 258.643 199.958 265.087 201.789 271.427C203.149 276.093 204.645 280.718 206.047 285.373C208.569 293.764 210.808 302.228 213.936 310.42C215.108 313.464 216.164 316.551 217.305 319.595C217.608 320.401 217.66 321.133 217.284 321.97C216.917 322.796 216.719 323.728 216.541 324.627C215.652 329.325 215.264 334.064 215.599 338.845C215.777 341.231 215.997 343.595 216.049 345.981C216.154 350.647 216.154 355.313 217.556 359.832C217.608 360.021 217.629 360.219 217.629 360.408C217.629 364.007 217.629 367.616 217.587 371.215C217.566 373.444 217.399 375.683 217.409 377.921C217.409 378.758 217.692 379.606 217.849 380.401C218.372 380.474 218.696 380.516 219.02 380.568C220.203 380.778 220.276 380.746 220.778 379.627C221.134 378.821 221.479 378.026 221.814 377.22C222.013 376.718 222.18 376.216 222.358 375.714C222.891 377.817 223.184 379.826 223.488 381.845C223.55 382.221 223.603 382.619 223.749 382.975C224.053 383.697 224.973 384.356 225.517 384.303C226.344 384.209 227.097 383.56 227.244 382.629C227.453 381.301 227.683 379.941 227.714 378.591C227.788 374.27 227.746 369.928 227.788 365.597C227.788 365.22 227.882 364.833 227.955 364.258C228.572 368.181 229.074 371.895 229.744 375.567C230.288 378.528 230.989 381.468 231.69 384.387C232.14 386.249 233.217 386.699 234.902 385.904C235.111 385.799 235.331 385.737 235.582 385.642C236.597 377.116 235.132 368.673 235.289 360.01C235.959 360.429 235.979 360.91 236.084 361.36C236.565 363.442 237.005 365.545 237.538 367.606C238.166 370.064 238.951 372.471 239.484 374.94C240.164 378.089 241.2 381.008 243.544 383.32C243.899 383.676 244.171 384.115 244.747 383.937C245.343 383.738 245.73 383.309 245.824 382.671C245.866 382.441 245.866 382.179 245.856 381.939C245.615 378.068 245.479 374.176 245.134 370.305C244.653 364.99 244.025 359.675 243.439 354.267C243.857 354.811 244.213 355.313 244.611 355.784C245.301 356.61 245.971 357.437 246.724 358.19C248.796 360.282 251.275 361.036 254.184 360.397C255.68 360.063 256.161 359.006 255.387 357.73L255.376 357.834Z" fill="#69bac9" stroke="#69BAC9" stroke-width="4" mask="url(#path-1-inside-1_6946_28021)"/>
                                                            </svg>
                                                        </td>
                                                        <td>
                                                            <select name="" id="" class="form-select pe-5 fs-8" formControlName="Department">
                                                                <option value="0">{{langData?.appointment?.select}}</option>
                                                                <option *ngFor="let item of item.get('DepartmentList')?.value; let i = index" value="{{item.DepartmentID}}">{{item.DeptName}}</option>
                                                            </select>
                                                        </td>
                                                        <td>
                                                            <!-- <select name="" id="" class="form-select fs-8" formControlName="Surgeon" (change)="getDepartments(item)">
                                                                <option value="0">{{langData?.appointment?.select}}</option>
                                                                <option *ngFor="let item of doctorsList; let i = index" value="{{item.Doctorid}}">{{item.NameSpec}}</option>
                                                            </select> -->
                                                            <div class="input_dropdown position-relative">
                                                                <input type="text" class="form-control" [value]="getSurgeonName(item)"
                                                                    placeholder="Surgeon"  [matAutocomplete]="surgeon"
                                                                    (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : searchSurgeonItem($event)">
                                                                <mat-autocomplete #surgeon="matAutocomplete" (optionSelected)="onSurgeonItemSelected($event, item)">
                                                                    <mat-option *ngFor="let item of doctorsList"
                                                                        [value]="item.NameSpec">
                                                                        {{item.NameSpec}}
                                                                    </mat-option>
                                                                </mat-autocomplete>
                                                            </div>
                                                        </td>                                                   
                                                        <td>
                                                            <div class="d-flex align-items-center gap-2">
                                                                <input type="text" class="form-control w-50 px-1 text-center fs-8" formControlName="EstTimeValue" numbersOnly maxlength="2" (input)="onFastingTimeInputTable($event, item)">
                                                                <div [class.disabled]="true" class="w-30">
                                                                    <select name="" id="" class="form-select fs-8" formControlName="EstTime" >
                                                                        <option value="0">{{langData?.appointment?.select}}</option>
                                                                        <option *ngFor="let item of estTime; let i = index" value="{{item.Id}}">{{item.Names}}</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td>                                                        
                                                            <div class="del_svg cursor-pointer custom_tooltip custom_tooltip_left" (click)="deleteSurgery(i)">
                                                                <svg width="23" height="22" viewBox="0 0 23 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <path d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z" fill="#EB6247"></path><path d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z" fill="#EB6247"></path>
                                                                    <path d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z" fill="#EB6247"></path>
                                                                </svg>
                                                                <div class="tooltip">
                                                                    <p>{{langData?.Diagnosis?.Delete}}</p>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </form>
                                    <div class="col-md-12">
                                            <label for="" class="form-label">Justification</label>
                                            <textarea name="" class="form-control resize-none border-primary-200" formControlName="Remarks" id="" rows="3"></textarea>
                                        </div>
                                    <div class="mt-1 row mx-0 g-2">
                                        <div class="col-md-4">
                                            <label for="" class="form-label">{{langData?.Advice?.InstructionsforAnesthesiologist}}</label>
                                            <textarea name="" class="form-control resize-none border-primary-200" formControlName="ANESTHESIOLOGISTINSTRUCTIONS" id="" rows="8"></textarea>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="" class="form-label">{{langData?.Advice?.InstructionsforWard}}</label>
                                            <textarea name="" class="form-control resize-none border-primary-200" id="" formControlName="WardsInstructions" rows="8"></textarea>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="" class="form-label">{{langData?.Advice?.InstructionsforOR}}</label>
                                            <textarea name="" class="form-control resize-none border-primary-200" formControlName="OTInstructions" id="" rows="8"></textarea>
                                        </div>
                                    </div>

                                    <div class="row mx-0 g-2">
                                        <div class="col-xl-4 col-lg-6 d-none">
                                            <div class="rounded-2 h-100">
                                                <label for="" class="form-label">{{langData?.Advice?.Equipments}}</label>
                                                <div class="d-flex align-items-center input-group">
                                                    <input type="text" class="form-control" placeholder={{langData?.common?.Search}} autocomplete="off"
                                                    aria-label="Equipment Name"  [matAutocomplete]="autoEquipment" (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : fetchEquipments($event)">
                                                    <mat-autocomplete #autoEquipment="matAutocomplete">
                                                        <mat-option *ngFor="let item of listOfEquipmentItems" (onSelectionChange)="selectEquipmentItem(item)"  >
                                                            {{item.EquipmentName}} 
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                    <button type="button" id="button-addon2" class="btn btn-secondary-fill btn-icon">
                                                        <img src="assets/images/icons/icon-search.svg" alt="">
                                                    </button>
                                                </div>
                                                <form [formGroup]="equipmentTableForm">
                                                    <div class="mt-3 p-2 border-primary-200 rounded-2 surgery_table" formArrayName="items" *ngIf="equipmentTableForm.value.items.length">
                                                        <table class="table m-0">
                                                            <thead>
                                                                <tr>
                                                                    <th>{{langData?.Diagnosis?.slno}}</th>
                                                                    <th style="width:50%">{{langData?.Advice?.EquipmentName}}</th>
                                                                    <th>{{langData?.Advice?.QOH}}</th>
                                                                    <th>{{langData?.Advice?.Quantity}}</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let item of equipmentitems.controls; let i = index"  [formGroupName]="i">
                                                                    <td>{{i + 1}}</td>
                                                                    <td>{{item.get('EquipmentName')?.value}}</td>
                                                                    <td>{{item.get('QOH')?.value}}</td>
                                                                    <td>
                                                                        <input type="text" numbersOnly class="form-control" formControlName="Quantity">
                                                                    </td>
                                                                    <td>
                                                                        <div (click)="deleteEquipment(i)">
                                                                            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                <g clip-path="url(#clip0_6171_28814)">
                                                                                <path d="M10 18.9971C10.2652 18.9971 10.5196 18.8917 10.7071 18.7042C10.8946 18.5166 11 18.2623 11 17.9971V11.9971C11 11.7319 10.8946 11.4775 10.7071 11.29C10.5196 11.1024 10.2652 10.9971 10 10.9971C9.73478 10.9971 9.48043 11.1024 9.29289 11.29C9.10536 11.4775 9 11.7319 9 11.9971V17.9971C9 18.2623 9.10536 18.5166 9.29289 18.7042C9.48043 18.8917 9.73478 18.9971 10 18.9971ZM20 6.99707H16V5.99707C16 5.20142 15.6839 4.43836 15.1213 3.87575C14.5587 3.31314 13.7956 2.99707 13 2.99707H11C10.2044 2.99707 9.44129 3.31314 8.87868 3.87575C8.31607 4.43836 8 5.20142 8 5.99707V6.99707H4C3.73478 6.99707 3.48043 7.10243 3.29289 7.28996C3.10536 7.4775 3 7.73185 3 7.99707C3 8.26229 3.10536 8.51664 3.29289 8.70418C3.48043 8.89171 3.73478 8.99707 4 8.99707H5V19.9971C5 20.7927 5.31607 21.5558 5.87868 22.1184C6.44129 22.681 7.20435 22.9971 8 22.9971H16C16.7956 22.9971 17.5587 22.681 18.1213 22.1184C18.6839 21.5558 19 20.7927 19 19.9971V8.99707H20C20.2652 8.99707 20.5196 8.89171 20.7071 8.70418C20.8946 8.51664 21 8.26229 21 7.99707C21 7.73185 20.8946 7.4775 20.7071 7.28996C20.5196 7.10243 20.2652 6.99707 20 6.99707ZM10 5.99707C10 5.73185 10.1054 5.4775 10.2929 5.28996C10.4804 5.10243 10.7348 4.99707 11 4.99707H13C13.2652 4.99707 13.5196 5.10243 13.7071 5.28996C13.8946 5.4775 14 5.73185 14 5.99707V6.99707H10V5.99707ZM17 19.9971C17 20.2623 16.8946 20.5166 16.7071 20.7042C16.5196 20.8917 16.2652 20.9971 16 20.9971H8C7.73478 20.9971 7.48043 20.8917 7.29289 20.7042C7.10536 20.5166 7 20.2623 7 19.9971V8.99707H17V19.9971ZM14 18.9971C14.2652 18.9971 14.5196 18.8917 14.7071 18.7042C14.8946 18.5166 15 18.2623 15 17.9971V11.9971C15 11.7319 14.8946 11.4775 14.7071 11.29C14.5196 11.1024 14.2652 10.9971 14 10.9971C13.7348 10.9971 13.4804 11.1024 13.2929 11.29C13.1054 11.4775 13 11.7319 13 11.9971V17.9971C13 18.2623 13.1054 18.5166 13.2929 18.7042C13.4804 18.8917 13.7348 18.9971 14 18.9971Z" fill="#FF6868"/>
                                                                                </g>
                                                                                <defs>
                                                                                <clipPath id="clip0_6171_28814">
                                                                                <rect width="24" height="24" fill="white" transform="translate(0 0.99707)"/>
                                                                                </clipPath>
                                                                                </defs>
                                                                            </svg>  
                                                                        </div>                                                                    
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="col-xl-4 col-lg-6 d-none">
                                            <div class=" rounded-2 h-100">
                                                <label for="" class="form-label">{{langData?.Advice?.DrugandConsumables}}</label>
                                                <div class="d-flex align-items-center input-group">
                                                    <input type="text" class="form-control" placeholder={{langData?.common?.Search}} autocomplete="off"
                                                    aria-label="Consumables Name"  [matAutocomplete]="autoConsumables" (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : fetchConsumables($event)">
                                                    <mat-autocomplete #autoConsumables="matAutocomplete">
                                                        <mat-option *ngFor="let item of listOfConsumablesItems" (onSelectionChange)="selectConsumablesItem(item)"  >
                                                            {{item.ImplantName}} 
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                    <button type="button" id="button-addon2" class="btn btn-secondary-fill btn-icon">
                                                        <img src="assets/images/icons/icon-search.svg" alt="">
                                                    </button>
                                                </div>
                                                <form [formGroup]="consumablesTableForm">
                                                    <div class="mt-3 p-2 border-primary-200 rounded-2 surgery_table" formArrayName="items" *ngIf="consumablesTableForm.value.items.length">
                                                        <table class="table m-0">
                                                            <thead>
                                                                <tr>
                                                                    <th>{{langData?.Diagnosis?.slno}}</th>
                                                                    <th>{{langData?.Diagnosis?.Code}}</th>
                                                                    <th>{{langData?.Diagnosis?.Name}}</th>
                                                                    <th>{{langData?.Advice?.Category}}</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let item of consumablesitems.controls; let i = index"  [formGroupName]="i">
                                                                    <td>{{i + 1}}</td>
                                                                    <td>{{item.get('ItemCode')?.value}}</td>
                                                                    <td>{{item.get('ImplantName')?.value}}</td>
                                                                    <td>{{item.get('Category')?.value}}</td>
                                                                    <td>
                                                                        <div (click)="deleteConsumables(i)">
                                                                            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                <g clip-path="url(#clip0_6171_28814)">
                                                                                <path d="M10 18.9971C10.2652 18.9971 10.5196 18.8917 10.7071 18.7042C10.8946 18.5166 11 18.2623 11 17.9971V11.9971C11 11.7319 10.8946 11.4775 10.7071 11.29C10.5196 11.1024 10.2652 10.9971 10 10.9971C9.73478 10.9971 9.48043 11.1024 9.29289 11.29C9.10536 11.4775 9 11.7319 9 11.9971V17.9971C9 18.2623 9.10536 18.5166 9.29289 18.7042C9.48043 18.8917 9.73478 18.9971 10 18.9971ZM20 6.99707H16V5.99707C16 5.20142 15.6839 4.43836 15.1213 3.87575C14.5587 3.31314 13.7956 2.99707 13 2.99707H11C10.2044 2.99707 9.44129 3.31314 8.87868 3.87575C8.31607 4.43836 8 5.20142 8 5.99707V6.99707H4C3.73478 6.99707 3.48043 7.10243 3.29289 7.28996C3.10536 7.4775 3 7.73185 3 7.99707C3 8.26229 3.10536 8.51664 3.29289 8.70418C3.48043 8.89171 3.73478 8.99707 4 8.99707H5V19.9971C5 20.7927 5.31607 21.5558 5.87868 22.1184C6.44129 22.681 7.20435 22.9971 8 22.9971H16C16.7956 22.9971 17.5587 22.681 18.1213 22.1184C18.6839 21.5558 19 20.7927 19 19.9971V8.99707H20C20.2652 8.99707 20.5196 8.89171 20.7071 8.70418C20.8946 8.51664 21 8.26229 21 7.99707C21 7.73185 20.8946 7.4775 20.7071 7.28996C20.5196 7.10243 20.2652 6.99707 20 6.99707ZM10 5.99707C10 5.73185 10.1054 5.4775 10.2929 5.28996C10.4804 5.10243 10.7348 4.99707 11 4.99707H13C13.2652 4.99707 13.5196 5.10243 13.7071 5.28996C13.8946 5.4775 14 5.73185 14 5.99707V6.99707H10V5.99707ZM17 19.9971C17 20.2623 16.8946 20.5166 16.7071 20.7042C16.5196 20.8917 16.2652 20.9971 16 20.9971H8C7.73478 20.9971 7.48043 20.8917 7.29289 20.7042C7.10536 20.5166 7 20.2623 7 19.9971V8.99707H17V19.9971ZM14 18.9971C14.2652 18.9971 14.5196 18.8917 14.7071 18.7042C14.8946 18.5166 15 18.2623 15 17.9971V11.9971C15 11.7319 14.8946 11.4775 14.7071 11.29C14.5196 11.1024 14.2652 10.9971 14 10.9971C13.7348 10.9971 13.4804 11.1024 13.2929 11.29C13.1054 11.4775 13 11.7319 13 11.9971V17.9971C13 18.2623 13.1054 18.5166 13.2929 18.7042C13.4804 18.8917 13.7348 18.9971 14 18.9971Z" fill="#FF6868"/>
                                                                                </g>
                                                                                <defs>
                                                                                <clipPath id="clip0_6171_28814">
                                                                                <rect width="24" height="24" fill="white" transform="translate(0 0.99707)"/>
                                                                                </clipPath>
                                                                                </defs>
                                                                            </svg>                                                                            
                                                                        </div>                                                                    
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="p-2 d-flex rounded-2 h-100">
                                                <div class="row g-2 w-100">
                                                    <div class="d-flex flex-column">
                                                        <!-- <div class="d-flex align-items-center justify-content-between">
                                                            <div class="d-flex flex-column align-items-start">
                                                                <label for="" class="form-label">{{langData?.Advice?.BloodRequired}}</label>
                                                                <div class="clinical_toggle toggle__switch switch-sm d-inline-flex align-self-start">
                                                                    <button id="btnBloodYes" (click)="bloodRequest(1)" class="fs-7 btn">{{langData?.common?.yes}}</button>
                                                                    <button id="btnBloodNo" (click)="bloodRequest(0)" class="fs-7 btn selected">{{langData?.common?.no}}</button>
                                                                </div>
                                                            </div>
                                                            <div class="d-flex flex-column align-items-start">
                                                                <label for="" class="form-label">Infected</label>
                                                                <div class="clinical_toggle toggle__switch switch-sm d-inline-flex align-self-start">
                                                                    <button id="btnInfectedYes" (click)="infectedClick(1)" class="fs-7 btn">{{langData?.common?.yes}}</button>
                                                                    <button id="btnInfectedNo" (click)="infectedClick(0)" class="fs-7 btn selected">{{langData?.common?.no}}</button>
                                                                </div>
                                                            </div>
                                                        </div> -->
                                                        <form [formGroup]="bloodTableForm">
                                                            <div class="mt-3 p-2 border-primary-200 rounded-2 surgery_table" formArrayName="items" *ngIf="bloodTableForm.value.items.length">
                                                                <table class="table m-0">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>{{langData?.appointment?.select}}</th>
                                                                            <th style="width:67%;">{{langData?.Advice?.BloodComponents}}</th>
                                                                            <th>Quantity</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr *ngFor="let item of blooditems.controls; let i = index"  [formGroupName]="i">
                                                                            <td><input type="checkbox" class="form-check-input w-50" formControlName="IsSelected"></td>
                                                                            <td>{{item.get('Component')?.value}}</td>
                                                                            <td><input type="text" numbersOnly class="form-control w-100" formControlName="Quantity"></td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </form>
                                                    </div>
                                                    <div class="col-12 mt-3 blood_req_table d-none">
                                                        <table class="table m-0">
                                                            <thead>
                                                                <tr>
                                                                    <th>{{langData?.appointment?.select}}</th>
                                                                    <th class="w-50">{{langData?.Advice?.BloodComponents}}</th>
                                                                    <th class="w-25">{{langData?.Advice?.Quantity}}</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td><input type="checkbox" class="form-check-input"></td>
                                                                    <td>ThawedPlasma</td>
                                                                    <td>
                                                                        <div class="d-flex align-items-center gap-2">
                                                                            <input type="text" class="form-control">
                                                                            <label for="" class="form-label">{{langData?.Advice?.Quantity}}</label>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td><input type="checkbox" class="form-check-input"></td>
                                                                    <td>Whole Blood</td>
                                                                    <td>
                                                                        <div class="d-flex align-items-center gap-2">
                                                                            <input type="text" class="form-control">
                                                                            <label for="" class="form-label">qty</label>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="d-flex flex-column mt-3 col-12 d-none">
                                                        <label for="" class="form-label">{{langData?.Advice?.IfInfecteddescribe}}</label>
                                                        <textarea name="" class="form-control resize-none" id="" rows="2"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            
                        </form>
                        <form [formGroup]="admissionForSurgeryForm" *ngIf="(selectedView.PatientType === '1'||selectedView.PatientType === '3')">
                            <div class="mt-3 card card-style-1">
                                <div class="card-header py-2 justify-content-between">
                                    <div class="d-flex align-items-center">
                                        <div class="d-flex align-items-center d-none">
                                            <input type="radio" formControlName="TodayAfter" value="T" name="TodayAfter" (click)="todayClick()" class="form-check-input mt-0 me-2">
                                            <label for="" class="form-label mb-0">{{langData?.patients?.today}}</label>
                                        </div>
                                        <div class="d-flex align-items-center d-none">
                                            <input type="radio" formControlName="TodayAfter" value="A" name="TodayAfter" class="form-check-input mt-0 me-2">
                                            <label for="" class="form-label mb-0">{{langData?.Advice?.After}}</label>
                                        </div>
                                        <div class="d-flex align-items-center d-none" style="width:7rem" *ngIf="this.admissionForm.get('TodayAfter')?.value == 'A'">
                                            <label for="" class="form-label mb-0">{{langData?.casesheet?.days}}</label>
                                            <input type="number" numbersOnly name="" formControlName="AfterDays" (change)="addAfterDays()" class="form-control ms-2" id="">
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <label for="" class="form-label mb-0">{{langData?.Advice?.Admission}}</label>
                                            <div class="d-flex align-items-center ms-2 w-50">
                                                <mat-form-field appearance="fill">
                                                    <mat-label translate>{{langData?.Ward?.AdmissionDate}}</mat-label>
                                                    <input matInput class="" formControlName="Admission"
                                                        [matDatepicker]="AdmissionDate" [matDatepickerFilter]="futureDatesFilter"
                                                        (click)="AdmissionDate.open()" (dateChange)="onDateChangeForSurgery($event)">
                                                    <mat-datepicker-toggle matSuffix [for]="AdmissionDate">
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker  #AdmissionDate ></mat-datepicker>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-center">
                                        <button class="btn btn-main-outline" (click)="openAdmissionReconciliation()">Admission Reconciliation</button>
                                    </div>
                                </div>
                                <div class="p-2">
                                    <div class="row g-2">
                                        <div class="col-7">
                                            <div class="row g-2 mx-0">
                                                <div class="col-lg-3 col-md-4">
                                                    <label for="" class="form-label">{{langData?.Advice?.Expectedlengthofstay}}</label>    
                                                    <div class="d-flex align-items-center afterlabel">
                                                        <input type="number" numbersOnly name="" formControlName="Expectedlengthofstay" (change)="addDaysForSurgery()" class="form-control pe-6" id="">
                                                        <label for="" class="form-label label_sm">{{langData?.casesheet?.days}}</label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-4">
                                                    <label for="" class="form-label">{{langData?.Advice?.ExpectedDischargeDate}}</label>
                                                    <mat-form-field appearance="fill">
                                                        <mat-label translate>dd-MMM-yyyy</mat-label>
                                                        <input [disabled]="true" [readonly]="true" matInput class="" formControlName="DischargeDate"
                                                            [matDatepicker]="DischargeDate"
                                                            (click)="DischargeDate.open()">
                                                        <mat-datepicker-toggle matSuffix [for]="DischargeDate">
                                                        </mat-datepicker-toggle>
                                                        <mat-datepicker #DischargeDate></mat-datepicker>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-lg-3 col-md-4">
                                                    <label for="" class="form-label">{{langData?.Advice?.DietType}}</label>
                                                    <select name="" class="form-select" id="" formControlName="DietType">
                                                        <option value="">{{langData?.appointment?.select}}</option>
                                                        <option *ngFor="let item of dietType; let i = index" value="{{item.id}}">{{item.name}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-3 col-md-4">
                                                    <label for="" class="form-label">{{langData?.Advice?.PrimaryConsultant}}</label>
                                                    <input type="text" class="form-control" [readonly]="true" name="" formControlName="PrimaryConsultant" id="">
                                                </div>
                                                <div class="col-lg-3 col-md-4">
                                                    <label for="" class="form-label">{{langData?.Advice?.AdmissionType}}</label>
                                                    <select name="" class="form-select" id="" formControlName="AdmissionType">
                                                        <option value="">{{langData?.appointment?.select}}</option>
                                                        <option *ngFor="let item of fetchAdmin; let i = index" value="{{item.id}}">{{item.name}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-12">
                                                    <label for="" class="form-label">{{langData?.Advice?.ReasonforAdmission}}</label>
                                                    <textarea name="" [class]="(adviceReasonForAdmSubmitted && this.admissionForm.get('Reason').value === '') ? 'form-control resize-none border-danger-300' : 'form-control resize-none'" id="" formControlName="Reason" rows="3" placeholder={{langData?.Advice?.ReasonforAdmission}}></textarea>
                                                </div>
                                                <div class="col-12"> 
                                                    <label for="" class="form-label">{{langData?.Advice?.advicetopatient}}</label>
                                                    <textarea name="" class="form-control resize-none" id="" rows="3" formControlName="adviceToPatient" placeholder={{langData?.Advice?.advicetopatient}}></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-5">
                                            <div class="diagnosis_wrapper mt-2">
                                                <div class="card-header rounded-0 py-2"  style="min-height: 2rem;">
                                                    <div class="row g-2 w-100">
                                                        <div class="col-md-1">
                                                            <p class="label m-0">ICD</p>
                                                        </div>
                                                        <div class="col-8">
                                                            <p class="label m-0">Diagnosis</p>
                                                        </div>
                                                        <div class="col">
                                                            <p class="label m-0">Modified Date</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="diag_table">
                                                    <div class="diag_td" *ngFor="let item of PatientDiagnosisDataList; let i = index">
                                                        <div class="border-bottom">
                                                            <div class="row mx-0 gx-2 py-2 align-items-center">
                                                                <div class="col-md-1">
                                                                    <p>{{item.Code}}</p>
                                                                </div>
                                                                <div class="col-8">
                                                                    <p class="fs-7">{{item.DiseaseName}}</p>
                                                                </div>
                                                                <div class="col">
                                                                    <div class="d-flex align-items-center gap-1">
                                                                        <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                                            xmlns="http://www.w3.org/2000/svg">
                                                                            <path
                                                                                d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                                                fill="#368796" />
                                                                        </svg>
                                                                        <p class="m-0 clr-dark-600 text-nowrap">{{item.MODDATE | date: 'dd-MMM-yyyy'}}</p>                                                                           
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>

                    </div>
                    <div *ngIf="!readonly" class="tab-pane fade" id="admission_recon" role="tabpanel" aria-labelledby="admission_recon-tab">

                    </div>
                    <div *ngIf="!readonly" class="tab-pane fade" id="blood_req" role="tabpanel" aria-labelledby="blood_req-tab">

                    </div>
                </div>
            </div>

        </div>
    </div>

        <div class="">
            <div class="overflow-auto casesheet_scroll casesheet_parental_care"
                *ngIf="obgyneFormType === 'prenatal'">
                <app-parental-care-initial *ngIf="obgyneFormType"></app-parental-care-initial>
            </div>
            <div class="overflow-auto casesheet_scroll casesheet_parental_care"
                *ngIf="obgyneFormType === 'anesthesia'">
                <app-pre-anesthesia-assessment #anesthesia *ngIf="obgyneFormType === 'anesthesia'">
                </app-pre-anesthesia-assessment>
            </div>
            <div class="tab-pane" id="pills-cardiology" role="tabpanel"
                *ngIf="obgyneFormType === 'cardiology'" aria-labelledby="pills-cardiology">
                <app-cardiology-assessment #cardiology (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'cardiology'"></app-cardiology-assessment>
            </div>
            <div class="tab-pane" id="pills-pre-anesthesia" role="tabpanel"
                *ngIf="obgyneFormType === 'preanesthesia'" aria-labelledby="pills-pre-anesthesia">
                <app-pre-anesthesia-assessment #preanesthesia *ngIf="obgyneFormType === 'preanesthesia'"
                    (savechanges)="SaveData()">
                </app-pre-anesthesia-assessment>
            </div>
            <div class="tab-pane" id="pills-pulmonology" role="tabpanel"
                *ngIf="obgyneFormType === 'pulmonology'" aria-labelledby="pills-pulmonology">
                <app-pulmonology-diseases #PulmRef (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'pulmonology'"></app-pulmonology-diseases>
            </div>
            <div class="tab-pane" id="pills-pulmonology-diseases" role="tabpanel"
                *ngIf="obgyneFormType === 'pulmonology-diseases'"
                aria-labelledby="pills-pulmonology-diseases">
                <app-pulmonology-diseases-opdnote #PulmDisRef (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'pulmonology-diseases'"></app-pulmonology-diseases-opdnote>
            </div>
            <div class="tab-pane dischargeTab rounded-2 overflow-hidden"
                *ngIf="obgyneFormType === 'gynecology'" id="discharge" role="tabpanel"
                aria-labelledby="discharge">
                <app-discharge-summary #SignRef (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'gynecology'"></app-discharge-summary>
            </div>
            <div class="tab-pane dischargeTab rounded-2 overflow-hidden"
                *ngIf="obgyneFormType === 'summary'" role="tabpanel"
                aria-labelledby="discharge">
                <app-inpatient-discharge-summary #PatientDischargeSummaryRef (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'summary'"></app-inpatient-discharge-summary>
            </div>
            <div class="tab-pane overflow-hidden" id="consent-hro" role="tabpanel"
                *ngIf="obgyneFormType === 'HighRiskOperation'" aria-labelledby="consent-hro">
                <app-consent-hro #HRORef (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'HighRiskOperation'"></app-consent-hro>
            </div>
            <div class="tab-pane overflow-hidden" id="generalConsent" role="tabpanel"
                *ngIf="obgyneFormType === 'generalconsent'" aria-labelledby="generalConsent">
                <app-generalconsent #GenRef (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'generalconsent'"></app-generalconsent>
            </div>
            <div class="tab-pane overflow-hidden" id="medicalConsent" role="tabpanel"
                *ngIf="obgyneFormType === 'medicalconsent'" aria-labelledby="medicalConsent">
                <app-consent-medical #MedicalRef (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'medicalconsent'"></app-consent-medical>
            </div>
            <div class="tab-pane overflow-hidden" id="medicalassessment" role="tabpanel"
                *ngIf="obgyneFormType === 'medicalassessment'" aria-labelledby="medicalassessment">
                <app-medical-assessment #medicalassessment (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'medicalassessment'"></app-medical-assessment>
            </div>
            <div class="tab-pane overflow-hidden" id="medicalobsteric" role="tabpanel"
                *ngIf="obgyneFormType === 'medicalobsteric'" aria-labelledby="medicalobsteric">
                <app-medical-assessment-obsteric #medicalobsteric (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'medicalobsteric'"></app-medical-assessment-obsteric>
            </div>
            <div class="tab-pane overflow-hidden" id="medicalpedia" role="tabpanel"
                *ngIf="obgyneFormType === 'medicalpedia'" aria-labelledby="medicalpedia">
                <app-medical-assessment-pedia #medicalpedia (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'medicalpedia'"></app-medical-assessment-pedia>
            </div>
            <div class="tab-pane overflow-hidden" id="medicalsurgical" role="tabpanel"
                *ngIf="obgyneFormType === 'medicalsurgical'" aria-labelledby="medicalsurgical">
                <app-medical-assessment-surgical #medicalsurgical (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'medicalsurgical'"></app-medical-assessment-surgical>
            </div>
            <div class="tab-pane overflow-hidden" id="multidisciplanary" role="tabpanel"
                *ngIf="obgyneFormType === 'multidisciplanary'" aria-labelledby="multidisciplanary">
                <app-multidisciplanary-patient-family-education-form #multidisciplanary (savechanges)="SaveData()"
                    *ngIf="obgyneFormType === 'multidisciplanary'"></app-multidisciplanary-patient-family-education-form>
            </div>
        </div>


</div>

<div class="modal" id="saveAdviceMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>{{langData?.messages?.advicesavedsuccessfully}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                     data-bs-dismiss="modal" (click)="SaveData()">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="saveSurgeryMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>Surgery and Admission saved successfully</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                     data-bs-dismiss="modal" (click)="SaveData()">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="errorDiagonsisMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p *ngIf="errorMessages.length === 1">{{errorMessages[0]}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                     data-bs-dismiss="modal" (click)="SaveDiag()">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="modalHumanBody" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width:65%">
      <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" translate>{{langData?.Advice?.Surgery}}</h5>   
            <div class="ms-auto d-flex align-items-center">
                <button type="button" class="btn-close ms-4" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>                                          
        </div>
        <div class="modal-body">
            <app-marker (markedData)="onMarkedSelect($event)" [markedinputData]="markedinputData" [surgeryID]="surgeryIDFromParent" [inputDataImageUrl]="imageUrlParent" *ngIf="showChildComponent"></app-marker>
        </div>
      </div>
    </div>
</div>
<div class="modal" id="showCannotPrescribeMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>You are not privilaged to Order this {{cannotPrescribeProcName}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                      (click)="clearCannotPrescriveProcName()" data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal mapDiagnosisMedicationdiv" data-bs-backdrop="static" data-bs-keyboard="false" id="divSurgeryRequests"
    tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width:90%">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" translate>Surgery Requests</h5>
                <div class="ms-auto d-flex align-items-center">
                    <button class="btn btn-main-outline mx-2"
                        (click)="fetchSurgeryData()">Select</button>
                    <button type="button" class="btn-close ms-2" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body px-0">
                <div class="divSurgeryRequests_list">
                    <div class="divSurgeryRequests_header bg-primary-50">
                        <div class="row gx-2 p-2">
                            <div style="width: 3rem;"></div>
                            <div class="col-1" style="width: 4rem;">
                                <p class="label m-0">Code</p>
                            </div>
                            <div class="col-2">
                                <p class="label m-0">Surgery Name</p>
                            </div>
                            <div class="col-2">
                                <p class="label m-0">Surgeon</p>
                            </div>
                            <div class="col-1">
                                <p class="label m-0">Status</p>
                            </div>
                            <div class="col-2" style="width: 11rem;">
                                <p class="label m-0">Request Date</p>
                            </div>
                            <div class="col-2" style="width: 11rem;">
                                <p class="label m-0">Schedule Date</p>
                            </div>
                            <div class="col-1">
                                <p class="label m-0">Schedule Time</p>
                            </div>
                            <div class="col-1" style="width: 10%;">
                                <p class="label m-0">OR Rom</p>
                            </div>
                        </div>
                    </div>
                    <div class="divSurgeryRequests_body p-2">
                        <div class="row gx-2 py-2 alter_div align-items-start" *ngFor="let sur of surgeryRequestDataDetailsLevel;let i=index">
                            <div class="d-flex" style="width: 3rem;">
                                <img style="width: 1.3rem;margin-top: -0.2rem;" src="assets/images/icons/toast-success.svg" class="icon-w cursor-pointer" [class.active]="sur.selected"
                                (click)="fetchSurgeryRequest(sur)">
                            </div>
                            <div class="col-1" style="width: 4rem;">    
                                <p class="m-0">{{sur.ProcedureCode}}</p>
                            </div>
                            <div class="col-2">
                                <p class="m-0">{{sur.ProcedureName}}</p>
                            </div>
                            <div class="col-2">
                                <p class="m-0">{{sur.Surgeon}}</p>
                            </div>
                            <div class="col-1">
                                <p class="m-0">{{sur.StatusName}}</p>
                            </div>
                            <div class="col-2" style="width: 11rem;">
                                <div class="d-flex align-items-center gap-1">
                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600">
                                        {{sur.CreateDate.split(' ')[0]}}</p>
                                    <svg class="ms-1" width="10" height="11" viewBox="0 0 10 11"
                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                            fill="#368796" />
                                        <path
                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600">
                                        {{sur.CreateDate.split(' ')[1]}}</p>
                                </div>
                            </div>
                            <div class="col-2" style="width: 11rem;">
                                <div class="d-flex align-items-center gap-1">
                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600">
                                        {{sur?.ScheduleDate?.split(' ')[0]}}</p>
                                    <svg class="ms-1" width="10" height="11" viewBox="0 0 10 11"
                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                            fill="#368796" />
                                        <path
                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600">
                                        {{sur?.ScheduleDate?.split(' ')[1]}}</p>
                                </div>
                            </div>
                            <div class="col-1">
                                <p class="m-0">{{sur.StartTime}}-{{sur.ENDTime}}</p>
                            </div>
                            <div class="col-1" style="width: 10%;">
                                <p>{{sur.OTName}}</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mapDiagnosisMedicationdiv_table px-3 d-none">
                    <div class="card-3d p-2 mb-3 d-flex gap-2" *ngFor="let sur of surgeryRequestDataDetailsLevel;let i=index">
                        <div class="col-md-1">
                            <img src="assets/images/icons/toast-success.svg" class="icon-w cursor-pointer" [class.active]="sur.selected"
                                (click)="fetchSurgeryRequest(sur)">
                        </div>   
                        <div class="row mx-0 g-2 align-items-start">                         
                            <div class="col-md-2">
                                <p class="label text-nowrap">Code</p>
                                <p class="text-break">{{sur.ProcedureCode}}</p>
                            </div>
                            <div class="col-md-4">
                                <p class="label text-nowrap">Surgery Name</p>
                                <p class="text-break">{{sur.ProcedureName}}</p>
                            </div>
                            <div class="col-md-3">
                                <p class="label text-nowrap">Surgeon</p>
                                <p class="text-break">{{sur.Surgeon}}</p>
                            </div>
                            <div class="col-md-2">
                                <p class="label text-nowrap">Status</p>
                                <p class="text-break">{{sur.StatusName}}</p>
                            </div>
                            <div class="col-md-3">
                                <p class="label text-nowrap">Request Date</p>
                                <!-- <p class="text-break">{{sur.CreateDate}}</p> -->
                                <div class="d-flex align-items-center gap-1">
                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600">
                                        {{sur.CreateDate.split(' ')[0]}}</p>
                                    <svg class="ms-3" width="10" height="11" viewBox="0 0 10 11"
                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                            fill="#368796" />
                                        <path
                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600">
                                        {{sur.CreateDate.split(' ')[1]}}</p>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <p class="label text-nowrap">Schedule Date</p>
                                <!-- <p class="text-break">{{sur.CreateDate}}</p> -->
                                <div class="d-flex align-items-center gap-1">
                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600">
                                        {{sur?.ScheduleDate?.split(' ')[0]}}</p>
                                    <svg class="ms-3" width="10" height="11" viewBox="0 0 10 11"
                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                            fill="#368796" />
                                        <path
                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600">
                                        {{sur?.ScheduleDate?.split(' ')[1]}}</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <p class="label text-nowrap">Schedule Time</p>
                                <p class="text-break">{{sur.StartTime}}-{{sur.ENDTime}}</p>
                            </div>
                            <div class="col-md-3">
                                <p class="label text-nowrap">OR Rom</p>
                                <p class="text-break">{{sur.OTName}}</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- <div class="modal mapDiagnosisMedicationdiv" id="otdoctorAppointment" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <app-ot-doctorappointment></app-ot-doctorappointment>
</div> -->

<div class="otdoctorAppointmentModal viewavailableSlots modal" data-bs-backdrop="static" id="otdoctorAppointment" *ngIf="fromCasesheet" tab-index="-1">
    <div class="modal-dialog modal-dialog-scrollabel modal-dialog-centered" style="max-width: 98%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"></h5> 
                <p class="validation_err position-relative" style="color: red;" *ngIf=isNotScheduled>Please schedule surgery for the patient</p>                
                <button type="button" class="btn-close" (click)="closeOtSchedule()" aria-label="Close"></button>
            </div>
            <app-ot-doctorappointment [fromCasesheet]="fromCasesheet"></app-ot-doctorappointment>
        </div>
    </div>
</div>

<div class="consentTemplates_modal  modal" data-bs-backdrop="static" id="consentTemplates" tab-index="-1">
    <div class="modal-dialog modal-dialog-scrollabel modal-dialog-centered my-2" style="max-width: 99%;">
        <div class="modal-content">
            <div class="modal-header justify-content-between">
                <div class="d-flex align-items-center gap-2">
                    <h5 class="modal-title" id="exampleModalLabel"></h5> 
                    <p class="validation_err position-relative" style="color: red;" *ngIf=isNotScheduled>Please schedule surgery for the patient</p>    
                </div>
                <div class="d-flex align-items-center gap-2">
                    <button class="btn btn-danger-outline" *ngIf="obgyneFormType1" (click)="ClearAssessment1()">{{langData?.common?.Clear}}</button>
                    <button class="btn btn-main-outline d-none" *ngIf="obgyneFormType1" (click)="DischargeObgPrint()">Print</button>
                    <button class="btn btn-main-outline" *ngIf="!endofEpisode && obgyneFormType1" (click)="saveAssessment1()">{{langData?.common?.Save}}</button>
                    <button class="btn btn-danger-outline" (click)="clear()" *ngIf="!isSurgery && !readonly && !obgyneFormType1">{{langData?.common?.Clear}}</button>
                    <button class="btn btn-main-outline" (click)="saveAdvice()" *ngIf="!isSurgery && !endofEpisode && !obgyneFormType1">{{langData?.common?.Save}}</button>
                    <button type="button" class="btn-close" aria-label="Close" (click)="onCloseConsentTemplatesModal()"></button>
                </div>            
            </div>
            <div class="modal-body patient_summary_page">
                           
                <div class="row gx-2">
                    <div class="col-2">
                        <div class="pat_lefnav border-primary-200 rounded-2">
                            <div class="p-2" id="myTab" role="tablist">
                                <ul class="navlinks_height d-flex flex-column gap-2 p-0">
                                    <section *ngFor="let asmnt of savedSpecialisationConsentsList; let i = index" (click)="openPrenatalForm1(asmnt.name)">
                                        <li [class.active]="obgyneFormType === asmnt.name" class="nav-item navbutton rounded-2 d-flex align-items-center gap-3" role="presentation">
                                            <button class="nav-link p-0 text-start fs-8" data-bs-toggle="pill"
                                                [attr.data-bs-target]="getdatabstarget1(asmnt.ClinicalTemplateID)" type="button" role="tab"
                                                aria-selected="false"
                                                >    
                                                {{asmnt.screenname}}
                                            </button>
                                        </li>
                                    </section>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <!-- <div class="overflow-auto casesheet_scroll casesheet_parental_care"
                            *ngIf="obgyneFormType1 === 'prenatal'">
                            <app-parental-care-initial *ngIf="obgyneFormType1"></app-parental-care-initial>
                        </div>
                        <div class="overflow-auto casesheet_scroll casesheet_parental_care"
                            *ngIf="obgyneFormType1 === 'anesthesia'">
                            <app-pre-anesthesia-assessment #anesthesia *ngIf="obgyneFormType1 === 'anesthesia'">
                            </app-pre-anesthesia-assessment>
                        </div>
                        <div class="tab-pane" id="pills-cardiology1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'cardiology'" aria-labelledby="pills-cardiology">
                            <app-cardiology-assessment #cardiology
                                *ngIf="obgyneFormType1 === 'cardiology'"></app-cardiology-assessment>
                        </div>
                        <div class="tab-pane" id="pills-pre-anesthesia1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'preanesthesia'" aria-labelledby="pills-pre-anesthesia">
                            <app-pre-anesthesia-assessment #preanesthesia *ngIf="obgyneFormType1 === 'preanesthesia'"
                            >
                            </app-pre-anesthesia-assessment>
                        </div>
                        <div class="tab-pane" id="pills-pulmonology1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'pulmonology'" aria-labelledby="pills-pulmonology">
                            <app-pulmonology-diseases #PulmRef
                                *ngIf="obgyneFormType1 === 'pulmonology'"></app-pulmonology-diseases>
                        </div>
                        <div class="tab-pane" id="pills-pulmonology-diseases1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'pulmonology-diseases'"
                            aria-labelledby="pills-pulmonology-diseases">
                            <app-pulmonology-diseases-opdnote #PulmDisRef
                                *ngIf="obgyneFormType1 === 'pulmonology-diseases'"></app-pulmonology-diseases-opdnote>
                        </div>
                        <div class="tab-pane dischargeTab rounded-2 overflow-hidden"
                            *ngIf="obgyneFormType1 === 'gynecology'" id="discharge1" role="tabpanel"
                            aria-labelledby="discharge">
                            <app-discharge-summary #SignRef
                                *ngIf="obgyneFormType1 === 'gynecology'"></app-discharge-summary>
                        </div> -->
                        <div class="tab-pane overflow-hidden" id="consent-hro1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'HighRiskOperation'" aria-labelledby="consent-hro">
                            <app-consent-hro #HRORef
                                *ngIf="obgyneFormType1 === 'HighRiskOperation'" [surgeryIds]="surgeryIds" (savechanges)="SaveConsentForms('hrConsent')"></app-consent-hro>
                        </div>
                        <div class="tab-pane overflow-hidden" id="generalConsent1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'generalconsent'" aria-labelledby="generalConsent">
                            <app-generalconsent #GenRef
                                *ngIf="obgyneFormType1 === 'generalconsent'" [surgeryIds]="surgeryIds" (savechanges)="SaveConsentForms('generalConsent')"></app-generalconsent>
                        </div>
                        <div class="tab-pane overflow-hidden" id="medicalConsent1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'medicalconsent'" aria-labelledby="medicalConsent">
                            <app-consent-medical #MedicalRef
                                *ngIf="obgyneFormType1 === 'medicalconsent'" [surgeryIds]="surgeryIds" (savechanges)="SaveConsentForms('medicalConsent')"></app-consent-medical>
                        </div>
                        <!-- <div class="tab-pane overflow-hidden" id="medicalassessment1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'medicalassessment'" aria-labelledby="medicalassessment">
                            <app-medical-assessment #medicalassessment
                                *ngIf="obgyneFormType1 === 'medicalassessment'"></app-medical-assessment>
                        </div>
                        <div class="tab-pane overflow-hidden" id="medicalobsteric1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'medicalobsteric'" aria-labelledby="medicalobsteric">
                            <app-medical-assessment-obsteric #medicalobsteric
                                *ngIf="obgyneFormType1 === 'medicalobsteric'"></app-medical-assessment-obsteric>
                        </div>
                        <div class="tab-pane overflow-hidden" id="medicalpedia1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'medicalpedia'" aria-labelledby="medicalpedia">
                            <app-medical-assessment-pedia #medicalpedia
                                *ngIf="obgyneFormType1 === 'medicalpedia'"></app-medical-assessment-pedia>
                        </div>
                        <div class="tab-pane overflow-hidden" id="medicalsurgical1" role="tabpanel"
                            *ngIf="obgyneFormType1 === 'medicalsurgical'" aria-labelledby="medicalsurgical">
                            <app-medical-assessment-surgical #medicalsurgical
                                *ngIf="obgyneFormType1 === 'medicalsurgical'"></app-medical-assessment-surgical>
                        </div> -->
                    </div>
                </div>

            </div>
            
        </div>
    </div>
</div>

<div class="modal" id="errorAdviceMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p *ngIf="errorMessages.length === 1">{{errorMessages[0]}}</p>
                <ul *ngIf="errorMessages.length > 1">
                    <li *ngFor="let error of errorMessages; let i = index"> {{error}}</li>
                </ul>
                <div class="modal-footer">
                    <a (click)="focusOnFollowUp()" type="button" class="btn btn-main-outline"
                     data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="cancelSurgeryRequestConfirmationPopup"
    tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>Are you sure you want to cancel surgery request</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="confirmCancelSurReq()">Yes</a>
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal">No</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="cancelSurReqSuccess" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>Surgery Request Cancelled Successfully</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                     data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="swPhyDietConfirmationPopup"
    tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>Are you sure you want to raise Referral to {{referralType === 1 ? "Social Worker" : referralType === 2 ? "Physiotherapist" : referralType === 3 ? "Dietician" : "" }}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="openRemarks()">Yes</a>
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="cancelReferral()">No</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="referRemarks" tabindex="-1" aria-labelledby="referRemarksLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width: 35%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="referRemarksLabel">{{langData?.Diagnosis?.Remarks}}</h5>
                <div class="d-flex gap-2 align-items-center justify-content-end">
                    <button class="btn btn-main-outline" [disabled]="remarkForm.invalid"
                        (click)="saveReferral()">{{langData?.common?.Save}}</button>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="closeRemarks()"></button>
                </div>
            </div>
            <div class="modal-body" [formGroup]="remarkForm">
                <textarea name="" placeholder="Enter Remarks" class="form-control resize-none mb-2"
                    formControlName="remarks" id="" cols="30" rows="3"></textarea>
            </div>
        </div>
    </div>
</div>