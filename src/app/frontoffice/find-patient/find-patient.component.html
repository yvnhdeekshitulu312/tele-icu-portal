<app-suit-header [IsSwitchWard]="true"></app-suit-header>
<!--Container-->
<div class="container__wrapper bg-white">
    <div class="page-header sticky-top shadow-sm">
        <h2 class="page-heading">Find Patient</h2>
        <div class="actions ms-auto gap-2 d-flex align-items-center">
            
        </div>
    </div>

    <div class="d-flex align-items-center justify-content-between p-2 border-bottom">
        <form class="d-flex align-items-center gap-2">
            <div class="d-flex align-items-center gap-2">
                <!--<label for="" class="form-label text-nowrap">Date :</label>
                 <div class="d-flex align-items-center gap-2 justify-content-end">
                    <button class="date_range_calendar p-0 position-relative"
                        style="width: 227px;">
                        <mat-date-range-input class="btn btn-main-outline" [formGroup]="datesForm"
                            [rangePicker]="picker">
                            <input matStartDate formControlName="fromdate">
                            <input matEndDate formControlName="todate" (dateChange)="FetchAdmisionRequests()">
                        </mat-date-range-input>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-date-range-picker #picker></mat-date-range-picker>
                    </button>
                </div> -->
                <div class="CommanSearch__form">
                    <label for="" class="CommonSearch__label">
                        <img src="assets/images/icons/icon-search.svg" alt="">
                    </label>
                    <input class="CommonSearch__input form-control" type="text" id="txtSsn" placeholder="SSN"
                    (keypress)="($event.charCode >= 48 && $event.charCode < 58)" (keydown.enter)="findPatient()">
                    <button type="reset" class="reset-btn">
                        <svg width="20" height="20" viewBox="0 0 20 20">
                            <path
                                d="M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z"
                                stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </svg>
                    </button>
                </div>
                <div class="CommanSearch__form">
                    <label for="" class="CommonSearch__label">
                        <img src="assets/images/icons/icon-search.svg" alt="">
                    </label>
                    <input class="CommonSearch__input form-control" type="text" id="txtMobileNo" placeholder="Mobile No"
                    (keypress)="($event.charCode >= 48 && $event.charCode < 58)" (keydown.enter)="findPatient()">
                    <button type="reset" class="reset-btn">
                        <svg width="20" height="20" viewBox="0 0 20 20">
                            <path
                                d="M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z"
                                stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </svg>
                    </button>
                </div>
                <div class="CommanSearch__form">
                    <label for="" class="CommonSearch__label">
                        <img src="assets/images/icons/icon-search.svg" alt="">
                    </label>
                    <input class="CommonSearch__input form-control" type="text" id="txtRoomNo" placeholder="Room No"
                    (keypress)="($event.charCode >= 48 && $event.charCode < 58)" (keydown.enter)="findPatient()">
                    <button type="reset" class="reset-btn">
                        <svg width="20" height="20" viewBox="0 0 20 20">
                            <path
                                d="M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z"
                                stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </svg>
                    </button>
                </div>

            </div>
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-danger-outline" (click)="clearScreen()">Clear</button>
                <button class="btn btn-main-outline" (click)="findPatient()">Search</button>
            </div>
        </form>
    </div>


    <div class="p-2 pb-0">

        <!-- No Bulk Process -->
        <div class="nobulkprocess d-flex flex-column align-items-center justify-content-center"
            *ngIf="patientList.length === 0">
            <img src="assets/images/icon-no-appointments.svg" alt="" class="mb-2">
            <p class="m-0 fs-6">No Patient Found</p>
        </div>

        <div class="adm_req_doctors" *ngIf="patientList.length > 0">
            <div calss="doctor_worklist my-1 cursor-pointer newReq worklist_patientcard rounded-2"
                *ngFor="let item of patientList; let i=index">
                <div class="row mx-0">
                    <div class="admitted cursor-pointer doctor_worklist my-1 rounded-2 worklist_patientcard p-0">
                        <div class="row mx-0 gx-2 p-1">
                            <div class="" style="width: 23rem;">
                                <div class="d-flex align-items-center h-100">
                                    <div class="patient-photo me-3">
                                        <img *ngIf="item.GenderID == 1" src="assets/images/icons/male.svg" alt=""
                                            class="position-relative">
                                        <img *ngIf="item.GenderID == 2" src="assets/images/icons/female.svg" alt=""
                                            class="position-relative">
                                    </div>
                                    <div class="">
                                        <p class="value fs-7 fw-bold w-100">{{item.PatientName}}</p>
                                        <div class="d-flex align-items-center gap-2">
                                            <p>{{item.Gender}} | {{item.FullAge}} </p>
                                            <p><b>ID No.</b> : {{ item.SSN }}</p>
                                        </div>
                                        <p>{{item.Nationality}} | Mobile : {{item.MobileNo}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col pe-0">
                                <div class="bg-white h-100 p-1 rounded-2 d-flex gap-2">
                                    <div class="row mx-0 gx-2 w-100">
                                        <div class="col-2">
                                            <label for="" class="form-label m-0 fw-bold">Ward</label>
                                            <p class="text-truncate fs-8">{{item.Ward}}</p>
                                        </div>
                                        <div class="col-1">
                                            <label for="" class="form-label m-0 fw-bold">Bed</label>
                                            <p class="text-truncate fs-8">{{item.BedName}}</p>
                                        </div>
                                        <div class="col-2">
                                            <label for="" class="form-label m-0 fw-bold">Doctor Name</label>
                                            <p class="text-wrap fs-8">{{item.Consultant}}</p>
                                        </div>
                                        <div class="col-2">
                                            <label for="" class="form-label m-0 fw-bold">Specialisation</label>
                                            <p class="text-truncate fs-8">{{item.Specialisation}}</p>
                                        </div>
                                        <div class="col-2">
                                            <label for="" class="form-label m-0 fw-bold">Admit Date</label>
                                                <div class="d-flex align-items-center gap-1">
                                                    <div class="d-flex align-items-center gap-1">
                                                        <svg width="14" height="14" viewBox="0 0 10 11"
                                                            fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                                fill="#368796" />
                                                        </svg>
                                                        <p class="text-wrap">{{ item.AdmitDate?.split(' ')[0]
                                                            }}
                                                        </p>
                                                    </div>
                                                    <div class="d-flex align-items-center gap-2">
                                                        <svg class="" width="12" height="12"
                                                            viewBox="0 0 10 11" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                                                fill="#368796" />
                                                            <path
                                                                d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                                                fill="#368796" />
                                                        </svg>
                                                        <p class="text-wrap">{{ item.AdmitDate?.split(' ')[1]
                                                            }}
                                                        </p>
                                                    </div>
                                                </div>
                                        </div>
                                        <div class="col-2">
                                            <label for="" class="form-label text-nowrap m-0 fw-bold">Patient Type</label>
                                            <p class="text-truncate fs-8">{{item.CompanyName == '' ? 'Self' : 'Insured'}}
                                            </p>
                                        </div>
                                        <div class="col-1">
                                            <div class="d-flex align-items-center justify-content-center gap-2">
                                                <svg *ngIf="item?.IsPregnancy==1" width="32" height="32" viewBox="0 0 32 32"
                                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <circle cx="16" cy="15.998" r="16"
                                                        fill="#DADFF1" fill-opacity="0.5" />
                                                    <path
                                                        d="M8.97438 17.2531C9.15273 16.8868 9.33764 16.5108 9.58925 16.1953C10.08 15.5869 10.6119 15.0165 11.1345 14.4366C11.2524 14.3028 11.367 14.1658 11.4785 14.0256C11.5869 13.9013 11.6887 13.7707 11.7907 13.6369C12.1316 13.194 12.4566 12.732 12.8771 12.3784C13.5461 11.8145 13.5238 11.0881 13.6545 10.3681C13.6545 10.3617 13.6577 10.3553 13.6577 10.3491C13.7278 9.96363 13.7882 9.57491 13.8552 9.18931C14.005 8.35142 14.0176 7.43703 14.365 6.6374C14.8397 5.54135 15.9197 5.33756 17.0157 5.60194C17.4395 5.70392 17.8154 5.89821 18.118 6.21369C18.1339 6.22962 18.1499 6.24555 18.1658 6.2646C18.2167 6.32192 18.2678 6.38251 18.3251 6.45263C18.3251 6.4495 18.3282 6.44623 18.3315 6.44623C18.3506 6.47496 18.3665 6.50355 18.3824 6.53541C18.3856 6.55774 18.3952 6.5832 18.4143 6.61506C18.4366 6.65332 18.4589 6.69158 18.478 6.7297C18.478 6.73283 18.4811 6.73283 18.4811 6.73283C18.6373 7.03549 18.7169 7.35098 18.6977 7.68862C18.6946 7.75874 18.6882 7.83199 18.6754 7.90524C18.6564 8.02315 18.7104 8.18557 18.7869 8.28755C18.806 8.30988 18.8219 8.33221 18.8411 8.3544C18.9144 8.44045 19.0035 8.5201 19.0896 8.59648C19.1343 8.63474 19.1788 8.673 19.2234 8.71111C19.4018 8.87041 19.3955 8.97879 19.1852 9.08061C19.182 9.08374 19.1756 9.08701 19.1692 9.09014C19.1405 9.10294 19.1119 9.11887 19.0801 9.1284C18.9398 9.17306 18.9462 9.26864 19.0099 9.36422C19.0801 9.46933 19.0832 9.55538 19.0768 9.68922C19.064 9.84852 18.9876 9.9441 18.9429 10.0715C18.9142 10.1448 18.9239 10.2404 18.9429 10.32C19.0098 10.6068 18.9239 10.747 18.6339 10.7948C18.5383 10.8107 18.4427 10.8138 18.344 10.8171H18.2166H18.2102C18.1529 10.8076 17.8343 10.7724 17.694 10.9828C17.6239 11.0497 17.5634 11.1326 17.5378 11.2154C17.4805 11.3937 17.4582 11.5753 17.4487 11.7665C17.4199 11.8908 17.4168 12.015 17.4487 12.1329C17.4615 12.1871 17.4837 12.238 17.5124 12.2891C17.5792 12.3974 17.6462 12.5057 17.7163 12.614C17.7451 12.6269 17.7673 12.6395 17.7865 12.6459C18.223 13.3309 18.7391 13.9426 19.3763 14.4842C20.0804 15.08 20.4531 15.6281 20.0295 16.5647C19.9529 16.7335 19.9467 16.9056 19.9912 17.0713C20.0326 17.2242 20.1186 17.3739 20.2301 17.5173C20.5742 17.9505 20.9884 18.2629 21.3612 18.6579C22.0461 19.3778 22.3488 20.3336 22.2946 21.315V21.3182C22.3137 22.0286 22.1066 22.72 21.7052 23.2839C21.4694 23.6981 21.1667 24.09 20.7972 24.4404H20.7941C20.6412 24.5869 20.5168 24.759 20.4341 24.9533C20.3575 25.1317 20.2843 25.3133 20.2015 25.4949H16.1617C15.1931 25.4949 14.2247 25.4949 13.2529 25.498C13.237 25.498 13.2211 25.498 13.2083 25.4949C13.1605 25.4854 13.1286 25.4631 13.0968 25.4121C13.0808 25.3834 13.068 25.358 13.0521 25.3294C12.8163 24.9056 12.6411 24.4563 12.5773 23.9689C12.5008 23.3764 12.5805 22.7965 12.7875 22.239C12.9692 21.7388 13.1827 21.2513 13.3801 20.7544C13.4947 20.4612 13.5967 20.1619 13.6062 19.8464C13.5903 19.84 13.5744 19.8336 13.5584 19.8273C12.1471 19.2315 10.7357 18.6357 9.32417 18.0367C8.97087 17.8871 8.78926 17.629 8.97429 17.2531L8.97438 17.2531ZM11.6981 17.3487C12.2429 17.7341 12.7845 18.1293 13.3484 18.4828C13.1637 17.9158 12.9661 17.3549 12.7878 16.7879C12.7081 16.5425 12.6413 16.2971 12.5871 16.0455C12.2621 16.3354 11.9499 16.6159 11.6377 16.8993C11.4561 17.065 11.5424 17.2371 11.6981 17.3487L11.6981 17.3487Z"
                                                        fill="#368796" />
                                                </svg>
                                            </div>
                                            <p *ngIf="item?.IsPregnancy==1" class="text-center">{{item?.PregnancyContent}}</p>
                                        </div>
                                        <!-- <div class="col-2 d-none">
                                            <label for="" class="form-label m-0 fw-bold">Reason For Admission</label>
                                            <p class="text-truncate fs-8">{{item.ReasonForAdm}}</p>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="doctor_worklist_ChiefComplaints p-1 rounded-bottom d-flex align-items-center gap-4">
                            <div class="d-flex align-items-center gap-2">
                                <label for="" class="form-label text-nowrap m-0 fw-bold clr-primary-600">Location:</label>
                                <p class="text-truncate fs-8">{{item.HospitalName}}</p>
                            </div>
                            <div class="d-flex align-items-center gap-2" *ngIf="item.CompanyName!=''">
                                <label for="" class="form-label text-nowrap m-0 fw-bold clr-primary-600">Insurance Name</label>
                                <p class="fs-8">{{item.CompanyName}} </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

 <div class="modal" id="errorMsg" data-bs-abackdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{errorMsg}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">Ok</a>
                </div>
            </div>
        </div>
    </div>
</div>