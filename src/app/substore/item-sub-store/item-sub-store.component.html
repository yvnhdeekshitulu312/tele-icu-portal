<app-suit-header [IsSwitchWard]="true"></app-suit-header>

<div class="page-header sticky-top shadow-sm justify-content-start">
    <h2 class="page-heading">Item Substore</h2>
    <div class="actions ms-auto d-flex align-items-center gap-2">
        <!-- <button class="btn btn-main-outline" data-bs-toggle="modal" data-bs-target="#stockDetailsModal" *ngIf="isItemSelected">Stock Details</button> -->
         <button class="btn btn-main-outline" (click)="getItemSubstoreStockDetails()" *ngIf="isItemSelected">Stock Details</button>
        <button class="btn btn-danger-outline" (click)="clearForm()">Clear</button>
        <button class="btn btn-main-outline" (click)="onSaveClick()">Save</button>
    </div>
</div>
<div class="p-2">
    <div class="bprder rounded">
        <div class="row g-2 align-items-end p-2">

            <div class="col-4">
                <label for="" class="form-label">Item Name</label>
                <form [formGroup]="viewForm">
                    <div class="d-flex input-group">
                        <input type="text" class="form-control pe-2" autocomplete="off" formControlName="itemName"
                            [matAutocomplete]="itemname"
                            (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : searchItems($event)">
                        <mat-autocomplete #itemname="matAutocomplete" (optionSelected)="onSelectItem($event)">
                            <mat-option *ngFor="let item of itemsList" [value]="item.DisplayName">
                                {{item.DisplayName}}
                            </mat-option>
                        </mat-autocomplete>
                        <button class="btn btn-secondary-fill btn-icon" type="button" id="button-addon2" (click)="openItemSearchModal()">
                            <img src="assets/images/icons/icon-search.svg" alt="">
                        </button>
                    </div>
                </form>
            </div>
            <div class="col-2">
                <label for="" class="form-label">Maximum Level</label>
                <input type="text" class="form-control" numbersOnly [(ngModel)]="selectedItem.MaximumLevel">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Reorder Level</label>
                <input type="text" class="form-control" numbersOnly [(ngModel)]="selectedItem.ReorderLevel">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Minimum Level</label>
                <input type="text" class="form-control" numbersOnly [(ngModel)]="selectedItem.MinimumLevel">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Reorder Qty</label>
                <input type="text" class="form-control" numbersOnly [(ngModel)]="selectedItem.ReorderQty">
            </div>
            <!-- <div class="col-2">
                <label for="" class="form-label">Item Code</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.ItemCode">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Item type</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.ItemType">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Brand Name</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.BrandName">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Strength</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.Strength">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Strength UOM</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.StrengthUoM">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Manufacturer</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.Manufacturer">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Size</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.Size">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Color</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.Color">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Category</label>
                <input type="text" class="form-control" disabled [(ngModel)]="selectedItem.CategoryName">
            </div>
            <div class="col-2">
                <label for="" class="form-label">Dose Form</label>
                <input type="text" class="form-control" disabled>
            </div> -->
        </div>
        <div class="p-2 border-top">
            <div class="row g-2">
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Item Code</label>
                    <p>{{selectedItem.ItemCode}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Item type</label>
                    <p>{{selectedItem.ItemType}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Brand Name</label>
                    <p>{{selectedItem.BrandName}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Strength</label>
                    <p>{{selectedItem.Strength}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Strength UOM</label>
                    <p>{{selectedItem.StrengthUoM}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Manufacturer</label>
                    <p>{{selectedItem.Manufacturer}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Size</label>
                    <p>{{selectedItem.Size}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Color</label>
                    <p>{{selectedItem.Color}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Category</label>
                    <p>{{selectedItem.CategoryName}}</p>
                </div>
                <div class="col">
                    <label for="" class="form-label clr-primary-600 fw-bold">Dose Form</label>
                    <p></p>
                </div>
            </div>
        </div>
    </div>
    <div class="card card-style-grey rounded mt-2" *ngIf="isItemSelected">
        <div class="card-header py-2 min-height-unset rounded-top justify-content-start">
            <h5 class="card-heading">Storage and Packaging Details</h5>
        </div>
        <div class="">
            <div class="row g-2 mx-0">
                <div class="col-5 p-2 border-end">
                    <div class="d-flex align-items-center gap-2">
                        <div class="d-flex align-items-center gap-2 w-50">
                            <label for="" class="form-label m-0 text-nowrap">Rack</label>
                            <div class="d-flex input-group">
                                <input id="rack_text" type="text" class="form-control pe-5" autocomplete="off"
                                    [matAutocomplete]="rackname"
                                    (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : searchRacks($event)">
                                <mat-autocomplete #rackname="matAutocomplete" (optionSelected)="onSelectRack($event)">
                                    <mat-option *ngFor="let item of rackItems" [value]="item.Rack">
                                        {{item.Rack}}
                                    </mat-option>
                                </mat-autocomplete>
                                <button class="btn btn-secondary-fill btn-icon" type="button" id="button-addon2">
                                    <img src="assets/images/icons/icon-search.svg" alt="">
                                </button>
                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <label for="" class="form-label m-0 text-nowrap">Default Issuing Type</label>
                            <select name="" class="form-select pe-4" style="width: 15rem;"
                                [(ngModel)]="selectedItem.DefaultUnitID">
                                <option [value]="option.UoMID" *ngFor="let option of issueTypeList">{{option.FullUoM}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="mt-2">
                        <div class="fixed_alter_list rounded border-primary-200">
                            <div class="fixed_alter_header bg-primary-50 rounded-top">
                                <div class="row gx-2 p-2 mx-0">
                                    <div class="" style="width: 85%;">
                                        <p class="label m-0">Shelf</p>
                                    </div>
                                    <div class="" style="width: 15%;">
                                        <p class="label m-0 text-center">Checked</p>
                                    </div>
                                </div>
                            </div>
                            <div class="fixed_alter_body height-unset" style="overflow: unset;">
                                <div class="row gx-2 p-2 mx-0 alter_div rounded-0" *ngFor="let item of selectedRacks">
                                    <div class="" style="width: 85%;">
                                        <p class="m-0">{{item.Shelf}}</p>
                                    </div>
                                    <div class="" style="width: 15%;">
                                        <div class="custom_check d-flex align-items-center justify-content-center"
                                            [class.active]="item.Rackchecked" (click)="onShelfSelection(item);">
                                            <svg style="min-width:1rem;" width="16" height="16" viewBox="0 0 20 21"
                                                fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                <path
                                                    d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                    fill="white" stroke="white" stroke-width="0.25"></path>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col p-2">
                    <div class="card card-style-grey rounded">
                        <div class="card-header rounded-top py-2 min-height-unset justify-content-start">
                            <h5 class="card-heading">Package Information</h5>
                        </div>
                        <div class="">
                            <div class="fixed_alter_list">
                                <div class="fixed_alter_header bg-primary-50">
                                    <div class="row gx-2 p-2 mx-0">
                                        <div class="" style="width: 10%;">
                                            <p class="label m-0">SL.NO</p>
                                        </div>
                                        <div class="" style="width: 30%;">
                                            <p class="label m-0">From Unit</p>
                                        </div>
                                        <div class="" style="width: 30%;">
                                            <p class="label m-0">Factor</p>
                                        </div>
                                        <div class="" style="width: 30%;">
                                            <p class="label m-0">To Unit</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="fixed_alter_body height-unset" style="overflow: unset;">
                                    <div class="row gx-2 p-2 mx-0 rounded-0"
                                        *ngFor="let item of packingList;">
                                        <div class="" style="width: 10%;">
                                            <p class="m-0">{{item.Sequence}}</p>
                                        </div>
                                        <div class="" style="width: 30%;">
                                            <p class="m-0">{{item.FromUoM}}</p>
                                        </div>
                                        <div class="" style="width: 30%;">
                                            <p class="m-0">{{item.Factor}}</p>
                                        </div>
                                        <div class="" style="width: 30%;">
                                            <p class="m-0">{{item.ToUoM}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="errorMessagesModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p *ngIf="errorMessages.length === 1">{{errorMessages[0]}}</p>
                <ul *ngIf="errorMessages.length > 1">
                    <li *ngFor="let error of errorMessages; let i = index"> {{error}}</li>
                </ul>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="successMsgModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>Saved successfully</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">Ok</a>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="modal stockDetailsModal" data-bs-backdrop="static" data-bs-keyboard="false"
        id="stockDetailsModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered my-2" style="max-width: 96%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" translate>Stock Details</h5>
                <div class="ms-auto d-flex align-items-center gap-2">
                    <!-- <button class="btn btn-main-outline">Print Barcode</button> -->
                    <button class="btn btn-danger-outline" (click)="onClearStockDetails()">Clear</button>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body p-0">
                <div class="" *ngIf="isItemSelected">

                    <div class="row gx-2 stockDetails_token rad mx-0 p-2">
                        <div class="col cursor-pointer" *ngFor="let item of stockDetails" (click)="onStockSlection(item)">
                            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center position-relative" [class.active]="item.selected">
                                <div class="count total_token w-100">
                                    <p class="m-0 fs-7 fw-bold">{{item.Department}}</p>
                                    <div class="d-flex align-items-center justify-content-between">
                                        <h1 class="m-0 fw-bold clr-primary-600">{{item.QOH}}</h1>
                                        <p class="clr-primary-600 p-1 px-3 rounded-5 bg-primary-100 fw-bold">{{item.DefaultUoM}}</p>
                                    </div>
                                </div>

                                <div class="custom_check d-flex align-items-center justify-content-center" [class.active]="item.selected">
                                    <svg style="min-width:1rem;" width="16" height="16" viewBox="0 0 20 21" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                        <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                        <path
                                            d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                            fill="white" stroke="white" stroke-width="0.25"></path>
                                    </svg>
                                </div>

                            </div>
                        </div>
                     </div>

                    <div class="">
                        <!-- <div class="d-flex align-items-center gap-2 p-2">
                            <label for="" class="form-label m-0 text-nowrap">QoH</label>
                            <input type="text" class="form-control w-auto" disabled>
                        </div> -->
                        <!-- <div class="fixed_alter_list m-2">
                            <div class="fixed_alter_header bg-primary-50">
                                <div class="row gx-2 p-2 mx-0">
                                    <div class="" style="width: 40%;">
                                        <p class="label m-0">Store Name</p>
                                    </div>
                                    <div class="" style="width: 20%;">
                                        <p class="label m-0">QOH</p>
                                    </div>
                                    <div class="" style="width: 20%;">
                                        <p class="label m-0">Default Unit</p>
                                    </div>
                                    <div class="" style="width: 20%;">
                                        <p class="label m-0 text-center">Button</p>
                                    </div>
                                </div>
                            </div>
                            <div class="fixed_alter_body height-unset" style="overflow: unset;">
                                <div class="row gx-2 p-2 mx-0 alter_div rounded-0" *ngFor="let item of stockDetails">
                                    <div class="" style="width: 40%;">
                                        <p class="m-0">{{item.Department}}</p>
                                    </div>
                                    <div class="" style="width: 20%;">
                                        <p class="m-0">{{item.QOH}}</p>
                                    </div>
                                    <div class="" style="width: 20%;">
                                        <p class="m-0">{{item.DefaultUoM}}</p>
                                    </div>
                                    <div class="" style="width: 20%;">
                                        <div class="custom_check d-flex align-items-center justify-content-center" [class.active]="item.selected" (click)="onStockSlection(item)">
                                            <svg style="min-width:1rem;" width="16" height="16" viewBox="0 0 20 21" fill="none"
                                                xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                <path
                                                    d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                    fill="white" stroke="white" stroke-width="0.25"></path>
                                            </svg>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-2" *ngIf="stockItemDetails.length > 0">
                                    <div class="fixed_alter_list rounded border-primary-200">
                                        <div class="fixed_alter_header bg-primary-50 rounded-top">
                                            <div class="row gx-2 p-2 mx-0">
                                                <div class="" style="width: 5%;">
                                                    <p class="label m-0">SL.No</p>
                                                </div>
                                                <div class="" style="width: 7%;">
                                                    <p class="label m-0">Item ID</p>
                                                </div>
                                                <div class="" style="width: 7%;">
                                                    <p class="label m-0">Item Code</p>
                                                </div>
                                                <div class="" style="width: 22%;">
                                                    <p class="label m-0">Display Name</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="label m-0">Batch No.</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="label m-0">Expiry Date</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="label m-0">Qty</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="label m-0">UOM</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="label m-0">RPU</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="label m-0">MRP</p>
                                                </div>
                                                <div class="" style="width: 5%;">
                                                    <div class="custom_check d-flex align-items-center justify-content-center" [class.active]="stockItemSelectAll" (click)="selectAllClick()">
                                                        <svg style="min-width:1rem;" width="16" height="16" viewBox="0 0 20 21"
                                                            fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                            <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                            <path
                                                                d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                                fill="white" stroke="white" stroke-width="0.25"></path>
                                                        </svg>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="fixed_alter_body stockItemDetails_table">
                                            <div class="row gx-2 p-2 mx-0 alter_div rounded-0" *ngFor="let item of stockItemDetails; let i = index;">
                                                <div class="" style="width: 5%;">
                                                    <p class="m-0">{{i + 1}}</p>
                                                </div>
                                                <div class="" style="width: 7%;">
                                                    <p class="m-0">{{item.ItemID}}</p>
                                                </div>
                                                <div class="" style="width: 7%;">
                                                    <p class="m-0">{{item.ItemCode}}</p>
                                                </div>
                                                <div class="" style="width: 22%;">
                                                    <p class="m-0">{{item.DisplayName}}</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="m-0">{{item.BatchNO}}</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="m-0">{{item.ExpiryDate.split(' ')[0]}}</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="m-0">{{item.Quantity}}</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="m-0">{{item.UOM}}</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="m-0">{{item.RPU}}</p>
                                                </div>
                                                <div class="" style="width: 9%;">
                                                    <p class="m-0">{{item.MRP}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div> -->
                        <div class="mt-2" *ngIf="stockItemDetails.length > 0">
                            <div class="fixed_alter_list rounded border-primary-200">
                                <div class="fixed_alter_header bg-primary-50 rounded-top">
                                    <div class="row gx-2 p-2 mx-0">
                                        <div class="" style="width: 5%;">
                                            <p class="label m-0">SL.No</p>
                                        </div>
                                        <div class="" style="width: 7%;">
                                            <p class="label m-0">Item ID</p>
                                        </div>
                                        <div class="" style="width: 7%;">
                                            <p class="label m-0">Item Code</p>
                                        </div>
                                        <div class="" style="width: 22%;">
                                            <p class="label m-0">Display Name</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">Batch No.</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">Expiry Date</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">Qty</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">UOM</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">RPU</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">MRP</p>
                                        </div>
                                        <!-- <div class="" style="width: 6%;">
                                            <p class="label m-0">Count</p>
                                        </div> -->
                                        <div class="" style="width: 5%;">
                                            <div class="custom_check d-flex align-items-center justify-content-center" [class.active]="stockItemSelectAll" (click)="selectAllClick()">
                                                <svg style="min-width:1rem;" width="16" height="16" viewBox="0 0 20 21"
                                                    fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                    <path
                                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="fixed_alter_body stockItemDetails_table">
                                    <div class="row gx-2 p-2 mx-0 alter_div rounded-0" *ngFor="let item of stockItemDetails; let i = index;">
                                        <div class="" style="width: 5%;">
                                            <p class="m-0">{{i + 1}}</p>
                                        </div>
                                        <div class="" style="width: 7%;">
                                            <p class="m-0">{{item.ItemID}}</p>
                                        </div>
                                        <div class="" style="width: 7%;">
                                            <p class="m-0">{{item.ItemCode}}</p>
                                        </div>
                                        <div class="" style="width: 22%;">
                                            <p class="m-0">{{item.DisplayName}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.BatchNO}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.ExpiryDate.split(' ')[0]}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.Quantity}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.UOM}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.RPU}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.MRP}}</p>
                                        </div>
                                        <!-- <div class="" style="width: 6%;">
                                            <input type="text" numbersOnly class="form-control p-1 fs-8" [(ngModel)]="item.Count">
                                        </div>
                                        <div class="" style="width: 5%;">
                                            <div class="custom_check d-flex align-items-center justify-content-center" [class.active]="item.selected" (click)="item.selected = !item.selected">
                                                <svg style="min-width:1rem;" width="16" height="16" viewBox="0 0 20 21"
                                                    fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                    <path
                                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                                </svg>
                                            </div>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="itemSearchModal" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-dialog-centered" style="max-width:50rem">
      <div class="modal-content">
         <div class="modal-header p-2 gap-3">
            <h5 class="modal-title clr-primary-600 fs-6 text-nowrap" translate>Item Search</h5>
            <div class="d-flex align-items-center gap-2">
               <button class="btn btn-main-outline" (click)="onSelectBtnClick()">Select</button>
               <button type="button" data-bs-dismiss="modal" aria-label="Close" class="btn-close"></button>
            </div>
         </div>
         <div class="modal-body p-2">
            <div class="d-flex gap-2">
               <div class="d-flex flex-column">
                  <label for="" class="form-label w-50">Item Code</label>
                  <div class="d-flex align-items-center gap-2">
                     <div class="input-group">
                        <select name="" class="form-select pe-5" [(ngModel)]="itemCodeFilterType">
                           <option *ngFor="let item of filterTypeList" [value]="item.id">
                              {{item.label}}
                           </option>
                        </select>
                     </div>
                     <input type="text" class="form-control" placeholder="Code" [(ngModel)]="itemCodeSearchText" (keydown.enter)="fetchItems()">
                  </div>
               </div>
               <div class="d-flex flex-column">
                  <label for="" class="form-label w-50">Item Name</label>
                  <div class="d-flex gap-2 align-items-center">
                     <div class="input-group">
                        <select name="" class="form-select pe-5" [(ngModel)]="itemNameFilterType">
                           <option *ngFor="let item of filterTypeList" [value]="item.id">
                              {{item.label}}
                           </option>
                        </select>
                     </div>
                     <input type="text" class="form-control" placeholder="Name" [(ngModel)]="itemNameSearchText" (keydown.enter)="fetchItems()">
                  </div>
               </div>
            </div>
            <div class="d-flex mt-2 gap-2 justify-content-end">
               <button class="btn btn-danger-outline" (click)="clearSearch()">Clear</button>
               <button class="btn btn-main-outline" (click)="fetchItems()">Search</button>               
            </div>
            
            <div class="mt-3">
               <div class="fixed_alter_list rounded border-primary-200">
                  <div class="fixed_alter_header bg-primary-100">
                     <div class="row gx-2 mx-0 p-2">
                        <div class="col-1"></div>
                        <div class="col-3">
                           <p class="label m-0">Item Name</p>
                        </div>
                        <div class="col-1">
                           <p class="label m-0">QoH</p>
                        </div>
                         <div class="col-1">
                           <p class="label m-0">RoQ</p>
                        </div>
                         <div class="col-1">
                           <p class="label m-0">RoL</p>
                        </div>
                         <div class="col-2">
                           <p class="label m-0">Blocked</p>
                        </div>
                        <div class="col-1">
                           <p class="label m-0">Code</p>
                        </div>
                        <div class="col-2">
                           <p class="label m-0">Generic Name</p>
                        </div>
                     </div>
                  </div>
                  <div class="fixed_alter_body" style="height: calc(100vh - 35rem);">
                     <div class="row gx-2 mx-0 p-2 alter_div" *ngFor="let item of fetchedItemsList;let i=index">
                        <div class="col-1">
                           <div class="custom_check d-flex align-items-center justify-content-center"
                              [class.active]="item.selected" (click)="onItemSelection(item)">
                              <svg width="17" height="17" viewBox="0 0 20 21" fill="none"
                                 xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                 <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                 <path
                                    d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                    fill="white" stroke="white" stroke-width="0.25"></path>
                              </svg>
                           </div>
                        </div>
                        <div class="col-3">
                           <p class="m-0">{{ item.DisplayName }}</p>
                        </div>
                        <div class="col-1">
                           <p class="m-0">{{ item.QoH | number:'1.0-0' }}</p>
                        </div>
                         <div class="col-1">
                           <p class="m-0">{{ item.RoQ }}</p>
                        </div>
                         <div class="col-1">
                           <p class="m-0">{{ item.RoL | number:'1.0-0'}}</p>
                        </div>
                         <div class="col-2">
                           <p class="m-0">{{ item.Blocked }}</p>
                        </div>
                        <div class="col-1">
                           <p class="m-0">{{item.ItemCode}}</p>
                        </div>
                        <div class="col-2">
                           <p class="m-0">{{item.GenericName}}</p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <app-pagination *ngIf="totalItemsCount > 0" [currentPage]="currentPage" [totalCount]="totalItemsCount"
                        (pageChange)="handlePageChange($event)"></app-pagination>
         </div>
      </div>
   </div>
</div>

<div class="modal" id="errorMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{errorMsg}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal stockDetailsModal" data-bs-backdrop="static" data-bs-keyboard="false"
        id="stockDetailsModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable my-2" style="max-width: 96%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" translate>Stock Details</h5>
                <div class="ms-auto d-flex align-items-center gap-2">
                    <!-- <button class="btn btn-main-outline">Print Barcode</button> -->
                    <button class="btn btn-danger-outline" (click)="onClearStockDetails()">Clear</button>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body">
                <div class="" *ngIf="isItemSelected">

                    <div class="row g-2 stockDetails_token rad mx-0">
                        <div class="col-2 cursor-pointer" *ngFor="let item of stockDetails" (click)="onItemSubstoreStockSlection(item)">
                            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center position-relative" [class.active]="item.selected">
                                <div class="count total_token w-100">
                                    <p class="m-0 fs-7 fw-semibold">{{item.FailityName}}</p>
                                    <div class="d-flex align-items-center justify-content-between">
                                        <h1 class="m-0 fw-semibold clr-primary-600 fs-5">{{item.HighestUnitQty}}</h1>
                                        <!-- <p class="clr-primary-600 p-1 px-3 rounded-5 bg-primary-100 fw-bold">{{item.DefaultUoM}}</p> -->
                                    </div>
                                </div>

                                <div class="custom_check d-flex align-items-center justify-content-center" [class.active]="item.selected">
                                    <svg style="min-width:1rem;" width="16" height="16" viewBox="0 0 20 21" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                        <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                        <path
                                            d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                            fill="white" stroke="white" stroke-width="0.25"></path>
                                    </svg>
                                </div>

                            </div>
                        </div>
                     </div>

                    <div class="">
                        <div class="mt-2" *ngIf="stockItemDetails.length > 0">
                            <div class="fixed_alter_list rounded border-primary-200">
                                <div class="fixed_alter_header bg-primary-50 rounded-top">
                                    <div class="row gx-2 p-2 mx-0">
                                        <div class="" style="width: 5%;">
                                            <p class="label m-0">SL.No</p>
                                        </div>
                                        <!-- <div class="" style="width: 7%;">
                                            <p class="label m-0">Item ID</p>
                                        </div> -->
                                        <div class="" style="width: 5%;">
                                            <p class="label m-0">Item Code</p>
                                        </div>
                                        <div class="" style="width: 22%;">
                                            <p class="label m-0">Display Name</p>
                                        </div>
                                        <div class="" style="width: 6%;">
                                            <p class="label m-0">Batch No.</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">Expiry Date</p>
                                        </div>
                                        <div class="" style="width: 6%;">
                                            <p class="label m-0">Highest Qty</p>
                                        </div>
                                        <div class="" style="width: 6%;">
                                            <p class="label m-0">Lowest Qty</p>
                                        </div>
                                        <!-- <div class="" style="width: 9%;">
                                            <p class="label m-0">UOM</p>
                                        </div> -->
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">RPU (Highest Qty)</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">RPU (Lowest Qty)</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">MRP (Highest Qty)</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="label m-0">MRP (Lowest Qty)</p>
                                        </div>
                                        <!-- <div class="" style="width: 5%;">
                                            <div class="custom_check d-flex align-items-center justify-content-center" [class.active]="stockItemSelectAll" (click)="selectAllClick()">
                                                <svg style="min-width:1rem;" width="16" height="16" viewBox="0 0 20 21"
                                                    fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                    <path
                                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                                </svg>
                                            </div>
                                        </div> -->
                                    </div>
                                </div>
                                <div class="fixed_alter_body stockItemDetails_table">
                                    <div class="row gx-2 p-2 mx-0 alter_div rounded-0" *ngFor="let item of stockItemDetails; let i = index;">
                                        <div class="" style="width: 5%;">
                                            <p class="m-0">{{i + 1}}</p>
                                        </div>
                                        <!-- <div class="" style="width: 7%;">
                                            <p class="m-0">{{item.ItemID}}</p>
                                        </div> -->
                                        <div class="" style="width: 5%;">
                                            <p class="m-0">{{item.ItemCode}}</p>
                                        </div>
                                        <div class="" style="width: 22%;">
                                            <p class="m-0">{{item.ItemName}}</p>
                                        </div>
                                        <div class="" style="width: 6%;">
                                            <p class="m-0">{{item.BatchNo}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.ExpiryDate.split(' ')[0] | date: 'dd-MMM-yyyy'}}</p>
                                        </div>
                                        <div class="" style="width: 6%;">
                                            <p class="m-0">{{item.HighestUnitQty}}</p>
                                        </div>
                                        <div class="" style="width: 6%;">
                                            <p class="m-0">{{item.LowestUnitQty}}</p>
                                        </div>                                        
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.UEPR_HighestUnit}}</p>
                                        </div>
                                         <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.UEPR_LowestUnit}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.MRP_HighestUnit}}</p>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="m-0">{{item.MRP_LowestUnit}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>