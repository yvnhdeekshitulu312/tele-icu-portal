<app-header [InputHome]="IsHome" [IsSwitchWard]="false" [showAlert]="showAlert"></app-header>


<!--Container-->
<div class="container-fluid p-0">
    <div class="container__wrapper">
        <div class="page-header sticky-top" style="height: 3rem;">
            <div class="d-flex align-items-center gap-5">
                <h2 class="page-heading">Drug Administration</h2>
                <div class="d-flex align-items-center gap-2">
                    <div class="d-flex align-items-center gap-2">
                        <label for="" class="form-label clr-primary-600 text-nowrap m-0">ID No. :</label>
                        <input autofocus type="text" class="form-control" [(ngModel)]="nationalID"
                            (keydown.enter)="onNationalIDEnterPress($event)" (paste)="$event.preventDefault()">
                    </div>
                    <div class="ms-3 text-center">
                        <svg class="me-2" width="30" height="31" viewBox="0 0 24 25" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M20.4312 14.7041C20.4312 14.2992 20.7596 13.9707 21.1647 13.9707C21.5696 13.9707 21.8982 14.2989 21.8982 14.7041V17.632C21.8982 18.1191 21.6998 18.5608 21.3801 18.8806C21.0603 19.2005 20.6186 19.3987 20.1315 19.3987H17.2033C16.7984 19.3987 16.4698 19.0703 16.4698 18.6652C16.4698 18.2603 16.7982 17.9318 17.2033 17.9318L20.1312 17.9319C20.2132 17.9319 20.2883 17.8979 20.3427 17.8436C20.3973 17.789 20.431 17.7142 20.431 17.6321L20.4309 14.7042L20.4312 14.7041ZM5.45691 16.4165H5.87794L5.8781 12.7846H7.34472V16.4168H9.41429V12.7846H10.8809V16.4168H12.9505V12.7846H14.4171V16.4168H16.4866V12.7846H17.9533V16.4168H18.3928C18.6453 16.4168 18.8512 16.2109 18.8512 15.9584V12.7846H22.2665C22.6715 12.7846 23 12.4564 23 12.0512C23 11.6463 22.6716 11.3177 22.2665 11.3177H1.73345C1.32853 11.3177 1 11.6461 1 12.0512C1 12.4561 1.32838 12.7846 1.73345 12.7846H4.99797V15.9584C4.99845 16.2107 5.20421 16.4165 5.45687 16.4165H5.45691ZM5.87811 9.85122V7.6858H5.45708C5.20459 7.6858 4.99867 7.89172 4.99867 8.1442V9.85139L5.87811 9.85155V9.85122ZM9.41429 9.85122V7.6858H7.34473V9.85122H9.41429ZM12.9506 9.85122V7.6858H10.881V9.85122H12.9506ZM16.4868 9.85122V7.6858H14.4172V9.85122H16.4868ZM18.8514 9.85122V8.14404C18.8514 7.89155 18.6454 7.68563 18.3929 7.68563H17.9534V9.85106H18.8514L18.8514 9.85122ZM6.79789 17.9324C7.20281 17.9324 7.53134 18.2608 7.53134 18.6658C7.53134 19.0708 7.20296 19.3993 6.79789 19.3993L3.87001 19.3991C3.3829 19.3991 2.94124 19.2008 2.62139 18.8811C2.30155 18.5612 2.10334 18.1196 2.10334 17.6325V14.7043C2.10334 14.2993 2.43172 13.9708 2.8368 13.9708C3.24172 13.9708 3.57025 14.299 3.57025 14.7043V17.6321C3.57025 17.7141 3.60425 17.7892 3.65855 17.8437C3.71317 17.8983 3.78793 17.932 3.87027 17.932H6.79786L6.79789 17.9324ZM3.66067 9.39831C3.66067 9.80323 3.33229 10.1318 2.92721 10.1318C2.52229 10.1318 2.19376 9.80354 2.19376 9.39831L2.19392 6.47043C2.19392 5.98332 2.39227 5.54166 2.71197 5.22181C3.03181 4.90197 3.47347 4.70376 3.96059 4.70376H6.88847C7.29339 4.70376 7.62192 5.03214 7.62192 5.43722C7.62192 5.84214 7.29354 6.17067 6.88847 6.17067L3.96071 6.17051C3.8787 6.17051 3.80361 6.20451 3.74899 6.25881C3.69437 6.31343 3.66069 6.38819 3.66069 6.47053L3.66067 9.39831ZM17.2936 6.17022C16.8886 6.17022 16.5601 5.84183 16.5601 5.43676C16.5601 5.03184 16.8885 4.70331 17.2936 4.70331H20.2214C20.7086 4.70331 21.1502 4.90166 21.4701 5.22136C21.7899 5.5412 21.9881 5.98286 21.9881 6.46998V9.39785C21.9881 9.80277 21.6597 10.1313 21.2547 10.1313C20.8497 10.1313 20.5212 9.80309 20.5212 9.39785L20.5214 6.47043C20.5214 6.38841 20.4874 6.31333 20.4331 6.25887C20.3784 6.20424 20.3037 6.17057 20.2215 6.17057H17.2936L17.2936 6.17022Z"
                                fill="#368796" />
                        </svg>
                        <p class="m-0 clr-primary-600 text-nowrap">Scan Patient</p>
                    </div>
                    <div class="d-flex align-items-center gap-2 ms-3">
                        <input type="checkbox" class="form-check-input m-0">
                        <label for="" class="form-label m-0 text-nowrap clr-primary-600">All Details
                            Verified</label>
                    </div>
                </div>
            </div>
            <div class="actions ms-auto d-flex align-items-center gap-2">
                <button class="btn btn-main-fill" (click)="navigatetoBedBoard()">Beds Board</button>
                <button class="btn btn-main-outline" (click)="openQuickActions()">Quick
                    Actions</button>
            </div>
        </div>
        <div class="container-body p-2 pb-0">           
            <app-wardheader-summary *ngIf="isNational"></app-wardheader-summary>
            <div class="mt-2 card card-style-1">
                <!-- <h6 class="m-0 clr-primary-600 p-3">Prescription</h6> -->
                <div class="card-header justify-content-between py-2">
                    <form [formGroup]="drugForm" class="w-100">
                        <div class="row align-items-center">
                            <div class="col-4">
                                <div class="d-flex align-items-end">
                                    <div class="me-2 w-100">
                                        <label for="" class="form-label clr-primary-600" required>Scan Drug</label>
                                        <input type="text" class="form-control" formControlName="ScanDrug"
                                            (keydown.enter)="onEnterPress($event)" (change)="onchangeScanDrug()" (paste)="$event.preventDefault()">
                                    </div>
                                    <input type="checkbox" class="form-check-input mb-2" formControlName="IsScan">
                                    <div class="ms-2 text-center">
                                        <svg class="me-2" width="30" height="31" viewBox="0 0 24 25" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M20.4312 14.7041C20.4312 14.2992 20.7596 13.9707 21.1647 13.9707C21.5696 13.9707 21.8982 14.2989 21.8982 14.7041V17.632C21.8982 18.1191 21.6998 18.5608 21.3801 18.8806C21.0603 19.2005 20.6186 19.3987 20.1315 19.3987H17.2033C16.7984 19.3987 16.4698 19.0703 16.4698 18.6652C16.4698 18.2603 16.7982 17.9318 17.2033 17.9318L20.1312 17.9319C20.2132 17.9319 20.2883 17.8979 20.3427 17.8436C20.3973 17.789 20.431 17.7142 20.431 17.6321L20.4309 14.7042L20.4312 14.7041ZM5.45691 16.4165H5.87794L5.8781 12.7846H7.34472V16.4168H9.41429V12.7846H10.8809V16.4168H12.9505V12.7846H14.4171V16.4168H16.4866V12.7846H17.9533V16.4168H18.3928C18.6453 16.4168 18.8512 16.2109 18.8512 15.9584V12.7846H22.2665C22.6715 12.7846 23 12.4564 23 12.0512C23 11.6463 22.6716 11.3177 22.2665 11.3177H1.73345C1.32853 11.3177 1 11.6461 1 12.0512C1 12.4561 1.32838 12.7846 1.73345 12.7846H4.99797V15.9584C4.99845 16.2107 5.20421 16.4165 5.45687 16.4165H5.45691ZM5.87811 9.85122V7.6858H5.45708C5.20459 7.6858 4.99867 7.89172 4.99867 8.1442V9.85139L5.87811 9.85155V9.85122ZM9.41429 9.85122V7.6858H7.34473V9.85122H9.41429ZM12.9506 9.85122V7.6858H10.881V9.85122H12.9506ZM16.4868 9.85122V7.6858H14.4172V9.85122H16.4868ZM18.8514 9.85122V8.14404C18.8514 7.89155 18.6454 7.68563 18.3929 7.68563H17.9534V9.85106H18.8514L18.8514 9.85122ZM6.79789 17.9324C7.20281 17.9324 7.53134 18.2608 7.53134 18.6658C7.53134 19.0708 7.20296 19.3993 6.79789 19.3993L3.87001 19.3991C3.3829 19.3991 2.94124 19.2008 2.62139 18.8811C2.30155 18.5612 2.10334 18.1196 2.10334 17.6325V14.7043C2.10334 14.2993 2.43172 13.9708 2.8368 13.9708C3.24172 13.9708 3.57025 14.299 3.57025 14.7043V17.6321C3.57025 17.7141 3.60425 17.7892 3.65855 17.8437C3.71317 17.8983 3.78793 17.932 3.87027 17.932H6.79786L6.79789 17.9324ZM3.66067 9.39831C3.66067 9.80323 3.33229 10.1318 2.92721 10.1318C2.52229 10.1318 2.19376 9.80354 2.19376 9.39831L2.19392 6.47043C2.19392 5.98332 2.39227 5.54166 2.71197 5.22181C3.03181 4.90197 3.47347 4.70376 3.96059 4.70376H6.88847C7.29339 4.70376 7.62192 5.03214 7.62192 5.43722C7.62192 5.84214 7.29354 6.17067 6.88847 6.17067L3.96071 6.17051C3.8787 6.17051 3.80361 6.20451 3.74899 6.25881C3.69437 6.31343 3.66069 6.38819 3.66069 6.47053L3.66067 9.39831ZM17.2936 6.17022C16.8886 6.17022 16.5601 5.84183 16.5601 5.43676C16.5601 5.03184 16.8885 4.70331 17.2936 4.70331H20.2214C20.7086 4.70331 21.1502 4.90166 21.4701 5.22136C21.7899 5.5412 21.9881 5.98286 21.9881 6.46998V9.39785C21.9881 9.80277 21.6597 10.1313 21.2547 10.1313C20.8497 10.1313 20.5212 9.80309 20.5212 9.39785L20.5214 6.47043C20.5214 6.38841 20.4874 6.31333 20.4331 6.25887C20.3784 6.20424 20.3037 6.17057 20.2215 6.17057H17.2936L17.2936 6.17022Z"
                                                fill="#368796" />
                                        </svg>
                                        <p class="m-0 clr-primary-600 text-nowrap">Scan Medication</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-3 d-none">
                                <div class="">
                                    <label for="" class="form-label clr-primary-600" required>Other Drug</label>
                                    <div class="d-flex align-items-center input-group">
                                        <input type="text" class="form-control" placeholder="" aria-label=""
                                            formControlName="OtherDrug">
                                        <button class="btn btn-secondary-fill btn-icon" type="button" id="">
                                            <img src="assets/images/icons/icon-search.svg" alt="">
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="d-flex align-items-end">
                                    <div class="me-3 w-100 d-none">
                                        <label for="" class="form-label clr-primary-600" required>IV Fluids</label>
                                        <select name="" class="form-select w-100" id="" formControlName="IVFluids">
                                            <option value="0">Select</option>
                                        </select>
                                    </div>
                                    <div class="" *ngIf="checkAllIssues">
                                        <label for="" class="form-label clr-primary-600">Search Drug</label>
                                        <input type="text" class="form-control" [(ngModel)]="searchDrugText" [ngModelOptions]="{standalone: true}" (input)="onSearchDrug()">
                                    </div>
                                    <div class="actions ms-auto d-flex gap-2">
                                        <button class="btn btn-main-outline" *ngIf="checkAllIssues"
                                            (click)="openCalendarView()">Calendar</button>
                                             <button class="btn btn-main-outline" (click)="FetchPatientVaccinationDetailSeha()">Seha View</button>
                                        <button class="btn btn-danger-outline"
                                            (click)="showNewChartDetails()">Chart</button>
                                        <!-- <button class="btn btn-danger-outline" (click)="showNewChartDetails()">New Chart</button> -->
                                        <button class="btn btn-danger-outline" (click)="clearDrug()">Clear</button>
                                        <button class="btn btn-main-outline" (click)="CheckAllIssues()">All
                                            Issues</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-3 d-none">
                                <div class="me-2 w-100">
                                    <label for="" class="form-label clr-primary-600">Schedule Date</label>
                                    <input type="date" class="form-control">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="p-2">
                    <div class="calendar_view drug_calendar_view" *ngIf="!checkAllIssues && !showChart">
                        <div class="card card-style-1">
                            <div class="card-header py-2 justify-content-between" id="" style="min-height: 2rem;">
                                <h6 class="m-0 clr-primary-600">{{currentWeekdate | date : 'EEEE d MMM'}}</h6>
                                <div class="d-flex align-items-center gap-2">
                                    <div
                                        class="col_footer legend d-flex align-items-center justify-content-end gap-2">                                       
                                        <div class="d-flex align-items-center cursor-pointer" (click)="filterMedication('all')">
                                            <span class="DrugActive"></span>
                                            <label for="" class="form-label text-nowrap mb-0 ms-1 cursor-pointer">All</label>
                                        </div>
                                        <div class="d-flex align-items-center cursor-pointer" (click)="filterMedication('active')">
                                            <span class="DrugActive"></span>
                                            <label for="" class="form-label text-nowrap mb-0 ms-1 cursor-pointer">Active</label>
                                        </div>
                                        <div class="d-flex align-items-center cursor-pointer"
                                            (click)="filterMedication('notadministered')">
                                            <span class="notAdministrated"></span>
                                            <label for="" class="form-label text-nowrap mb-0 ms-1 cursor-pointer">Missed</label>
                                        </div>
                                        <div class="d-flex align-items-center cursor-pointer" (click)="filterMedication('completed')">
                                            <span class="activelegendd"></span>
                                            <label for="" class="form-label text-nowrap mb-0 ms-1 cursor-pointer">Completed</label>
                                        </div>
                                        <div class="d-flex align-items-center cursor-pointer" (click)="filterMedication('STAT')">
                                            <span class="STATAlegendd"></span>
                                            <label for="" class="form-label text-nowrap mb-0 ms-1 cursor-pointer">STAT</label>
                                        </div>
                                        <div class="d-flex align-items-center cursor-pointer" (click)="filterMedication('hold')">
                                            <svg width="28" height="29" viewBox="0 0 28 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <rect x="0.5" y="1.05115" width="27" height="27" rx="13.5" fill="#FCEBE8"/>
                                                <rect x="0.5" y="1.05115" width="27" height="27" rx="13.5" stroke="#E63C1A"/>
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M6.71836 15.8127C6.60635 15.5905 6.53467 15.3819 6.53467 15.1878C6.53467 14.9224 6.64971 14.6662 6.85504 14.4943C7.23691 14.1756 7.81207 14.225 8.13192 14.6057L10.5023 17.4328C10.5434 17.4821 10.6132 17.5016 10.6764 17.4788C10.7378 17.4566 10.7798 17.3969 10.7798 17.3309V8.87269C10.7798 8.45348 11.0394 8.04475 11.455 7.94417C11.7373 7.8755 12.0179 7.93459 12.241 8.10952C12.4606 8.28132 12.5877 8.5407 12.5877 8.82098V13.7027C12.5877 13.7885 12.6588 13.8595 12.7446 13.8595C12.8305 13.8595 12.9015 13.7885 12.9015 13.7027V7.17355C12.9015 6.75257 13.1624 6.34769 13.5774 6.2453L13.5798 6.2447C13.8577 6.17887 14.14 6.23436 14.3645 6.41038L14.3657 6.41131L14.3669 6.41224C14.582 6.58484 14.7094 6.84273 14.7094 7.12185V13.7027C14.7094 13.7885 14.7805 13.8595 14.8663 13.8595C14.9536 13.8595 15.025 13.7871 15.025 13.7027V7.97231C15.025 7.69395 15.1488 7.43412 15.3693 7.26129C15.5941 7.08293 15.8774 7.02721 16.1563 7.09558C16.5699 7.19586 16.8329 7.60106 16.8329 8.02223V14.127C16.8329 14.2136 16.9029 14.2839 16.9898 14.2839C17.0767 14.2839 17.1467 14.2136 17.1467 14.127V10.5183C17.1467 10.2773 17.2401 10.0485 17.4104 9.87814C17.631 9.65762 17.9446 9.57265 18.2465 9.63401L18.2479 9.63429L18.2493 9.63459C18.4607 9.67988 18.6346 9.83064 18.7494 9.987C18.8662 10.1462 18.9546 10.355 18.9546 10.5683V17.8016C18.9546 20.4005 17.0053 22.6294 14.4934 22.8622C13.0993 22.992 11.7578 22.5531 10.7264 21.6293C9.96911 20.9527 9.42185 20.1231 8.86568 19.28L8.84441 19.2478C8.72056 19.0585 8.59306 18.8672 8.4648 18.6748C7.86556 17.792 7.23127 16.8313 6.71836 15.8127Z" fill="#EB6247"/>
                                            </svg>  
                                            <label for="" class="form-label text-nowrap mb-0 ms-1 cursor-pointer">Hold</label>
                                        </div>
                                        
                                        <!-- <div class="d-flex align-items-center">
                                                <span class="discontinuedd"></span>
                                                <label for="" class="form-label text-nowrap mb-0 ms-1">Discontinued</label>
                                            </div> -->
                                    </div>
                                    <div class="month_carousel_arrows d-flex align-items-center gap-2">
                                        <span class="cursor-pointer d-block" (click)="goToPreviousWeek()">
                                            <svg width="25" height="24" viewBox="0 0 25 24" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <rect x="0.391113" width="24" height="24" rx="6" fill="#B4DDE4" />
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M15.4806 18.4818C15.1552 18.8072 14.6275 18.8072 14.3021 18.4818L8.70415 12.8839C8.21599 12.3957 8.21599 11.6043 8.70415 11.1161L14.3021 5.51819C14.6275 5.19275 15.1552 5.19275 15.4806 5.51819C15.806 5.84363 15.806 6.37126 15.4806 6.6967L10.1773 12L15.4806 17.3033C15.806 17.6287 15.806 18.1564 15.4806 18.4818Z"
                                                    fill="#368796" />
                                            </svg>
                                        </span>
                                        <h6 class="m-0 clr-primary-600 fs-7">{{currentWeekdate | date : 'MMMM yyyy'}}
                                        </h6>
                                        <span class="cursor-pointer d-block" (click)="goToNextWeek()">
                                            <svg width="25" height="24" viewBox="0 0 25 24" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <rect x="0.391113" width="24" height="24" rx="6" fill="#B4DDE4" />
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M9.30164 5.51819C9.62707 5.19275 10.1547 5.19275 10.4801 5.51819L16.0781 11.1161C16.5662 11.6043 16.5662 12.3957 16.0781 12.8839L10.4801 18.4818C10.1547 18.8072 9.62707 18.8072 9.30164 18.4818C8.9762 18.1564 8.9762 17.6287 9.30164 17.3033L14.6049 12L9.30164 6.6967C8.9762 6.37126 8.9762 5.84363 9.30164 5.51819Z"
                                                    fill="#368796" />
                                            </svg>
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <div class="calendar_blocks">
                                <div [class]="todayDate === date.date ? 'calendar_col active' : 'calendar_col'"
                                    *ngFor="let date of currentWeekDates;let i=index">
                                    <div class="col_head p-2 d-flex align-items-center justify-content-between">
                                        <div class="d-flex align-items-center justify-content-between w-100">
                                            <h6 class="m-0 fs-7">{{date.date | date : 'EEE'}} {{date.date | date : 'd
                                                MMM'}}</h6>
                                            <h6 class="m-0 fs-7">{{date.CompletedCount}} / {{date.AllCount}}</h6>
                                            <!-- <h6 class="m-0 fs-7 clr-primary-600">{{date.date | date : 'EEE'}}</h6> -->
                                        </div>
                                    </div>
                                    <div *ngIf="calendarMedications.length > 0" class="col_body p-2">
                                        <div [class]="med.STATUSColor"
                                            *ngFor="let med of fetchDateWiseMedicines(date.date);" 
                                            (click)="OpenAdministrationSave(med)">
                                            <div class="front_card p-2 position-relative">
                                                <h6 class="m-0 fs-7">{{med.Drugname}}</h6>
                                                <!-- <p class="m-0 fs-8">{{med.MDateDiff}} days remain</p> -->
                                                <p class="m-0 fs-8">Pres Date : {{med.PrescriptionDate}}</p>
                                                <p class="m-0 fs-8 clr-primary-600" *ngIf="med.DocRemarks!=''">Remarks :
                                                    {{med.DocRemarks}}</p>
                                                <p class="m-0 fs-8 ">{{med.FrequencyDate}} - {{med.FrequencyDateTime}}
                                                </p>

                                                  <p class="m-0 fs-8 color-highlight" *ngIf="med.IsVaccine=='True'&&med.SehaClientVaccineID!=''">Seha VaccineID :
                                                    {{med.SehaClientVaccineID}}</p>


                                                    <div class="inline_legend pe-2">
                                                    <span class="legend fs-8 text-nowrap" (click)="SaveRetrySeha(med)"
                                                        *ngIf="med.IsVaccine=='True'&&med.SehaClientID==''">Retry Seha</span>


                                                </div>


                                                <h6 class="m-0 fs-8 mt-2" *ngIf="med.STATUSName!='NA'">Status</h6>
                                                <div class="d-flex align-items-center" *ngIf="med.STATUSName!='NA'">
                                                    <p class="m-0 fs-7 fw-bold" [class.medFrequency_blink]="shouldBlink(med)">{{med.STATUSName}}</p>
                                                    <img [src]="med.AdministrationStatusImg" style="height: 1.2rem;"
                                                        alt="" class="check ms-2">
                                                </div>
                                                <div class="d-flex align-items-center" *ngIf="med.Frequency=='STAT'">
                                                    <p style="color: #ffff;background: #e7214bd6;width: 86%;text-align: center;border-radius: 2px solid #fff;" class="m-0 fw-bold fs-7">{{med.Frequency}}</p>
                                                    </div>
                                                <div class="card_icon">
                                                    <svg *ngIf="med.StatusID == '4'" width="16" height="21"
                                                        viewBox="0 0 16 21" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z"
                                                            fill="#F7BF08" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z"
                                                            fill="#F7BF08" />
                                                    </svg>
                                                    <svg width="21" height="20" viewBox="0 0 21 20" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg" class="d-none">
                                                        <rect width="20" height="20" transform="translate(0.391113)"
                                                            fill="black" style="mix-blend-mode:saturation" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M0.584543 3.92935C0.326637 4.18728 0.326637 4.60541 0.584543 4.86333C0.842449 5.12126 1.26059 5.12126 1.5185 4.86333L1.98578 4.39606L4.32038 6.73067L2.45247 8.59863C2.19455 8.85655 2.19455 9.27468 2.45247 9.53261C2.71034 9.79053 3.12847 9.79053 3.3864 9.53261L4.32015 8.5988L12.259 16.5379C13.2164 17.4953 14.6156 17.7419 15.8004 17.2776L16.4617 17.9389C16.8075 18.2847 17.2974 18.3987 17.7381 18.2808L19.2638 19.8066C19.5216 20.0645 19.9398 20.0645 20.1977 19.8066C20.4556 19.5486 20.4556 19.1305 20.1977 18.8726L18.6718 17.3466C18.7893 16.906 18.6753 16.4166 18.3297 16.0709L17.6685 15.4097C18.1328 14.2247 17.8863 12.8255 16.9288 11.868L8.98993 3.9289L9.92409 2.99475C10.182 2.73682 10.182 2.31869 9.92409 2.06077C9.66622 1.80287 9.24803 1.80287 8.99016 2.06077L7.1222 3.92873L4.78765 1.59411L5.2543 1.12741C5.51222 0.869502 5.51222 0.451346 5.2543 0.193434C4.99643 -0.064478 4.5783 -0.064478 4.32038 0.193434L0.584543 3.92935ZM6.31504 4.73594L3.98049 2.40128L2.79293 3.58884L5.12754 5.92351L6.31504 4.73594ZM8.18278 4.73611L5.12731 7.79164L7.64204 10.3064L10.6975 7.25085L8.18278 4.73611ZM8.57597 11.2404L9.97694 12.6414C10.7837 13.4481 10.1893 12.8537 10.9109 13.5754L11.8446 14.5091C12.4723 15.1367 12.329 14.9935 12.7786 15.4431L13.0662 15.7307C13.6929 16.3574 14.6089 16.5186 15.3845 16.2142L16.6052 14.9935C16.9096 14.2179 16.7484 13.3019 16.1217 12.6752L11.6314 8.18483L8.57597 11.2404ZM17.5383 16.8962C17.5335 16.8899 17.5282 16.8838 17.5225 16.8781L17.0522 16.4077C17.0124 16.452 16.9713 16.4953 16.9288 16.5379C16.8862 16.5804 16.8428 16.6216 16.7985 16.6614L17.2689 17.1317C17.2747 17.1375 17.2808 17.1428 17.2871 17.1476C17.316 17.0965 17.3522 17.0482 17.3958 17.0046C17.4393 16.9612 17.4873 16.925 17.5383 16.8962Z"
                                                            fill="#368796" />
                                                        <path
                                                            d="M1.11491 4.45961C1.0799 4.4946 1.02314 4.4946 0.988128 4.45961C0.953112 4.42457 0.953112 4.36778 0.988128 4.33274L4.72396 0.596849C4.75894 0.561839 4.81573 0.561834 4.85072 0.596849C4.88577 0.631865 4.88577 0.688649 4.85072 0.723671L1.11491 4.45961ZM9.39374 2.4642C9.42873 2.42916 9.48552 2.42916 9.52051 2.4642C9.55555 2.49919 9.55555 2.55598 9.52051 2.59103L2.98282 9.12889C2.94783 9.16387 2.89104 9.16387 2.85605 9.12889C2.82101 9.09384 2.82101 9.03705 2.85605 9.00206L9.39374 2.4642ZM9.16978 12.6414L7.67732 11.1488L7.75528 11.0709L7.23755 10.6749C7.16027 10.6158 7.08528 10.5518 7.01296 10.4831C7.13299 10.5971 7.26118 10.6985 7.39571 10.7869L7.78411 11.0421L11.4333 7.39277L11.1781 7.00437C11.0906 6.87116 10.9904 6.74417 10.8777 6.62516C10.9452 6.69639 11.0079 6.77019 11.0661 6.84622L11.4621 7.36395L11.5399 7.28615L16.5252 12.2715C17.3165 13.0628 17.5216 14.2199 17.137 15.2013L17.0007 15.549L17.926 16.4744C18.1218 16.6701 18.1875 16.9475 18.1203 17.1993L18.0355 17.5173L19.7941 19.276C19.8292 19.311 19.8292 19.3678 19.7941 19.4028C19.7591 19.4378 19.7023 19.4378 19.6674 19.4028L17.9088 17.6442L17.5907 17.7293C17.3387 17.7967 17.0612 17.731 16.8654 17.5352L15.94 16.6098L15.5922 16.7461C14.6593 17.1117 13.5675 16.9443 12.7821 16.2469L14.2431 14.7859C14.7239 14.3051 14.7239 13.5256 14.2431 13.0448C13.7623 12.564 12.9828 12.564 12.502 13.0448L11.0376 14.5092L10.9109 14.3825L12.3754 12.918C12.8562 12.4372 12.8562 11.6577 12.3754 11.1769C11.8946 10.6961 11.115 10.6961 10.6342 11.1769L9.16978 12.6414Z"
                                                            fill="#368796" />
                                                    </svg>
                                                </div>
                                                <div class="arrow_icon d-flex align-items-center gap-1"
                                                    (click)="addremoveclass(med, $event)">
                                                    <div class="custom_tooltip custom_tooltip_left hold_custom_tooltip">
                                                        <!-- <svg width="16" height="21" viewBox="0 0 16 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z" fill="#F7BF08"/>
                                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z" fill="#F7BF08"/>
                                                        </svg>   -->
                                                        <svg *ngIf="med.HoldStatus == '1'" class="ms-1" width="16"
                                                            height="21" viewBox="0 0 16 21" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z"
                                                                fill="#EB6247" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z"
                                                                fill="#EB6247" />
                                                        </svg>
                                                        <div class="tooltip">
                                                            <p>{{med.ReasonForHolding}}</p>
                                                        </div>
                                                    </div>
                                                    <svg class="down_arrow" width="18" height="18" viewBox="0 0 18 18"
                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <rect width="18" height="18" rx="9" fill="#8ECBD7" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M9 9.81532L11.6755 7.13984L12.5355 7.99989L9 11.5354L5.46447 7.99989L6.32452 7.13984L9 9.81532Z"
                                                            fill="#368796" />
                                                    </svg>
                                                    <svg class="up_arrow" width="18" height="18" viewBox="0 0 18 18"
                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <rect x="18" y="18" width="18" height="18" rx="9"
                                                            transform="rotate(-180 18 18)" fill="#8ECBD7" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M9 8.18468L6.32452 10.8602L5.46447 10.0001L9 6.46458L12.5355 10.0001L11.6755 10.8602L9 8.18468Z"
                                                            fill="#EB6247" />
                                                    </svg>
                                                </div>
                                            </div>
                                            <div class="back_card mt-2 p-2">
                                                <div class="indicators">
                                                    <span class="left"></span>
                                                    <span class="right"></span>
                                                </div>
                                                <h6 class="m-0 fs-7" *ngIf="med.AdministrationDate == null">
                                                    {{med.Drugname}}
                                                </h6>
                                                <h6 class="m-0 fs-7 clr-primary-600"
                                                    *ngIf="med.AdministrationDate == null">{{med.STATUSName}}
                                                    <img [src]="med.AdministrationStatusImg" style="height: 1.2rem;"
                                                        alt="" class="check ms-2"
                                                        *ngIf="med.AdministrationDate == null">
                                                </h6>
                                                <h6 class="m-0 fs-7">{{med.DrugName}}
                                                    <img [src]="med.AdministrationStatusImg" style="height: 1.2rem;"
                                                        alt="" class="check ms-2"
                                                        *ngIf="med.AdministrationDate != null">
                                                </h6>
                                                <p *ngIf="med.AdministrationDate != null"
                                                    class="form-label clr-primary-600"> Dose: {{med.AdminDose}}
                                                    {{med.AdministeredDoseUOM}}</p>
                                                <p *ngIf="med.AdministrationDate != null&&med.STATUS == '1'"
                                                    class="form-label clr-primary-600"> Administered On:
                                                    {{med.AdministrationDate}}</p>
                                                <p *ngIf="med.STATUS === '3'"
                                                        class="form-label clr-primary-600"> Hold On:
                                                        {{med.AdministrationDate}}</p>

                                                <p *ngIf="med.STATUS === '4'"
                                                        class="form-label clr-primary-600"> UnHold On:
                                                        {{med.AdministrationDate}}</p>
                                                        
                                                        
                                                <p *ngIf="med.AdministrationDate != null&&med.STATUS == '1'"
                                                    class="form-label clr-primary-600"> Administered By:
                                                    {{med.AdministeredBy}}</p>
                                                    <p *ngIf="med.STATUS === '3'"
                                                            class="form-label clr-primary-600"> Hold By:
                                                            {{med.AdministeredBy}}-{{med.VerifiedUser}}</p>    
                                                            <p *ngIf="med.STATUS === '4'"
                                                            class="form-label clr-primary-600"> UnHold By:
                                                            {{med.AdministeredBy}}-{{med.VerifiedUser}}</p>    

                                                <p *ngIf="med.AdministrationDate != null&&med.STATUS == '1'"
                                                    class="form-label clr-primary-600"> Witness Nurse:
                                                    {{med.VerifiedUser}}</p>
                                                <p *ngIf="med.Remarks != ''&&med.STATUS != '3'"
                                                    class="form-label clr-primary-600"> Remarks: {{med.Remarks}}</p>
                                                
                                                    <p *ngIf="med.STATUS === '3'"
                                                            class="form-label clr-primary-600"> Hold Remarks: {{med.Remarks}}
                                                        </p>

                                                <p *ngIf="med.DrugAdmReasonSectionName != ''"
                                                    class="form-label clr-primary-600"> <label class="fw-bold">Reason:</label>
                                                    {{med.DrugAdmReasonSectionName}}</p>

                                                    <p *ngIf="med.NotAdministeredReason != ''"
                                                    class="form-label clr-primary-600"> <label class="fw-bold">Not Administered Reason:</label>
                                                    {{med.NotAdministeredReason}}</p>
                                                <p *ngIf="med.AdministerTimeDeviationReason != ''"
                                                    class="form-label clr-primary-600"> <label class="fw-bold">Administer Time Deviation Reason:</label>
                                                    {{med.AdministerTimeDeviationReason}}</p>
                                                 <p *ngIf="med.ManualEntryReason != ''"
                                                    class="form-label clr-primary-600"> <label class="fw-bold">Manual Entry Reason:</label>
                                                    {{med.ManualEntryReason}}</p>

                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>

                        </div>
                       
                    </div>

                    <div *ngIf="checkAllIssues && !showChart">
                        

                        <div class="fixed_alter_list checkAllIssues_table rounded border-primary-200">
                            <div class="fixed_alter_header bg-primary-50 rounded-top">
                                <div class="row gx-2 align-items-center p-2 mx-0">
                                    <div class="col-1"> </div>
                                    <div class="col-3">
                                        <p class="label m-0">Drug Name</p>
                                    </div>
                                    <div class="col-1">
                                        <p class="label m-0">BatchNo</p>
                                    </div>
                                    <div class="col-1">
                                        <p class="label m-0">Expiry Date</p>
                                    </div>
                                    <div class="col-1">
                                        <p class="label m-0">Administered  Date</p>
                                    </div>
                                    <div class="col-2">
                                        <p class="label m-0">Administered By</p>
                                    </div>
                                    <div class="col-1">
                                        <p class="label m-0">VerifiedUser</p>
                                    </div>
                                    <div class="col-2">
                                        <p class="label m-0">Status</p>
                                    </div>
                                </div>
                            </div>
                            <div class="fixed_alter_body">
                                <div class="row gx-2 align-items-center p-2 py-1 mx-0 alter_div"
                                    *ngFor="let view of AllIssueMedications;let i=index">
                                    <div class="col-1">
                                        <div class="custom_check d-flex align-items-center gap-2"
                                            [class.active]="view.selected" (click)="selectAllIssuesItem(view)" >
                                            <svg width="19" height="19" viewBox="0 0 20 21" fill="none"
                                                xmlns="http://www.w3.org/2000/svg" class="check_svg" *ngIf="view.AdministeredBy==null">
                                                <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                <path
                                                    d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                    fill="white" stroke="white" stroke-width="0.25"></path>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <p class="m-0">{{view.Drugname}}</p>
                                    </div>
                                    <div class="col-1">
                                        <p class="m-0">{{view.BatchNo}}</p>
                                    </div>
                                    <div class="col-1">
                                        <p class="m-0">{{view.ExpiryDate}}</p>
                                    </div>
                                    <div class="col-1">
                                        <p class="m-0">{{view.AdministrationDate}}</p>
                                    </div>
                                    <div class="col-2">
                                        <p class="m-0">{{view.AdministeredByUser}}</p>
                                    </div>
                                    <div class="col-1">
                                        <p class="m-0">{{view.VerifiedUser}}</p>
                                    </div>
                                    <div class="col-2">
                                        <p class="m-0 inline_legend administered" *ngIf="view.AdministeredBy==null">
                                            <span>Not Administrated</span>
                                        </p>
                                        <p class="m-0 inline_legend nonAdministered" *ngIf="view.AdministeredBy!=null">
                                            <span>Administrated</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade administered_modal" id="administered_modal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered" style="max-width:50rem">
            <form [formGroup]="drugAdministrationForm">
                <div class="modal-content">
                    <div class="modal-header">
                        <div>
                            <!-- <h5 class="modal-title" id="exampleModalLabel">Drug Administration</h5> -->
                            <h5 class="modal-title">{{selectedDrug}}</h5>
                            <p class="m-0 fs-8">{{selectedDrugDateTime}}</p>                            
                        </div>
                        <div class="actions ms-auto d-flex gap-2 align-items-center">
                            <button class="btn btn-danger-outline" (click)="clearAdminDrug()">Clear</button>
                            <button class="btn btn-main-outline" (click)="saveDrug()">Save</button>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>
                    <p *ngIf="selectedDocRemarks !== ''" class="m-0 fs-8"><label class="fw-bold">Doctor Remarks:</label> {{selectedDocRemarks}}</p>
                    <div class="modal-body" style="height: 37rem;">
                        <div class="d-flex align-items-center justify-content-end gap-3 mb-2">
                            <div class="d-flex align-items-center gap-1 adm_hold" (click)="onIsHoldChange(drugAdministrationForm.get('isOnHold')?.value,1)" [class.active]="drugAdministrationForm.get('HoldStatus')?.value === 1">
                                <svg width="28" height="29" viewBox="0 0 28 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="0.5" y="1.05115" width="27" height="27" rx="13.5" fill="#FCEBE8"/>
                                    <rect x="0.5" y="1.05115" width="27" height="27" rx="13.5" stroke="#E63C1A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.71836 15.8127C6.60635 15.5905 6.53467 15.3819 6.53467 15.1878C6.53467 14.9224 6.64971 14.6662 6.85504 14.4943C7.23691 14.1756 7.81207 14.225 8.13192 14.6057L10.5023 17.4328C10.5434 17.4821 10.6132 17.5016 10.6764 17.4788C10.7378 17.4566 10.7798 17.3969 10.7798 17.3309V8.87269C10.7798 8.45348 11.0394 8.04475 11.455 7.94417C11.7373 7.8755 12.0179 7.93459 12.241 8.10952C12.4606 8.28132 12.5877 8.5407 12.5877 8.82098V13.7027C12.5877 13.7885 12.6588 13.8595 12.7446 13.8595C12.8305 13.8595 12.9015 13.7885 12.9015 13.7027V7.17355C12.9015 6.75257 13.1624 6.34769 13.5774 6.2453L13.5798 6.2447C13.8577 6.17887 14.14 6.23436 14.3645 6.41038L14.3657 6.41131L14.3669 6.41224C14.582 6.58484 14.7094 6.84273 14.7094 7.12185V13.7027C14.7094 13.7885 14.7805 13.8595 14.8663 13.8595C14.9536 13.8595 15.025 13.7871 15.025 13.7027V7.97231C15.025 7.69395 15.1488 7.43412 15.3693 7.26129C15.5941 7.08293 15.8774 7.02721 16.1563 7.09558C16.5699 7.19586 16.8329 7.60106 16.8329 8.02223V14.127C16.8329 14.2136 16.9029 14.2839 16.9898 14.2839C17.0767 14.2839 17.1467 14.2136 17.1467 14.127V10.5183C17.1467 10.2773 17.2401 10.0485 17.4104 9.87814C17.631 9.65762 17.9446 9.57265 18.2465 9.63401L18.2479 9.63429L18.2493 9.63459C18.4607 9.67988 18.6346 9.83064 18.7494 9.987C18.8662 10.1462 18.9546 10.355 18.9546 10.5683V17.8016C18.9546 20.4005 17.0053 22.6294 14.4934 22.8622C13.0993 22.992 11.7578 22.5531 10.7264 21.6293C9.96911 20.9527 9.42185 20.1231 8.86568 19.28L8.84441 19.2478C8.72056 19.0585 8.59306 18.8672 8.4648 18.6748C7.86556 17.792 7.23127 16.8313 6.71836 15.8127Z" fill="#EB6247"/>
                                </svg>                                    
                                <p>Hold Administration</p>                                    
                            </div>
                            <div class="d-flex align-items-center gap-1 adm_hold" *ngIf="enableOnHold" (click)="onIsHoldChange(drugAdministrationForm.get('isOnHold')?.value,2)" 
                                [class.active]="drugAdministrationForm.get('HoldStatus')?.value === 2">
                                <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="0.6875" y="1.05115" width="27" height="27" rx="13.5" fill="#FCEBE8"/>
                                    <rect x="0.6875" y="1.05115" width="27" height="27" rx="13.5" stroke="#E63C1A"/>
                                    <path d="M6.71289 14.7493C6.71289 14.9433 6.78458 15.152 6.89658 15.3742C7.40949 16.3927 8.04378 17.3534 8.64302 18.2363C8.77128 18.4287 8.89878 18.6199 9.02263 18.8092L9.0439 18.8415C9.14038 18.9877 9.23659 19.1336 9.33367 19.2783L17.0111 11.6008V7.58369C17.0111 7.16253 16.7481 6.75732 16.3345 6.65704C16.0556 6.58868 15.7723 6.64439 15.5475 6.82276C15.327 6.99559 15.2032 7.25541 15.2032 7.53377V13.2641C15.2032 13.3485 15.1319 13.421 15.0445 13.421C14.9587 13.421 14.8876 13.35 14.8876 13.2641V6.68331C14.8876 6.4042 14.7602 6.1463 14.5451 5.97371L14.5439 5.97277L14.5427 5.97185C14.3182 5.79582 14.036 5.74034 13.758 5.80616L13.7556 5.80676C13.3406 5.90915 13.0797 6.31403 13.0797 6.73501V13.2641C13.0797 13.35 13.0087 13.421 12.9228 13.421C12.837 13.421 12.7659 13.35 12.7659 13.2641V8.38244C12.7659 8.10217 12.6389 7.84278 12.4193 7.67098C12.1962 7.49605 11.9156 7.43696 11.6332 7.50564C11.2176 7.60621 10.9581 8.01494 10.9581 8.43415V16.8924C10.9581 16.9584 10.916 17.0181 10.8546 17.0403C10.7915 17.0631 10.7216 17.0436 10.6806 16.9942L8.31014 14.1672C7.9903 13.7864 7.41513 13.7371 7.03326 14.0557C6.82793 14.2277 6.71289 14.4838 6.71289 14.7493Z" fill="#EB6247"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.81882 19.9716C9.81877 19.9716 9.81886 19.9717 9.81882 19.9716L8.40384 21.3869C8.24112 21.5497 8.24112 21.8135 8.40384 21.9762C8.56656 22.1389 8.83038 22.1389 8.99309 21.9762L10.3443 20.625C10.5191 20.8225 10.7046 21.012 10.9047 21.1908C11.936 22.1146 13.2775 22.5535 14.6716 22.4237C17.1835 22.1909 19.1328 19.962 19.1328 17.3631V11.8365L21.3675 9.60183C21.5302 9.43911 21.5302 9.17529 21.3675 9.01257C21.2047 8.84986 20.9409 8.84986 20.7782 9.01257L9.81882 19.9716ZM17.3249 13.6444L17.1288 13.8404C17.1414 13.8436 17.1545 13.8454 17.168 13.8454C17.2549 13.8454 17.3249 13.775 17.3249 13.6885V13.6444Z" fill="#EB6247"/>
                                    <path d="M17.3249 11.287L18.9821 9.62985C18.9649 9.60154 18.9466 9.57434 18.9276 9.54846C18.8128 9.3921 18.6389 9.24134 18.4275 9.19605L18.4261 9.19575L18.4248 9.19547C18.1229 9.13411 17.8092 9.21908 17.5887 9.43961C17.4183 9.60994 17.3249 9.83874 17.3249 10.0798V11.287Z" fill="#EB6247"/>
                                </svg>                                                                     
                                <p>Un-hold Administration</p>                                    
                            </div>
                        </div>
                        <div class="row mx-0 justify-content-between align-items-end bg-primary-20 p-2 pb-3 rounded-2">
                            <div class="col-md-4">                                
                                <div class="administered_dose">
                                    <label class="form-label" required="" for="">Administered Dose</label>
                                    <div class="d-flex align-items-center">
                                        <input type="text" id="" class="form-control me-2" placeholder=""
                                            formControlName="Dose" aria-label="">
                                        <input type="text" id="" class="form-control" placeholder=""
                                            formControlName="Dose" aria-label="">
                                    </div>
                                    <div class="validation_err"
                                        *ngIf="(isSubmitted && this.drugAdministrationForm.get('Dose')?.errors) || (!this.drugAdministrationForm.get('Dose')?.pristine && this.drugAdministrationForm.get('Dose')?.invalid)">
                                        <div class="text-danger"
                                            *ngIf="this.drugAdministrationForm.get('Dose')?.errors?.['required']">
                                            <p>Administered Dose is required</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="">
                                    <label for="" required="" class="form-label">UOM</label>
                                    <select name="" id="" class="form-select" formControlName="UOM">
                                        <option value="">Select</option>
                                        <option value="{{sd.IssueUOMID}}" *ngFor="let sd of FetchScanDrugDataList">
                                            {{sd.IssuedUom}}</option>
                                    </select>
                                    <div class="validation_err"
                                        *ngIf="(isSubmitted && this.drugAdministrationForm.get('UOM')?.errors) || (!this.drugAdministrationForm.get('UOM')?.pristine && this.drugAdministrationForm.get('UOM')?.invalid)">
                                        <div class="text-danger"
                                            *ngIf="this.drugAdministrationForm.get('UOM')?.errors?.['required']">
                                            <p>UOM is required</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="">
                                    <label for="" class="form-label">Time</label>
                                    <input type="time" formControlName="Time" class="form-control ms-2"
                                        pattern="(?:[01]\d|2[0-3]):(?:[0-5]\d)">
                                </div>
                            </div>
                        </div>
                        <div class="row mx-0 gy-3 justify-content-between align-items-end">
                            <div class="col-md-6">
                                <div class="">
                                    <label for="" required="" class="form-label">Witness Nurse</label>
                                    <div class="d-flex align-items-center input-group">
                                        <input type="text" class="form-control pe-2" placeholder="Search" aria-label="Search"
                                            formControlName="Nurse" [matAutocomplete]="autoWitnessNurse"
                                            (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : searchWitnessNurse($event)">
                                        <mat-autocomplete #autoWitnessNurse="matAutocomplete">
                                            <mat-option *ngFor="let item of witnessNurseData"
                                                (onSelectionChange)="onWitnessNurseSelected(item)"
                                                [value]="item.Fullname">
                                                {{item.Fullname}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <button type="button" id="button-addon2"
                                            class="btn btn-secondary-fill btn-icon">
                                            <img src="assets/images/icons/icon-search.svg" alt="">
                                        </button>
                                    </div>
                                    <div class="validation_err">
                                        <div class="text-danger"
                                            *ngIf="(isSubmitted && selectedDrugDetails?.IsHighRisk == 'True' && this.drugAdministrationForm.get('Nurse')?.value === '')">
                                            <p class="m-0"
                                                *ngIf="isSubmitted && selectedDrugDetails?.IsHighRisk == 'True' && this.drugAdministrationForm.get('Nurse')?.value === ''"
                                                style="font-size:12px;">Witness Nurse is required</p>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="">
                                    <label for="" class="form-label">Remarks</label>
                                    <textarea class="form-control resize-none" formControlName="Remarks" name="" id=""
                                        cols="20" rows="1"></textarea>
                                </div>
                                <div class="text-danger validation_err"
                                    *ngIf="(isSubmitted && this.drugAdministrationForm.get('Remarks')?.value === '' && this.drugAdministrationForm.get('isOnHold')?.value === true)">
                                    <p class="m-0" *ngIf="isSubmitted && this.drugAdministrationForm.get('Remarks')?.value === '' && this.drugAdministrationForm.get('isOnHold')?.value === true"
                                        style="font-size:12px;">Reason required</p>
                                </div>
                                <!--<div class="validation_err">
                                     <div class="text-danger"
                                        *ngIf="(isSubmitted && checkAllIssues && this.drugAdministrationForm.get('Remarks')?.value === '')">
                                        <p class="m-0"
                                            *ngIf="isSubmitted && checkAllIssues && this.drugAdministrationForm.get('Remarks')?.value === ''"
                                            style="font-size:12px;">Remarks required</p>
                                    </div> 
                                    <div class="text-danger"
                                        *ngIf="(isSubmitted && remarksRequired && this.drugAdministrationForm.get('Remarks')?.value === '')">
                                        <p class="m-0"
                                            *ngIf="isSubmitted && remarksRequired && this.drugAdministrationForm.get('Remarks')?.value === ''"
                                            style="font-size:12px;">Remarks required if dose administering deviated</p>
                                    </div> 
                                </div>-->
                            </div>
                            <div class="col-md-6" [class.pe-none]="NotAdministeredDisable">
                                <div class="d-flex align-items-center mt-2">
                                    <input class="form-check-input mt-0 me-2" formControlName="IsNotAdministeredReason" (change)="onNotAdministeredChange($event)"
                                        type="checkbox" value="" id="">
                                    <label class="form-label pe-2 m-0">Not Administered Reason</label>
                                </div>
                                <!-- <select name="" id="" class="form-select mt-2">
                                    <option value="">Option 1</option>
                                    <option value="">Option 2</option>
                                    <option value="">Option 3</option>
                                </select> -->
                                <select class="form-select mt-2" formControlName="NotAdministeredReason">
                                    <option dir="ltr" value="" translate>
                                        {{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let bg of FetchNotAdministeredReasonDataList"
                                        [value]="bg.DrugAdmReasonSectionID">
                                        {{bg.DrugAdmReasonSectionName}}
                                    </option>
                                </select>
                                <div class="text-danger validation_err"
                                        *ngIf="(isSubmitted && this.drugAdministrationForm.get('NotAdministeredReason')?.value === '' && this.drugAdministrationForm.get('IsNotAdministeredReason')?.value === true)">
                                        <p class="m-0" *ngIf="isSubmitted && this.drugAdministrationForm.get('NotAdministeredReason')?.value === '' && this.drugAdministrationForm.get('IsNotAdministeredReason')?.value === true"
                                            style="font-size:12px;">Reason required</p>
                                    </div>
                            </div>
                            <div class="col-md-6">
                                <label for="" required="" class="form-label pe-2">Manual Entry Reason</label>
                                <select name="" id="" class="form-select" formControlName="ManualEntryReason">
                                    <option dir="ltr" value="0" translate>
                                        {{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let bg of FetchManualEntryReasonDataList"
                                        [value]="bg.DrugAdmReasonSectionID">
                                        {{bg.DrugAdmReasonSectionName}}
                                    </option>
                                </select>
                                <!-- <span class="bottom-0"
                                    *ngIf="(isSubmitted && this.drugAdministrationForm.get('ManualEntryReason')?.errors) || (!this.drugAdministrationForm.get('ManualEntryReason')?.pristine && this.drugAdministrationForm.get('ManualEntryReason')?.invalid)">
                                        <div class="text-danger" *ngIf="this.drugAdministrationForm.get('ManualEntryReason')?.errors?.['required']">
                                            Manual Entry Reason is required</div>
                                    </span> -->
                                <div class="validation_err">
                                    <div class="text-danger"
                                        *ngIf="(isSubmitted && checkAllIssues && this.drugAdministrationForm.get('ManualEntryReason')?.value === '0')">
                                        <p class="m-0"
                                            *ngIf="isSubmitted && checkAllIssues && this.drugAdministrationForm.get('ManualEntryReason')?.value === '0'"
                                            style="font-size:12px;">Manual Entry Reason is required</p>
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-6">
                                <label for="" class="form-label pe-2">Administer Time Deviation Reason</label>
                                <select name="" id="" class="form-select"
                                    formControlName="AdministerTimeDeviationReason">
                                    <option dir="ltr" value="" translate>
                                        {{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let bg of FetchAdministerTimeDeviationReasonDataList"
                                        [value]="bg.DrugAdmReasonSectionID">
                                        {{bg.DrugAdmReasonSectionName}}
                                    </option>
                                </select>
                                <div class="text-danger validation_err"
                                        *ngIf="(isSubmitted && remarksRequired && this.drugAdministrationForm.get('AdministerTimeDeviationReason')?.value === '')">
                                        <p class="m-0"
                                            *ngIf="isSubmitted && remarksRequired && this.drugAdministrationForm.get('AdministerTimeDeviationReason')?.value === ''"
                                            style="font-size:12px;">Remarks required if Administer Time deviated</p>
                                    </div>
                            </div>
                            <div class="col-md-6">
                                <label for="" required="" class="form-label pe-2">Administer Dose Change Reason</label>
                                <input type="text" id="" class="form-control "
                                    formControlName="AdministerDoseChangeReason" placeholder="" aria-label="">                                
                            </div>   
                            <div class="col-md-6" *ngIf="selectedDrugDetails?.IsVaccine == 'True'">
                                <label for="" class="form-label pe-2">Vaccines</label>
                                <div class="d-flex gap-2">
                                    <select name="" class="form-select pe-4" id="" formControlName="VaccinationID">
                                        <option value="0">Select</option>
                                        <option [value]="option.VaccinationID" *ngFor="let option of vaccinationsList">
                                            {{option.VaccinationName}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6" *ngIf="selectedDrugDetails?.IsVaccine=='True'">
                                <label for="" class="form-label pe-2">Dose Order</label>
                                <div class="d-flex gap-2">
                                    <select name="" class="form-select pe-4" formControlName="VaccinationDoseCount" id="">
                                        <option value="0">Select</option>
                                        <option [value]="option.DoseOrderID" *ngFor="let option of doseOrderList">
                                            {{option.DoseOrderName}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6" *ngIf="selectedDrugDetails?.IsVaccine=='True'">
                                <label for="" class="form-label pe-2">Reason for Vaccination</label>
                                <div class="d-flex gap-2">
                                    <select name="" class="form-select pe-4" id="" formControlName="VaccinationReasonID">
                                        <option value="0">Select</option>
                                        <option [value]="option.VaccinationReasonID" *ngFor="let option of reasonsList">
                                            {{option.VaccinationReasonName}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6" *ngIf="drugAdministrationForm.get('VaccinationReasonID')?.value == 34 && selectedDrugDetails?.IsVaccine=='True'">
                                <label for="" class="form-label pe-2">Other Reasons</label>
                                <input type="text" id="" class="form-control" placeholder="" formControlName="VaccinationReasonOther">
                            </div>
                            <div class="col-md-6" *ngIf="selectedDrugDetails?.IsVaccine=='True'">
                                <label for="" class="form-label">Vaccine Type</label>
                                <div class="clinical_toggle toggle__switch switch-sm custom-inline-flex">
                                    <button class="btn" [class.selected]="drugAdministrationForm.get('VaccinationType')?.value === 1"
                                        (click)="drugAdministrationForm.get('VaccinationType')?.setValue(1)">Primary</button>
                                    <button class="btn" [class.selected]="drugAdministrationForm.get('VaccinationType')?.value === 2"
                                        (click)="drugAdministrationForm.get('VaccinationType')?.setValue(2)">Secondary</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="modal quick_info walkthrough_info_card walkthrough_info" data-bs-backdrop="static" id="quickaction_info"
        tab-index="-1">
        <div class="modal-dialog modal-dialog-scrollabel">
            <div class="modal-content h-100 overflow-auto">
                <div class="modal-header ps-0 d-none" style="background-color: #fcfaf7 !important;">
                    <label for="" class="ssn_label bg-primary clr-light" id="lblSSN">ID No. :
                        {{patinfo?.SSN}}</label>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="clearPatientInfo()"
                        aria-label="Close"></button>
                </div>
                <div class="">
                    <app-patient-quick-actions *ngIf="patinfo" [patientInfo]="patinfo"
                        (closeModal)="closeModal()"></app-patient-quick-actions>
                </div>
            </div>
        </div>
    </div>
    <div class="modal quick_info walkthrough_info_card walkthrough_info" data-bs-backdrop="static" id="quickaction_info"
        tab-index="-1">
        <div class="modal-dialog modal-dialog-scrollabel">
            <div class="modal-content h-100 overflow-auto">
                <div class="modal-header ps-0 d-none" style="background-color: #fcfaf7 !important;">
                    <label for="" class="ssn_label bg-primary clr-light" id="lblSSN">ID No. :
                        {{patinfo?.SSN}}</label>

                    <div class="d-flex align-items-center gap-2">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="clearPatientInfo()"
                            aria-label="Close"></button>
                    </div>
                </div>
                <div class="">
                    <app-patient-quick-actions *ngIf="patinfo" [patientInfo]="patinfo"
                        (closeModal)="closeModal()"></app-patient-quick-actions>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade drug_adm_chartModal modalNewCalender" data-bs-backdrop="static" id="modalNewCalender"
        tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered my-2" style="max-width:99%">
            <div class="modal-content" *ngIf="showChart">
                <div class="modal-header">
                    <h5 class="modal-title" translate>Drug Administration Chart</h5>
                    <div class="ms-auto d-flex align-items-center gap-2">
                        <button class="btn btn-main-outline" (click)="saveWardTaskInterval()">Save</button>
                        <div class="d-flex align-items-center gap-2 justify-content-end">
                            <div (click)="goToPreviousWeek()"
                                class="week_btn d-flex align-items-center gap-2 p-2 bg-primary-50 rounded-5 px-3 border-primary-300 cursor-pointer">
                                <svg width="9" height="14" viewBox="0 0 9 14" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.99988 12.6569L2.34303 7L7.99988 1.34315" stroke="#368796"
                                        stroke-width="2" />
                                </svg>
                                <p class="clr-primary-600 m-0 fs-7">Prev Week</p>
                            </div>
                            <div (click)="goToNextWeek()"
                                class="week_btn d-flex align-items-center gap-2 p-2 bg-primary-50 rounded-5 px-3 border-primary-300 cursor-pointer">
                                <p class="clr-primary-600 m-0 fs-7">Next Week</p>
                                <svg width="9" height="14" viewBox="0 0 9 14" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1.00012 1.34315L6.65697 7L1.00012 12.6569" stroke="#368796"
                                        stroke-width="2" />
                                </svg>
                            </div>
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close" (click)="showChart = false;"></button>
                    </div>
                </div>
                <div class="modal-body p-2">
                    <div class="">
                        <app-wardheader-summary *ngIf="isNational" class=""></app-wardheader-summary>
                        <div class="">

                            <div class="mt-3">
                                <div class="drug_adm_chartTable table_header_fix modal_drug_adm_chartTable rounded-2 overlow-hidden">
                                    <table class="table seperate_table table-bordered m-0">
                                        <thead>
                                            <tr>
                                                <th style="width: 15%;">Drugs</th>
                                                <th style="width: 11%;"
                                                    *ngFor="let date of currentWeekDates;let i=index">
                                                    <div class="d-flex align-items-center gap-2">
                                                        <svg width="16" height="17" viewBox="0 0 16 17" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_3718_13802)">
                                                                <path
                                                                    d="M7.10685 9.1219C7.10685 9.56471 6.74781 9.92375 6.305 9.92375C5.86219 9.92375 5.50329 9.56471 5.50329 9.1219C5.50329 8.67909 5.86219 8.32019 6.305 8.32019C6.74781 8.32019 7.10685 8.67909 7.10685 9.1219Z"
                                                                    fill="#43A9BC" />
                                                                <path
                                                                    d="M3.0978 9.92375C3.54061 9.92375 3.89951 9.56471 3.89951 9.1219C3.89951 8.67909 3.54061 8.32019 3.0978 8.32019C2.65498 8.32019 2.29608 8.67909 2.29608 9.1219C2.29608 9.56471 2.65498 9.92375 3.0978 9.92375Z"
                                                                    fill="#43A9BC" />
                                                                <path
                                                                    d="M13.5206 9.1219C13.5206 9.56471 13.1617 9.92375 12.7189 9.92375C12.2761 9.92375 11.9172 9.56471 11.9172 9.1219C11.9172 8.67909 12.2761 8.32019 12.7189 8.32019C13.1617 8.32019 13.5206 8.67909 13.5206 9.1219Z"
                                                                    fill="#43A9BC" />
                                                                <path
                                                                    d="M9.51186 9.92375C9.95468 9.92375 10.3136 9.56471 10.3136 9.1219C10.3136 8.67909 9.95468 8.32019 9.51186 8.32019C9.06905 8.32019 8.71001 8.67909 8.71001 9.1219C8.71001 9.56471 9.06905 9.92375 9.51186 9.92375Z"
                                                                    fill="#43A9BC" />
                                                                <path
                                                                    d="M7.10685 12.3291C7.10685 12.7719 6.74781 13.1308 6.305 13.1308C5.86219 13.1308 5.50329 12.7719 5.50329 12.3291C5.50329 11.8863 5.86219 11.5273 6.305 11.5273C6.74781 11.5273 7.10685 11.8863 7.10685 12.3291Z"
                                                                    fill="#43A9BC" />
                                                                <path
                                                                    d="M3.0978 13.1308C3.54061 13.1308 3.89951 12.7719 3.89951 12.3291C3.89951 11.8863 3.54061 11.5273 3.0978 11.5273C2.65498 11.5273 2.29608 11.8863 2.29608 12.3291C2.29608 12.7719 2.65498 13.1308 3.0978 13.1308Z"
                                                                    fill="#43A9BC" />
                                                                <path
                                                                    d="M13.5206 12.3291C13.5206 12.7719 13.1617 13.1308 12.7189 13.1308C12.2761 13.1308 11.9172 12.7719 11.9172 12.3291C11.9172 11.8863 12.2761 11.5273 12.7189 11.5273C13.1617 11.5273 13.5206 11.8863 13.5206 12.3291Z"
                                                                    fill="#43A9BC" />
                                                                <path
                                                                    d="M9.51186 13.1308C9.95468 13.1308 10.3136 12.7719 10.3136 12.3291C10.3136 11.8863 9.95468 11.5273 9.51186 11.5273C9.06905 11.5273 8.71001 11.8863 8.71001 12.3291C8.71001 12.7719 9.06905 13.1308 9.51186 13.1308Z"
                                                                    fill="#43A9BC" />
                                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                                    d="M12.719 2.10666L12.5186 2.10666L12.5186 1.10442C12.5186 0.889525 12.404 0.691018 12.2179 0.583639C12.0319 0.476261 11.8027 0.476261 11.6166 0.583639C11.4306 0.691018 11.316 0.889531 11.316 1.10442L11.316 2.10666L8.50977 2.10666L8.50977 1.10442C8.50977 0.889525 8.39515 0.691018 8.20911 0.583638C8.02308 0.476261 7.79382 0.476261 7.60779 0.583638C7.42176 0.691018 7.30713 0.889531 7.30713 1.10442L7.30713 2.10666L4.50093 2.10666L4.50093 1.10441C4.50093 0.889524 4.38631 0.691017 4.20027 0.583638C4.01424 0.476261 3.78499 0.476261 3.59896 0.583638C3.41292 0.691017 3.2983 0.889531 3.2983 1.10441L3.2983 2.10666L3.0979 2.10666C2.3009 2.10773 1.53674 2.42477 0.973151 2.98836C0.409424 3.55195 0.092374 4.31611 0.0913084 5.11325L0.0913084 13.3977C0.0957378 14.1275 0.389418 14.8258 0.908071 15.3394C1.42658 15.8529 2.12761 16.1399 2.85737 16.1373L12.9595 16.1373C13.6893 16.1399 14.3904 15.8529 14.9088 15.3394C15.4275 14.8259 15.7212 14.1275 15.7256 13.3977L15.7256 5.11325C15.7245 4.31611 15.4075 3.55195 14.8438 2.98836C14.2802 2.42477 13.516 2.10772 12.719 2.10666ZM3.0979 14.9347C2.61966 14.934 2.16115 14.7438 1.82304 14.4056C1.48479 14.0675 1.2946 13.609 1.29395 13.1307L1.29395 7.31786L13.5206 7.31786C13.7355 7.31786 13.934 7.20323 14.0414 7.0172C14.1488 6.83117 14.1488 6.60191 14.0414 6.41588C13.934 6.22985 13.7355 6.11522 13.5206 6.11522L1.29395 6.11522L1.29395 5.11311C1.29462 4.63488 1.48481 4.17636 1.82304 3.83815C2.16114 3.50004 2.61967 3.30971 3.0979 3.30916L3.2983 3.30916L3.2983 4.31127C3.2983 4.52616 3.41292 4.72466 3.59896 4.83204C3.78499 4.93942 4.01424 4.93942 4.20027 4.83204C4.38631 4.72466 4.50093 4.52615 4.50093 4.31127L4.50093 3.30916L7.30713 3.30916L7.30713 4.31126C7.30713 4.52616 7.42176 4.72466 7.60779 4.83204C7.79383 4.93942 8.02308 4.93942 8.20911 4.83204C8.39514 4.72466 8.50977 4.52615 8.50977 4.31127L8.50977 3.30916L11.316 3.30916L11.316 4.31126C11.316 4.52616 11.4306 4.72466 11.6166 4.83204C11.8027 4.93942 12.0319 4.93942 12.2179 4.83204C12.404 4.72466 12.5186 4.52615 12.5186 4.31126L12.5186 3.30916L12.719 3.30916C13.1972 3.3097 13.6558 3.50002 13.9939 3.83815C14.3321 4.17639 14.5223 4.63491 14.523 5.11312L14.523 13.1306C14.5223 13.6088 14.3321 14.0673 13.9939 14.4054C13.6558 14.7437 13.1972 14.9339 12.719 14.9345L3.0979 14.9347Z"
                                                                    fill="#43A9BC" />
                                                            </g>
                                                        </svg>
                                                        {{date.date}}
                                                    </div>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let drug of drugs">
                                                <td style="width:20%;">
                                                    <div class="d-flex flex-column">
                                                        <p class="fs-7 m-0 clr-primary-600">{{drug.split(';')[0]}}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <label class="clr-neutral-700">{{drug.split(';')[3]}}</label>
                                                        <label class="clr-neutral-700 fw-bold gap-2 mx-1">{{drug.split(';')[4]}}</label>
                                                        <label class="clr-neutral-700 gap-2 mx-1">{{drug.split(';')[5]}}</label>
                                                        <label class="clr-neutral-700 fw-bold gap-2 mx-1">{{drug.split(';')[6]}} {{drug.split(';')[7]}}</label>
                                                        </div>
                                                        
                                                        
                                                        <div class="d-flex flex-column">
                                                        <label for=""
                                                            class="form-label fw-bold m-0">{{drug.split(';')[2]}}</label>
                                                        </div>
                                                </td>
                                                <td *ngFor="let date of currentWeekDates;let i=index">
                                                    <div class="currentWeekDates g-2 justify-content-center">
                                                        <div class="col-xxl-12 custom_tooltip custom_tooltip_left hold_custom_tooltip"
                                                            *ngFor="let sl of fetchMedicineForChart(date.date, drug);let i=index">
                                                            <div [class]="sl.pillName"
                                                                class="dsc_pill my-2 d-flex align-items-center justify-content-start gap-2" (click)="onPillClick(sl)">
                                                                <p>{{sl.timeValue}}</p>
                                                                <p class="d-flex align-items-center gap-1">
                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                        width="14" height="14" viewBox="0 0 16 17"
                                                                        fill="none">
                                                                        <path
                                                                            d="M10.6374 10.7638H7.64835C7.15604 10.7638 6.76923 10.377 6.76923 9.88467V5.31324C6.76923 4.82093 7.15604 4.43412 7.64835 4.43412C8.14066 4.43412 8.52747 4.82093 8.52747 5.31324V9.00555H10.6374C11.1297 9.00555 11.5165 9.39236 11.5165 9.88467C11.5165 10.377 11.1297 10.7638 10.6374 10.7638Z"
                                                                            fill="#368796"></path>
                                                                        <path fill-rule="evenodd"
                                                                            clip-rule="evenodd"
                                                                            d="M16 8.98132C16 13.3945 12.4132 16.9813 8 16.9813C3.58681 16.9813 0 13.3945 0 8.98132C0 4.56814 3.58681 0.981323 8 0.981323C12.4132 0.981323 16 4.56814 16 8.98132ZM14.2418 8.98132C14.2418 5.53517 11.4462 2.73956 8 2.73956C4.55385 2.73956 1.75824 5.53517 1.75824 8.98132C1.75824 12.4275 4.55385 15.2231 8 15.2231C11.4462 15.2231 14.2418 12.4275 14.2418 8.98132Z"
                                                                            fill="#368796"></path>
                                                                    </svg>
                                                                    <span *ngIf="!sl.isEdit">{{sl.time}}</span>
                                                                </p>
                                                                <div class="editable_time" *ngIf="sl.isEdit">
                                                                    <div class="d-flex align-items-center select_time">
                                                                        <select class="form-select" [ngModel]="getHourValue(sl)" (change)="onHourChange($event, sl, date)" (click)="$event.stopPropagation()">
                                                                            <option *ngFor="let hour of hoursArray" [value]="hour">{{ hour }}</option>
                                                                        </select>
                                                                        <span>00</span>
                                                                     </div>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="sl.savedRemarks && !sl.isEdit" class="tooltip" style="bottom: unset;">                                                                
                                                                <p class="form-label clr-primary-600"> Modified Name: {{sl.savedUserName}}</p>
                                                                <p class="form-label clr-primary-600"> Modified Date: {{sl.savedDate}}</p>
                                                                <p class="form-label clr-primary-600"> Remarks: {{sl.savedRemarks}}</p>
                                                            </div>
                                                            <div *ngIf="sl.timeValue === 'C'"
                                                                class="tooltip" style="bottom: unset;">
                                                                <p 
                                                                    class="form-label clr-primary-600"> Dose:
                                                                    {{processTimeForCompletedStatus(sl, date.date,
                                                                        drug.split(';')[0],1)}}
                                                                    {{processTimeForCompletedStatus(sl, date.date,
                                                                        drug.split(';')[0],2)}}</p>
                                                                <p 
                                                                    class="form-label clr-primary-600"> Administered
                                                                    On:
                                                                    {{processTimeForCompletedStatus(sl, date.date,
                                                                        drug.split(';')[0],3)}}</p>
                                                                <p 
                                                                    class="form-label clr-primary-600"> Administered
                                                                    By:
                                                                    {{processTimeForCompletedStatus(sl, date.date,
                                                                        drug.split(';')[0],4)}}</p>
                                                                <p 
                                                                    class="form-label clr-primary-600"> Witness Nurse:
                                                                    {{processTimeForCompletedStatus(sl, date.date,
                                                                        drug.split(';')[0],5)}}</p>
                                                                <p 
                                                                    class="form-label clr-primary-600"> Remarks:
                                                                    {{processTimeForCompletedStatus(sl, date.date,
                                                                        drug.split(';')[0],6)}}</p>
                                                                <p 
                                                                    class="form-label clr-primary-600"> Reason:
                                                                    {{processTimeForCompletedStatus(sl, date.date,
                                                                        drug.split(';')[0],7)}}</p>

                                                                <p 
                                                                    class="form-label clr-primary-600"> Not Administered Reason:
                                                                    {{processTimeForCompletedStatus(sl, date.date,
                                                                        drug.split(';')[0],8)}}</p>

                                                                <p 
                                                                        class="form-label clr-primary-600"> Administer Time Deviation Reason:
                                                                        {{processTimeForCompletedStatus(sl, date.date,
                                                                            drug.split(';')[0],9)}}</p>

                                                                <p 
                                                                        class="form-label clr-primary-600"> Manual Entry Reason:
                                                                        {{processTimeForCompletedStatus(sl, date.date,
                                                                                drug.split(';')[0],10)}}</p>


                                                            </div>
                                                             <div class="position-relative textarea_box_single" *ngIf="sl.isEdit">
                                                                <mat-form-field appearance="fill">
                                                                    <mat-label translate>dd-MMM-yyyy</mat-label>
                                                                    <input matInput class="" [(ngModel)]="sl.date"
                                                                        [matDatepicker]="i" (dateChange)="onDateChange($event, sl)" [min]="sl.minDate">
                                                                    <mat-datepicker-toggle matSuffix [for]="i">
                                                                    </mat-datepicker-toggle>
                                                                    <mat-datepicker #i></mat-datepicker>
                                                                </mat-form-field>
                                                                <input class="form-control w-100" [(ngModel)]="sl.remarks">
                                                                <svg class="close_remarks_icon cursor-pointer"  width="16" height="16" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <g clip-path="url(#clip0_15151_26205)" (click)="sl.isEdit = !sl.isEdit">
                                                                    <circle cx="10" cy="10.1498" r="10" fill="#E85D54"/>
                                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.99981 7.14997C6.5856 7.56418 6.5856 8.23576 6.99981 8.64997L8.49999 10.1501L7.00017 11.65C6.58596 12.0642 6.58596 12.7357 7.00017 13.15C7.41439 13.5642 8.08596 13.5642 8.50017 13.15L9.99999 11.6501L11.4998 13.15C11.914 13.5642 12.5856 13.5642 12.9998 13.15C13.414 12.7358 13.414 12.0642 12.9998 11.65L11.5 10.1501L13.0002 8.64995C13.4144 8.23574 13.4144 7.56417 13.0002 7.14995C12.586 6.73574 11.9144 6.73574 11.5002 7.14995L9.99999 8.65014L8.49981 7.14997C8.0856 6.73575 7.41403 6.73576 6.99981 7.14997Z" fill="white"/>
                                                                    </g>
                                                                </svg>                                                                                                                                                                                                          
                                                            </div>
                                                        </div>
                                                        <div class="col-xxl-6"
                                                            *ngIf="fetchMedicineForChartlength(date.date, drug) === 0">
                                                            <div
                                                                class="dsc_pill NApill d-flex align-items-center justify-content-center gap-2">
                                                                <p></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div
                                    class="d-flex align-items-center gap-2 justify-content-end drug_adm_chartTable_legends mt-2">
                                    <div class="d-flex align-items-center gap-2 pill_legend Holdpill_legend">
                                        <span class="fs-8">H</span>
                                        <p>Hold</p>
                                    </div>
                                    <div class="d-flex align-items-center gap-2 pill_legend UnHoldpill_legend">
                                        <span class="fs-8">U</span>
                                        <p>Un Hold</p>
                                    </div>
                                    <div class="d-flex align-items-center gap-2 pill_legend Cpill_legend">
                                        <span class="fs-8">C</span>
                                        <p>Completed</p>
                                    </div>
                                    <div class="d-flex align-items-center gap-2 pill_legend Ppill_legend">
                                        <span class="fs-8">P</span>
                                        <p>Pending for administration</p>
                                    </div>
                                    <div class="d-flex align-items-center gap-2 pill_legend Fpill_legend">
                                        <span class="fs-8">F</span>
                                        <p>Future Slots</p>
                                    </div>
                                    <div class="d-flex align-items-center gap-2 pill_legend Dfill_legend">
                                        <span class="fs-8">D</span>
                                        <p>Discontinued Slots</p>
                                    </div>
                                    <div class="d-flex align-items-center gap-2 pill_legend NAfill_legend">
                                        <span class="fs-8">NA</span>
                                        <p>Not Applicable</p>
                                    </div>
                                    <div class="d-flex align-items-center gap-2 pill_legend Nfill_legend">
                                        <span class="fs-8">N</span>
                                        <p>Not Administered for specified reason</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="errorMsg" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
            <div class="modal-content">
                <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
                <div class="modal-body">
                    <p [innerHTML]="errorMessage"></p>
                    <div class="modal-footer">
                        <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                            data-bs-dismiss="modal">Ok</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="saveMsg" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
            <div class="modal-content">
                <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
                <div class="modal-body">
                    <p>{{savemsgg}}</p>                   
                    <div class="modal-footer">
                        <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                            data-bs-dismiss="modal">Ok</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="panaceaResultsModal modal" data-bs-backdrop="static" tabindex="-1" id="SehaVaccResultsModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered my-2" style="max-width: 80%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Patient Vaccination Details</h5>
                <div class="d-flex align-items-center gap-2 ms-auto">
                    <!-- <button class="btn btn-main-outline" (click)="onRefreshClick()">Refresh</button> -->
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>



            </div>
            <div class="p-1">
                <app-wardheader-summary *ngIf="isNational"></app-wardheader-summary>
            </div>
            <div class="modal-body p-2">
                

                <div class="fixed_alter_list rounded border-primary-200">
                    <div class="fixed_alter_header bg-primary-50 rounded-top">
                        <div class="row gx-1 p-2 mx-0">
                            <div class="col-1">
                                <p class="label m-0">Sl.No.</p>
                            </div>
                            <div class="col-3">
                                <p class="label m-0">Vaccination </p>
                            </div>
                            <div class="col-3" >
                                <p class="label m-0">Vaccination Date</p>
                            </div>
                            <div class="col-2" >
                                <p class="label m-0">Dose Order</p>
                            </div>
                            <div class="col-3" >
                                <p class="label m-0">Hospital</p>
                            </div>
                            
                        </div>
                    </div>
                    <div class="fixed_alter_body height-unset" style="max-height: calc(100vh - 9rem);">
                        <div class="row gx-1 p-2 mx-0 alter_div rounded-0" *ngFor="let item of patientvaccinationsList; let i = index">
                            <div class="col-1">
                                <p class="m-0 text-break">{{i + 1}}</p>
                            </div>
                            <div class="col-3" >
                                <p class="m-0 text-break">{{item.agentNameEn}}</p>
                            </div>
                            <div class="col-3" >
                                <p class="m-0 text-break">{{item.vaccinationDate}}</p>
                            </div>
                            <div class="col-2" >
                                <p class="m-0 text-break">{{item.doseOrder}}</p>
                            </div>
                            <div class="col-3" >
                                <p class="m-0 text-break">{{item.organizationNameEn}}</p>
                            </div>
                            
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>