<!-- <app-header [IsSwitchWard]="false"></app-header> -->

<!-- Patient Card -->
<app-generic-close *ngIf="readonly"></app-generic-close>
<div class="card card-style-1">
    <div class="card-header justify-content-between" style="height: 45px; min-height: 45px;" data-bs-toggle="collapse"
        aria-expanded="true" aria-controls="collapseOne">
        <div class="d-flex align-items-center">
            <h2 class="card-heading"> {{langData?.Endoscopy?.AdmissionReconciliation}} </h2>
        </div>
        <div class="d-flex align-items-center justify-content-end custom_check ms-3 gap-2">
            <p for="" class="label ps-0 me-4 mb-0">{{lastSavedAdmReconDate}}</p>
            <button class="btn btn-secondary-outline min-width-unset fs-8 px-2" (click)="onPatientNoPrevMed()"
                [class.active]="patientNoPrevMed">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.4"
                        d="M10 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10C18.3334 5.39752 14.6025 1.66669 10 1.66669C5.39752 1.66669 1.66669 5.39752 1.66669 10C1.66669 14.6025 5.39752 18.3334 10 18.3334Z"
                        fill="#B4DDE4" />
                    <path
                        d="M8.81668 12.985C8.65098 12.9849 8.49212 12.9189 8.37502 12.8017L6.01668 10.4433C5.90045 10.3257 5.83527 10.167 5.83527 10.0017C5.83527 9.83631 5.90045 9.67762 6.01668 9.56C6.25835 9.31833 6.65835 9.31833 6.90002 9.56L8.81668 11.4767L13.1 7.19333C13.3417 6.95167 13.7417 6.95167 13.9834 7.19333C14.225 7.435 14.225 7.835 13.9834 8.07667L9.25835 12.8017C9.14125 12.9189 8.98239 12.9849 8.81668 12.985Z"
                        fill="#8ECBD7" />
                </svg>
                {{langData?.adminrecon?.NOPreviousMedication}}
            </button>
            <button class="btn btn-secondary-outline fs-8 py-2 d-none"
                (click)="PreviousMedicationClick()">{{langData?.prescriptions?.PreviousMedication}}</button>
        </div>
        <div class="actions ms-auto d-flex gap-2" *ngIf=!fromIndProcessing>
            <button class="btn btn-main-outline" *ngIf="currentDate < admissionPlus12Hours"
                (click)="saveAmdRecToPrescription($event)">Prescription</button>
            <button class="btn btn-main-fill" *ngIf="!fromCaseSheet"
                (click)="navigatetoBedBoard()">{{langData?.common?.BedBoards}}</button>
            <button class="btn btn-danger-outline"
                (click)="ClearPrescriptionsSelected()">{{langData?.common?.Clear}}</button>
            <button class="btn btn-main-outline" (click)="saveAllPrescription($event)"
                *ngIf="!endofEpisode && currentDate < admissionPlus12Hours">{{langData?.common?.Save}}</button>
        </div>
    </div>
    <div class="">
        <app-wardheader-summary *ngIf="!fromCaseSheet"></app-wardheader-summary>
        <div class="mt-2 admissionReconciliation">

            <div class="medicationsForm">
                <form [formGroup]="medicationsForm" (keydown.enter)="$event.preventDefault()" *ngIf="!patientNoPrevMed">
                    <div class="p-2">
                        <div class="d-flex align-items-center gap-2">
                            <div class="col-3">
                                <div class="d-flex align-items-center gap-2">
                                    <div class="CommanSearch__form bg-white ps-2 w-100">
                                        <svg id="button-addon2" width="20" height="20" viewBox="0 0 24 25" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M10.8609 2.49805C15.7521 2.49805 19.7218 6.46772 19.7218 11.3589C19.7218 16.2501 15.7521 20.2198 10.8609 20.2198C5.96968 20.2198 2 16.2501 2 11.3589C2 6.46772 5.96968 2.49805 10.8609 2.49805ZM10.8609 18.2507C14.6681 18.2507 17.7527 15.1662 17.7527 11.3589C17.7527 7.55072 14.6681 4.46713 10.8609 4.46713C7.05267 4.46713 3.96909 7.55072 3.96909 11.3589C3.96909 15.1662 7.05267 18.2507 10.8609 18.2507ZM19.2147 18.3206L22 21.1049L20.6069 22.498L17.8226 19.7128L19.2147 18.3206Z"
                                                fill="#368796" />
                                        </svg>
                                        <input type="text" class="CommonSearch__input ps-0 form-control"
                                            placeholder={{langData?.prescriptions?.drugNameLabel}}
                                            aria-label="Drug Name" formControlName="ItemName"
                                            [matAutocomplete]="autoMed"
                                            (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : searchItem($event)">

                                        <mat-autocomplete #autoMed="matAutocomplete">
                                            <mat-option *ngFor="let item of listOfItems"
                                                (onSelectionChange)="onItemSelected(item)"
                                                [value]="item.DisplayName.trim()">
                                                {{item.DisplayName}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </div>

                                    <div class="sub_tooltip position-relative custom_tooltip custom_tooltip_left">
                                        <div class="tooltip">
                                            <p id="ItemName" for="ItemName" class="form-label m-0">
                                                {{this.medicationsForm.get('ItemName')?.value}}</p>
                                        </div>
                                    </div>
                                    <div class="sub_tooltip position-relative custom_tooltip custom_tooltip_left">
                                        <button class="btn btn-icon-3d"
                                            (click)="fetchSubstituteItems(this.medicationsForm.get('ItemId')?.value)"><img
                                                src="assets/images/icons/rx-orders/icon-S.svg" alt=""></button>
                                        <div class="tooltip">
                                            <p>{{langData?.adminrecon?.Substitute}} </p>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="">
                                <div class="d-flex align-items-center gap-2 position-relative">
                                    <div class="custom_hw_field_wrapper d-flex align-items-end">
                                        <div class="height_field merge_field" style="width: 5rem;">
                                            <div class="afterlabel_form d-flex align-items-end gap-2 border-end">
                                                <input type="text" appTwoDigitDecimaNumber formControlName="Strength"
                                                    class="form-control" placeholder="XXXX">
                                                <div class="custom_tooltip custom_tooltip_left d-flex">
                                                    <label id="StrengthUoM" for="StrengthUoM"
                                                        class="form-label text-truncate m-0"></label>
                                                    <div class="tooltip">
                                                        <p id="StrengthUoM" for="StrengthUoM" class="form-label m-0">
                                                            {{this.medicationsForm.get('Strength')?.value}}
                                                            {{this.medicationsForm.get('StrengthUoM')?.value}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="validation_err">
                                                <span class="text-danger"
                                                    *ngIf="isMedicationFormSubmitted && this.medicationsForm.get('Strength')?.value == ''">
                                                    <p class="m-0"
                                                        *ngIf="this.medicationsForm.get('Strength')?.value == ''"
                                                        translate>
                                                        {{langData?.messages?.Strengthisrequired}}</p>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="weight_field merge_field" style="width: 7rem;">
                                            <div class="afterlabel_form d-flex align-items-end gap-1 border-end">
                                                <input type="text" formControlName="IssueUOMValue" class="form-control"
                                                    placeholder="XXXX">
                                                <div class="custom_tooltip custom_tooltip_left d-flex">
                                                    <label id="Dosage" for="Dosage"
                                                        class="form-label text-truncate m-0"></label>
                                                    <div class="tooltip">
                                                        <p id="Dosage" for="Dosage" class="form-label m-0">
                                                            {{this.medicationsForm.get('IssueUOMValue')?.value}}
                                                            {{this.medicationsForm.get('Dosage')?.value}}</p>
                                                    </div>
                                                </div>
                                                <svg style="width: 5rem;" class="cursor-pointer"
                                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                    viewBox="0 0 18 17" fill="none">
                                                    <path
                                                        d="M3.16669 13.5024H6.70002C6.80969 13.503 6.91841 13.482 7.01994 13.4406C7.12147 13.3991 7.21382 13.338 7.29169 13.2607L13.0584 7.48574L15.425 5.16908C15.5031 5.09161 15.5651 4.99944 15.6074 4.89789C15.6497 4.79634 15.6715 4.68742 15.6715 4.57741C15.6715 4.4674 15.6497 4.35848 15.6074 4.25693C15.5651 4.15538 15.5031 4.06321 15.425 3.98574L11.8917 0.410744C11.8142 0.332637 11.7221 0.270642 11.6205 0.228335C11.519 0.186027 11.41 0.164246 11.3 0.164246C11.19 0.164246 11.0811 0.186027 10.9795 0.228335C10.878 0.270642 10.7858 0.332637 10.7084 0.410744L8.35835 2.76908L2.57502 8.54408C2.49779 8.62195 2.43668 8.71429 2.39521 8.81582C2.35374 8.91735 2.33272 9.02607 2.33335 9.13575V12.6691C2.33335 12.8901 2.42115 13.1021 2.57743 13.2583C2.73371 13.4146 2.94567 13.5024 3.16669 13.5024ZM11.3 2.17741L13.6584 4.53574L12.475 5.71908L10.1167 3.36074L11.3 2.17741ZM4.00002 9.47741L8.94169 4.53574L11.3 6.89408L6.35835 11.8357H4.00002V9.47741ZM16.5 15.1691H1.50002C1.27901 15.1691 1.06705 15.2569 0.910765 15.4132C0.754484 15.5694 0.666687 15.7814 0.666687 16.0024C0.666687 16.2234 0.754484 16.4354 0.910765 16.5917C1.06705 16.7479 1.27901 16.8357 1.50002 16.8357H16.5C16.721 16.8357 16.933 16.7479 17.0893 16.5917C17.2456 16.4354 17.3334 16.2234 17.3334 16.0024C17.3334 15.7814 17.2456 15.5694 17.0893 15.4132C16.933 15.2569 16.721 15.1691 16.5 15.1691Z"
                                                        fill="#FFAD0E" />
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="route_dropdown">
                                <div class="dropdown custom_dropdown">
                                    <button class="btn btn-secondary dropdown-toggle" type="button"
                                        data-bs-toggle="dropdown" aria-expanded="false">
                                        {{getRouteName(medicationsForm.get("AdmRouteId")?.value)}}
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li class="dropdown-item">Select Route</li>
                                        <li class="dropdown-item" *ngFor="let route of AdmRoutesList"
                                            (click)="setRouteIdValue(route)">
                                            {{itemSelected == 'false' ? route.Names : route.RouteName}}
                                        </li>
                                    </ul>
                                </div>
                                <div class="validation_err">
                                    <span class="text-danger"
                                        *ngIf="isMedicationFormSubmitted && this.medicationsForm.get('AdmRouteId')?.value == ''">
                                        <p class="m-0" *ngIf="this.medicationsForm.get('AdmRouteId')?.value == ''"
                                            translate>
                                            {{langData?.messages?.Routeisrequired}}</p>
                                    </span>
                                </div>
                            </div>

                            <div class="freq_dropdown">
                                <div class="dropdown custom_dropdown">
                                    <button class="btn btn-secondary dropdown-toggle" type="button"
                                        data-bs-toggle="dropdown" aria-expanded="false">
                                        {{getFrequencyName(medicationsForm.get("FrequencyId")?.value)}}
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li class="dropdown-item">Select Frequency</li>
                                        <li class="dropdown-item" *ngFor="let freq of drugFrequenciesList"
                                            (click)="setFrequencyValue(freq)">
                                            {{freq.Frequency}}
                                        </li>
                                    </ul>
                                </div>
                                <div class="validation_err">
                                    <span class="text-danger"
                                        *ngIf="isMedicationFormSubmitted && this.medicationsForm.get('FrequencyId')?.value == ''">
                                        <p class="m-0" *ngIf="this.medicationsForm.get('FrequencyId')?.value == ''"
                                            translate>{{langData?.messages?.Frequencyisrequired}}</p>
                                    </span>
                                </div>
                            </div>

                            <div class="">
                                <div class="medication_scheduledate d-flex align-items-center position-relative">
                                    <div class="merger_date d-flex pe-1 border-end">
                                        <mat-form-field appearance="fill">
                                            <mat-label translate>dd-MMM-yyyy</mat-label>
                                            <input matInput class="" formControlName="ScheduleStartDate"
                                                [matDatepicker]="ScheduleStartDate" (click)="ScheduleStartDate.open()">
                                            <mat-datepicker-toggle matSuffix [for]="ScheduleStartDate">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #ScheduleStartDate></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="validation_err start-0" style="bottom: -0.8rem;">
                                        <span class="text-danger"
                                            *ngIf="isMedicationFormSubmitted && this.medicationsForm.get('ScheduleStartDate')?.value == ''">
                                            <p class="m-0"
                                                *ngIf="this.medicationsForm.get('ScheduleStartDate')?.value == ''"
                                                translate>{{langData?.messages?.ScheduleStartDateisrequired}}</p>
                                        </span>
                                    </div>

                                    <div class="input_selct_merge d-flex durationofillness">

                                        <input type="text" class="form-control ps-1 pe-0" appTwoDigitDecimaNumber
                                            maxlength="2" formControlName="DurationValue" (keyup)="CalculateQuantity();"
                                            placeholder="">

                                        <div class="dropdown custom_dropdown">
                                            <button class="btn btn-secondary dropdown-toggle" type="button"
                                                data-bs-toggle="dropdown" aria-expanded="false">
                                                {{getDurationName(medicationsForm.get("DurationId")?.value)}}
                                            </button>
                                            <ul class="dropdown-menu end-0">
                                                <li class="dropdown-item" *ngFor="let dur of durationList"
                                                    (click)="setDurationValue(dur)">
                                                    {{dur.Names}}
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="validation_err">
                                            <span class="text-danger"
                                                *ngIf="isMedicationFormSubmitted && this.medicationsForm.get('DurationValue')?.value == ''">
                                                <p class="m-0"
                                                    *ngIf="this.medicationsForm.get('DurationValue')?.value == ''"
                                                    translate>{{langData?.prescriptions?.Durationisrequired}}</p>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="med_qty d-flex">
                                <input type="text" class="form-control px-0 text-center" formControlName="Quantity"
                                    readonly>
                                <label id="QuantityUOM" for="IssueUOM"
                                    class="form-label d-flex align-items-end ms-1 mb-0"></label>
                            </div>

                            <div class="col">
                                <div class="dropdown custom_dropdown">
                                    <button class="btn btn-secondary dropdown-toggle" type="button"
                                        data-bs-toggle="dropdown" aria-expanded="false">
                                        {{getPatientInstructionName(medicationsForm.get("medInstructionId")?.value)}}
                                    </button>
                                    <ul class="dropdown-menu end-0">
                                        <li class="dropdown-item" *ngFor="let instr of medicationInstructions"
                                            (click)="setPatientInstructionsValue(instr)">
                                            {{instr.name}}
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="w-100" *ngIf="isPRN">
                                <div class="dropdown custom_dropdown">
                                    <button class="btn btn-secondary dropdown-toggle" type="button"
                                        data-bs-toggle="dropdown" aria-expanded="false">
                                        Select
                                    </button>
                                    <ul class="dropdown-menu end-0">
                                        <li class="dropdown-item">Anxiety</li>
                                        <li class="dropdown-item">Chest Pain</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="p-2 row g-0 rounded bg-primary-gradient mx-0 mt-2">
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="col-2">
                                    <div class="dropdown custom_dropdown">
                                        <button class="btn btn-secondary dropdown-toggle" type="button"
                                            data-bs-toggle="dropdown" aria-expanded="false">
                                            {{getAdmReconStatusName(medicationsForm.get("medStatus")?.value)}}
                                        </button>
                                        <ul class="dropdown-menu end-0">
                                            <li class="dropdown-item" *ngFor="let instr of admReconStatus"
                                                (click)="setAdmReconStatusName(instr)">
                                                {{instr.Name}}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="d-flex align-items-center gap-2 justify-content-end">
                                    <div class="custom_check d-flex align-items-center gap-2">
                                        <button class="btn btn-secondary-outline fs-8 px-2" [class.active]="selectall"
                                            (click)="onApplyToAllChange()">
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path opacity="0.4"
                                                    d="M10 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10C18.3334 5.39752 14.6025 1.66669 10 1.66669C5.39752 1.66669 1.66669 5.39752 1.66669 10C1.66669 14.6025 5.39752 18.3334 10 18.3334Z"
                                                    fill="#B4DDE4"></path>
                                                <path
                                                    d="M8.81668 12.985C8.65098 12.9849 8.49212 12.9189 8.37502 12.8017L6.01668 10.4433C5.90045 10.3257 5.83527 10.167 5.83527 10.0017C5.83527 9.83631 5.90045 9.67762 6.01668 9.56C6.25835 9.31833 6.65835 9.31833 6.90002 9.56L8.81668 11.4767L13.1 7.19333C13.3417 6.95167 13.7417 6.95167 13.9834 7.19333C14.225 7.435 14.225 7.835 13.9834 8.07667L9.25835 12.8017C9.14125 12.9189 8.98239 12.9849 8.81668 12.985Z"
                                                    fill="#8ECBD7"></path>
                                            </svg>
                                            {{langData?.adminrecon?.StatusApplicableforall}}
                                        </button>
                                    </div>
                                    <div class="cursor-pointer d-flex custom_tooltip clear_svg">
                                        <svg (click)="ClearPrescriptionItems()" width="18" height="21"
                                            viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M16.647 10.0809V8.97505C16.647 8.195 16.3371 7.4469 15.7856 6.89532C15.234 6.34375 14.4859 6.03387 13.7058 6.03387H10.7647V1.91623C10.7647 1.4482 10.5787 0.999337 10.2478 0.66839C9.91685 0.337443 9.46799 0.15152 8.99996 0.15152C8.53193 0.15152 8.08307 0.337443 7.75213 0.66839C7.42118 0.999337 7.23526 1.4482 7.23526 1.91623V6.03387H4.29408C3.51403 6.03387 2.76593 6.34375 2.21435 6.89532C1.66278 7.4469 1.3529 8.195 1.3529 8.97505V10.0809L0.176433 19.4927C0.163041 19.6581 0.213567 19.8223 0.317609 19.9515C0.374196 20.014 0.443158 20.0641 0.520119 20.0985C0.59708 20.1329 0.680359 20.151 0.764668 20.1515H17.2353C17.3196 20.151 17.4028 20.1329 17.4798 20.0985C17.5568 20.0641 17.6257 20.014 17.6823 19.9515C17.7864 19.8223 17.8369 19.6581 17.8235 19.4927L16.647 10.0809ZM15.7858 18.975L15.4623 17.1103C15.4492 17.0342 15.4212 16.9613 15.3799 16.896C15.3386 16.8307 15.2849 16.7741 15.2217 16.7295C15.1586 16.6849 15.0873 16.6532 15.0119 16.6362C14.9365 16.6192 14.8585 16.6172 14.7823 16.6303C14.6285 16.6569 14.4915 16.7434 14.4015 16.8709C14.3569 16.9341 14.3252 17.0054 14.3082 17.0808C14.2912 17.1562 14.2892 17.2342 14.3023 17.3103L14.5917 18.975H12.7482L11.9341 13.5927C11.9057 13.4431 11.8204 13.3103 11.6962 13.2223C11.5719 13.1343 11.4184 13.0979 11.2679 13.1208C11.1173 13.1436 10.9815 13.224 10.889 13.3449C10.7965 13.4658 10.7544 13.6179 10.7717 13.7692L11.5588 18.975H4.61761L4.88232 16.088C4.88942 16.0107 4.88124 15.9329 4.85825 15.8588C4.83525 15.7847 4.79789 15.7158 4.74829 15.6562C4.6987 15.5965 4.63783 15.5473 4.56919 15.5111C4.50054 15.475 4.42545 15.4527 4.3482 15.4456C4.27095 15.4385 4.19306 15.4467 4.11897 15.4697C4.04488 15.4927 3.97605 15.5301 3.9164 15.5797C3.85675 15.6293 3.80746 15.6901 3.77133 15.7588C3.7352 15.8274 3.71295 15.9025 3.70584 15.9798L3.43055 18.975H1.43526L2.47055 10.7398H15.5411L16.5647 18.975H15.7858Z"
                                                fill="#EB6247" />
                                        </svg>
                                        <div class="tooltip">
                                            <p>{{langData?.common?.Clear}}</p>
                                        </div>
                                    </div>
                                    <div [class]="(this.medicationsForm.get('Remarks')?.value == '' || this.medicationsForm.get('Remarks')?.value == 'undefined') ? 'remark_svg cursor-pointer custom_tooltip' : 'remark_svg cursor-pointer custom_tooltip active'"
                                        data-bs-toggle="modal" data-bs-target="#medication_remark"
                                        (click)="medicationRemarksPopup(this.medicationsForm.get('ItemName')?.value , invRem)">
                                        <svg width="23" height="23" viewBox="0 0 24 25" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M11.3035 13.0436L13.6501 17.1209H15.6449L13.122 12.897C13.9237 12.7014 14.5155 12.3347 14.8968 11.7969C15.288 11.2494 15.4835 10.6432 15.4835 9.97823C15.4835 9.41114 15.3465 8.8979 15.0729 8.43822C14.8088 7.9787 14.403 7.61212 13.8554 7.33834C13.3177 7.06457 12.6577 6.9276 11.8753 6.9276H8.35541V17.1209H10.0273V13.0436H11.3035ZM11.8753 11.7089H10.0273V8.29156H11.8753C12.5109 8.29156 12.9853 8.44315 13.298 8.74631C13.611 9.03964 13.7674 9.45023 13.7674 9.97823C13.7674 10.5062 13.606 10.9267 13.2834 11.2395C12.9704 11.5526 12.5013 11.7089 11.8753 11.7089Z"
                                                fill="#B0B4B5" />
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M23 12.0243C23 18.0995 18.075 23.0243 12 23.0243C5.92499 23.0243 1 18.0995 1 12.0243C1 5.94917 5.92499 1.02432 12 1.02432C18.075 1.02432 23 5.94917 23 12.0243ZM21.7778 12.0243C21.7778 17.4245 17.4 21.8021 12 21.8021C6.59996 21.8021 2.22222 17.4245 2.22222 12.0243C2.22222 6.62414 6.59996 2.24654 12 2.24654C17.4 2.24654 21.7778 6.62414 21.7778 12.0243Z"
                                                fill="#B0B4B5" />
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M11.3035 13.0436L13.6501 17.1209H15.6449L13.122 12.897C13.9237 12.7014 14.5155 12.3347 14.8968 11.7969C15.288 11.2494 15.4835 10.6432 15.4835 9.97823C15.4835 9.41114 15.3465 8.8979 15.0729 8.43822C14.8088 7.9787 14.403 7.61212 13.8554 7.33834C13.3177 7.06457 12.6577 6.9276 11.8753 6.9276H8.35541V17.1209H10.0273V13.0436H11.3035ZM11.8753 11.7089H10.0273V8.29156H11.8753C12.5109 8.29156 12.9853 8.44315 13.298 8.74631C13.611 9.03964 13.7674 9.45023 13.7674 9.97823C13.7674 10.5062 13.606 10.9267 13.2834 11.2395C12.9704 11.5526 12.5013 11.7089 11.8753 11.7089Z"
                                                stroke="#B0B4B5" stroke-width="0.5" />
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M23 12.0243C23 18.0995 18.075 23.0243 12 23.0243C5.92499 23.0243 1 18.0995 1 12.0243C1 5.94917 5.92499 1.02432 12 1.02432C18.075 1.02432 23 5.94917 23 12.0243ZM21.7778 12.0243C21.7778 17.4245 17.4 21.8021 12 21.8021C6.59996 21.8021 2.22222 17.4245 2.22222 12.0243C2.22222 6.62414 6.59996 2.24654 12 2.24654C17.4 2.24654 21.7778 6.62414 21.7778 12.0243Z"
                                                stroke="#B0B4B5" stroke-width="0.5" />
                                        </svg>
                                        <div class="tooltip">
                                            <p>{{langData?.SHO?.Remarks}}</p>
                                        </div>
                                    </div>
                                    <div [class]="this.medicationsForm.get('IsFav')?.value == 1 ? 'fav_svg cursor-pointer custom_tooltip active' : 'fav_svg cursor-pointer custom_tooltip'"
                                        (click)="saveFavouriteMedications()">
                                        <svg width="21" height="21" viewBox="0 0 21 21" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <g opacity="0.6">
                                                <path
                                                    d="M8.86291 0.995268C9.50183 -0.299327 11.3479 -0.299325 11.9868 0.99527L13.8589 4.78852C14.1126 5.30261 14.603 5.65893 15.1704 5.74137L19.3565 6.34964C20.7851 6.55724 21.3556 8.31294 20.3218 9.32064L17.2927 12.2733C16.8822 12.6734 16.6949 13.25 16.7918 13.815L17.5068 17.9842C17.7509 19.4071 16.2574 20.4922 14.9796 19.8204L11.2354 17.852C10.728 17.5852 10.1217 17.5852 9.61431 17.852L5.87015 19.8204C4.59231 20.4922 3.09882 19.4071 3.34287 17.9842L4.05794 13.815C4.15485 13.25 3.96752 12.6734 3.557 12.2733L0.527911 9.32064C-0.505885 8.31294 0.0645748 6.55724 1.49325 6.34964L5.67934 5.74137C6.24667 5.65893 6.73711 5.30261 6.99082 4.78852L8.86291 0.995268Z"
                                                    fill="#B0B4B5" />
                                            </g>
                                        </svg>
                                        <div class="tooltip">
                                            <p>{{langData?.Diagnosis?.Favourite}}</p>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="medication_remark" tabindex="-1"
                                        aria-labelledby="medicationRemarksLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered" style="width: 35%;">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="medicationRemarksLabel">
                                                        {{langData?.prescriptions?.Remarksfor}}
                                                        {{remarksForSelectedMedName}}</h5>
                                                    <div class="d-flex gap-2 align-items-center justify-content-end">
                                                        <button
                                                            class="btn btn-danger-outline">{{langData?.common?.Clear}}</button>
                                                        <button class="btn btn-main-outline" data-bs-dismiss="modal"
                                                            (click)="saveMedicationRemarks(invRem.value)">{{langData?.common?.Save}}</button>
                                                        <button type="button" class="btn-close ms-3"
                                                            data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                </div>
                                                <div class="modal-body">
                                                    <textarea name="" placeholder="" #invRem
                                                        class="form-control resize-none mb-2" id="invRem" cols="30"
                                                        rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="" *ngIf="!isEditmode">
                                        <button class="btn btn-main-outline" (click)="AddPrescriptionItemsToTable()">
                                            <svg class="me-1" width="17" height="16" viewBox="0 0 17 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M17.0009 3.55613C17.0009 5.52013 15.4088 7.11225 13.4448 7.11225C11.4808 7.11225 9.88867 5.52013 9.88867 3.55613C9.88867 1.59213 11.4808 0 13.4448 0C15.4088 0 17.0009 1.59213 17.0009 3.55613ZM15.3483 3.99384C15.2934 4.23312 15.0548 4.38248 14.8156 4.32745L11.8748 3.65139C11.6355 3.5964 11.4862 3.35783 11.5412 3.11859C11.5962 2.87935 11.8347 2.72995 12.074 2.78498L15.0147 3.46105C15.254 3.51603 15.4034 3.7546 15.3483 3.99384Z"
                                                    fill="#368796" />
                                                <path
                                                    d="M5.78962 1.44253C5.50179 0.761618 4.53924 0.692936 4.1526 1.32572L1.12869 6.27426C0.779874 6.84511 1.16988 7.57389 1.85018 7.62243L7.12499 7.9988C7.80527 8.04734 8.3002 7.38173 8.04056 6.76745L5.78962 1.44253Z"
                                                    fill="#368796" />
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M14.0605 13.4951C15.3954 12.8726 15.9731 11.2858 15.3505 9.95075C14.728 8.61578 13.1411 8.03822 11.8062 8.66072L6.97174 10.915C5.63673 11.5376 5.05917 13.1244 5.68167 14.4594C6.30421 15.7944 7.89104 16.372 9.22606 15.7495L14.0605 13.4951ZM11.6413 13.6423L13.6847 12.6894C14.5747 12.2744 14.9598 11.2165 14.5448 10.3265C14.1298 9.43649 13.0719 9.05145 12.1819 9.46645L10.1384 10.4193L11.6413 13.6423Z"
                                                    fill="#368796" />
                                            </svg>
                                            {{langData?.common?.Add}}</button>
                                    </div>
                                    <div class="" *ngIf="isEditmode">
                                        <button class="btn btn-main-outline"
                                            (click)="EditPrescriptionItemsToTable()">{{langData?.common?.Update}}</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-2 medication_drug overflow-hidden">
                        <div
                            class="bg-primary-50 p-2 medication_drug_header card_item_div row gx-2 mx-0 align-items-start mx-0">
                            <div style="width: 2%;"></div>
                            <div class="col-3">
                                <p class="clr-primary-600 m-0">{{langData?.SHO?.DrugName}}</p>
                            </div>
                            <div class="col-1" style="width:11%;">
                                <p class="clr-primary-600 m-0"> {{langData?.adminrecon?.Strength}} /
                                    {{langData?.adminrecon?.Dosage}}</p>
                            </div>
                            <div class="col-1">
                                <p class="clr-primary-600 m-0"> {{langData?.adminrecon?.Route}}</p>
                            </div>
                            <div class="col-1">
                                <p class="clr-primary-600 m-0"> {{langData?.common?.Frequency}}</p>
                            </div>
                            <div class="col-2" style="width: 9%;">
                                <p class="clr-primary-600 m-0"> {{langData?.prescriptions?.ScheduleStartDate}}</p>
                            </div>
                            <div class="col" style="max-width: 6%;">
                                <p class="clr-primary-600 m-0">{{langData?.common?.Duration}}</p>
                            </div>
                            <div class="col-1" style="width: 11%;">
                                <p class="clr-primary-600 mb-1 text-nowrap"> {{langData?.adminrecon?.Status}}</p>
                            </div>
                            <div class="col-1">
                                <p class="clr-primary-600 m-0">{{langData?.prescriptions?.Qty}}</p>
                            </div>
                            <div class="col">
                                <p class="clr-primary-600 m-0"></p>
                            </div>
                        </div>
                        <div class="medication_drug_body">
                            <div class="card_item_div_wrapper" *ngFor="let med of selectedItemsList;let i=index">
                                <div class="d-flex flex-nowrap p-2">
                                    <div [class]="med.Class">
                                        <div style="width: 2%;" class="custom_check d-flex align-items-center gap-2"
                                            [class.active]="med.selected" (click)="selectmedication(med)">
                                            <svg style="min-width: 1rem;" width="19" height="19" viewBox="0 0 20 21"
                                                fill="none" xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                <path
                                                    d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                    fill="white" stroke="white" stroke-width="0.25"></path>
                                            </svg>
                                        </div>
                                        <div class="col-3">
                                            <p class="text-wrap">{{med.ItemName}}</p>
                                        </div>
                                        <div class="col-1" style="width:11%;">
                                            <p>{{med.Strength}} {{med.Dosage}}</p>
                                        </div>
                                        <div class="col-1">
                                            <p>{{med.Route}}</p>
                                        </div>
                                        <div class="col-1">
                                            <p>{{med.Frequency}}</p>
                                        </div>
                                        <div class="col-2" style="width: 9%;">
                                            <p>{{med.ScheduleStartDate}}</p>
                                        </div>
                                        <div class="col med_duration" style="max-width: 6%;">
                                            <p class="text-nowrap">{{med.Duration}}</p>
                                        </div>
                                        <div class="col-1" style="width: 11%;">
                                            <div class="dropdown custom_dropdown">
                                                <!-- <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                    Discontinue
                                                </button>
                                                <ul class="dropdown-menu end-0">
                                                    <li class="dropdown-item" >Discontinue</li>                                                                                                               
                                                </ul> -->
                                                <button class="btn btn-secondary dropdown-toggle" type="button"
                                                    data-bs-toggle="dropdown" aria-expanded="false">
                                                    {{med.PrescriptionItemStatusName}}
                                                </button>
                                                <ul class="dropdown-menu end-0">
                                                    <li class="dropdown-item" *ngFor="let instr of admReconStatus"
                                                        (click)="onAdmReconStatusChange(instr, med)">
                                                        {{instr.Name}}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-1">
                                            <p>{{med.Quantity}} {{med.IssueUoM}}</p>
                                        </div>
                                        <div class="col">
                                            <div class="d-flex gap-2 align-items-center justify-content-end">
                                                <div class="text-center cursor-pointer custom_tooltip custom_tooltip_left"
                                                    (click)="maximizeSelectedDrugItems(med)">
                                                    <svg width="23" height="6" viewBox="0 0 23 6" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <circle cx="2.5" cy="2.70496" r="2.5" fill="#368796" />
                                                        <circle cx="11.5" cy="2.70496" r="2.5" fill="#368796" />
                                                        <circle cx="20.5" cy="2.70496" r="2.5" fill="#368796" />
                                                    </svg>
                                                    <div class="tooltip">
                                                        <p id="viewMore_toggle_a"
                                                            [innerHTML]="med.ClassSelected ? langData?.SHO?.ViewLess : langData?.prescriptions?.ViewMore">
                                                            {{langData?.prescriptions?.ViewMore}}</p>
                                                    </div>
                                                </div>
                                                <div class="cursor-pointer custom_tooltip custom_tooltip_left edit_svg"
                                                    (click)="EditPrescriptionItem(med)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                        viewBox="0 0 20 20" fill="none">
                                                        <path
                                                            d="M3.24641 7.75089H10.7338C10.9417 7.75089 11.1076 7.58202 11.1076 7.37647C11.1076 7.17092 10.939 7.00205 10.7338 7.00205H3.24641C3.03843 7.00205 2.87251 7.17092 2.87251 7.37647C2.87251 7.58189 3.04115 7.75089 3.24641 7.75089Z"
                                                            fill="#368796" />
                                                        <path
                                                            d="M10.7338 9.62546H3.24648C3.04122 9.62546 2.87258 9.45375 2.87258 9.24833C2.87258 9.04278 3.0385 8.87391 3.24648 8.87391H10.7365C10.9417 8.87391 11.1077 9.04563 11.1077 9.25105C11.1077 9.45659 10.9417 9.62546 10.7338 9.62546Z"
                                                            fill="#368796" />
                                                        <path
                                                            d="M3.24641 11.5004H6.98919C7.19717 11.5004 7.36308 11.3315 7.36308 11.1259C7.36308 10.9204 7.19445 10.7515 6.98919 10.7515L3.24641 10.7517C3.03843 10.7517 2.87251 10.9205 2.87251 11.1261C2.87251 11.3315 3.04115 11.5004 3.24641 11.5004Z"
                                                            fill="#368796" />
                                                        <path
                                                            d="M6.98919 13.6039H3.24641C3.04115 13.6039 2.87251 13.435 2.87251 13.2296C2.87251 13.024 3.03843 12.8552 3.24641 12.8552L6.98919 12.855C7.19445 12.855 7.36308 13.0239 7.36308 13.2295C7.36308 13.435 7.19717 13.6039 6.98919 13.6039Z"
                                                            fill="#368796" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M18.4324 6.98513C17.6706 6.2223 16.4308 6.2223 15.669 6.98513L14.4856 8.17023L14.4854 2.87497C14.4854 1.84176 13.6448 1.00013 12.6132 1.00013L5.49517 1C5.39681 1 5.30117 1.0394 5.23089 1.10977L1.10962 5.23384C1.03934 5.30421 1 5.39999 1 5.49849V17.1252C1 18.1584 1.84059 19 2.87221 19H12.61C13.6418 19 14.4822 18.1582 14.4822 17.1252L14.4823 13.7048L18.4293 9.75228C18.7975 9.38357 19 8.8908 19 8.37007C19.0027 7.84376 18.8006 7.35384 18.4324 6.98513ZM5.11869 2.27812V3.99822C5.11869 4.61759 4.61548 5.12423 3.99426 5.12423H2.27942L5.11869 2.27812ZM13.735 17.1251C13.735 17.7445 13.2318 18.2511 12.6105 18.2511L2.87242 18.2512C2.25391 18.2512 1.74799 17.7473 1.74799 17.1252V5.87578H3.9941C5.02586 5.87578 5.86631 5.03401 5.86631 4.00094V1.74883H12.6073C13.2258 1.74883 13.7317 2.25274 13.7317 2.87483V8.92158L9.13272 13.53L9.12851 13.5357L9.1243 13.5413C9.09907 13.5694 9.07926 13.6004 9.06244 13.6342C9.06102 13.6385 9.05891 13.6427 9.05681 13.6469C9.05471 13.6511 9.0526 13.6553 9.05118 13.6595C9.04979 13.6622 9.04708 13.6664 9.04708 13.6664C9.04708 13.6664 9.04422 13.6707 9.04277 13.6736L7.92675 17.0263C7.88171 17.1615 7.91549 17.3107 8.0167 17.4092C8.08697 17.4795 8.18262 17.5189 8.28098 17.5189C8.32032 17.5189 8.35967 17.5134 8.39901 17.4992L11.747 16.3817L11.7507 16.3796C11.7541 16.3776 11.7568 16.3761 11.7611 16.3761C11.7653 16.3747 11.7688 16.3726 11.7724 16.3704C11.7759 16.3683 11.7794 16.3662 11.7836 16.3648C11.8201 16.348 11.8539 16.3254 11.882 16.3L11.8836 16.2986L11.8876 16.2958L11.8932 16.2916L13.7318 14.4505L13.7317 17.1248L13.735 17.1251ZM10.9378 15.8668L8.87442 16.5565L9.5632 14.4903L10.9378 15.8668ZM11.6294 15.5008L9.92583 13.7948L14.8174 8.89637L16.521 10.6023L11.6294 15.5008ZM17.9013 9.22012L17.0494 10.0732L15.3458 8.36721L16.1977 7.51416C16.6671 7.04409 17.4318 7.04409 17.9013 7.51416C18.1289 7.74213 18.2526 8.04617 18.2526 8.36721C18.2553 8.6881 18.1289 8.99215 17.9013 9.22012Z"
                                                            fill="#368796" />
                                                        <path
                                                            d="M3.24641 7.75089H10.7338C10.9417 7.75089 11.1076 7.58202 11.1076 7.37647C11.1076 7.17092 10.939 7.00205 10.7338 7.00205H3.24641C3.03843 7.00205 2.87251 7.17092 2.87251 7.37647C2.87251 7.58189 3.04115 7.75089 3.24641 7.75089Z"
                                                            stroke="#368796" stroke-width="0.5" />
                                                        <path
                                                            d="M10.7338 9.62546H3.24648C3.04122 9.62546 2.87258 9.45375 2.87258 9.24833C2.87258 9.04278 3.0385 8.87391 3.24648 8.87391H10.7365C10.9417 8.87391 11.1077 9.04563 11.1077 9.25105C11.1077 9.45659 10.9417 9.62546 10.7338 9.62546Z"
                                                            stroke="#368796" stroke-width="0.5" />
                                                        <path
                                                            d="M3.24641 11.5004H6.98919C7.19717 11.5004 7.36308 11.3315 7.36308 11.1259C7.36308 10.9204 7.19445 10.7515 6.98919 10.7515L3.24641 10.7517C3.03843 10.7517 2.87251 10.9205 2.87251 11.1261C2.87251 11.3315 3.04115 11.5004 3.24641 11.5004Z"
                                                            stroke="#368796" stroke-width="0.5" />
                                                        <path
                                                            d="M6.98919 13.6039H3.24641C3.04115 13.6039 2.87251 13.435 2.87251 13.2296C2.87251 13.024 3.03843 12.8552 3.24641 12.8552L6.98919 12.855C7.19445 12.855 7.36308 13.0239 7.36308 13.2295C7.36308 13.435 7.19717 13.6039 6.98919 13.6039Z"
                                                            stroke="#368796" stroke-width="0.5" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M18.4324 6.98513C17.6706 6.2223 16.4308 6.2223 15.669 6.98513L14.4856 8.17023L14.4854 2.87497C14.4854 1.84176 13.6448 1.00013 12.6132 1.00013L5.49517 1C5.39681 1 5.30117 1.0394 5.23089 1.10977L1.10962 5.23384C1.03934 5.30421 1 5.39999 1 5.49849V17.1252C1 18.1584 1.84059 19 2.87221 19H12.61C13.6418 19 14.4822 18.1582 14.4822 17.1252L14.4823 13.7048L18.4293 9.75228C18.7975 9.38357 19 8.8908 19 8.37007C19.0027 7.84376 18.8006 7.35384 18.4324 6.98513ZM5.11869 2.27812V3.99822C5.11869 4.61759 4.61548 5.12423 3.99426 5.12423H2.27942L5.11869 2.27812ZM13.735 17.1251C13.735 17.7445 13.2318 18.2511 12.6105 18.2511L2.87242 18.2512C2.25391 18.2512 1.74799 17.7473 1.74799 17.1252V5.87578H3.9941C5.02586 5.87578 5.86631 5.03401 5.86631 4.00094V1.74883H12.6073C13.2258 1.74883 13.7317 2.25274 13.7317 2.87483V8.92158L9.13272 13.53L9.12851 13.5357L9.1243 13.5413C9.09907 13.5694 9.07926 13.6004 9.06244 13.6342C9.06102 13.6385 9.05891 13.6427 9.05681 13.6469C9.05471 13.6511 9.0526 13.6553 9.05118 13.6595C9.04979 13.6622 9.04708 13.6664 9.04708 13.6664C9.04708 13.6664 9.04422 13.6707 9.04277 13.6736L7.92675 17.0263C7.88171 17.1615 7.91549 17.3107 8.0167 17.4092C8.08697 17.4795 8.18262 17.5189 8.28098 17.5189C8.32032 17.5189 8.35967 17.5134 8.39901 17.4992L11.747 16.3817L11.7507 16.3796C11.7541 16.3776 11.7568 16.3761 11.7611 16.3761C11.7653 16.3747 11.7688 16.3726 11.7724 16.3704C11.7759 16.3683 11.7794 16.3662 11.7836 16.3648C11.8201 16.348 11.8539 16.3254 11.882 16.3L11.8836 16.2986L11.8876 16.2958L11.8932 16.2916L13.7318 14.4505L13.7317 17.1248L13.735 17.1251ZM10.9378 15.8668L8.87442 16.5565L9.5632 14.4903L10.9378 15.8668ZM11.6294 15.5008L9.92583 13.7948L14.8174 8.89637L16.521 10.6023L11.6294 15.5008ZM17.9013 9.22012L17.0494 10.0732L15.3458 8.36721L16.1977 7.51416C16.6671 7.04409 17.4318 7.04409 17.9013 7.51416C18.1289 7.74213 18.2526 8.04617 18.2526 8.36721C18.2553 8.6881 18.1289 8.99215 17.9013 9.22012Z"
                                                            stroke="#368796" stroke-width="0.5" />
                                                    </svg>
                                                    <div class="tooltip">
                                                        <p>{{langData?.Endoscopy?.Edit}}</p>
                                                    </div>
                                                </div>
                                                <div class="cursor-pointer custom_tooltip custom_tooltip_left del_svg"
                                                    (click)="DeletePrescriptionItem(i, med)"
                                                    *ngIf="med.PrescriptionItemStatusNew != '1'">
                                                    <svg width="23" height="22" viewBox="0 0 23 22" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z"
                                                            fill="#EB6247" />
                                                        <path
                                                            d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z"
                                                            fill="#EB6247" />
                                                        <path
                                                            d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z"
                                                            fill="#EB6247" />
                                                    </svg>
                                                    <div class="tooltip">
                                                        <p>{{langData?.Diagnosis?.Delete}}</p>
                                                    </div>
                                                </div>
                                                <div class="modal fade" id="discontinue_remarks" tabindex="-1"
                                                    aria-labelledby="discontinueRemarksLabel" aria-hidden="true">
                                                    <div class="modal-dialog modal-dialog-centered" style="width: 35%;">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="discontinueRemarksLabel">
                                                                    {{langData?.prescriptions?.Remarksfor}}
                                                                    {{remarksForSelectedDiscontinuedItemName}}</h5>
                                                                <div
                                                                    class="d-flex gap-2 align-items-center justify-content-end">
                                                                    <button
                                                                        class="btn btn-danger-outline">{{langData?.common?.Clear}}</button>
                                                                    <button class="btn btn-main-outline"
                                                                        data-bs-dismiss="modal"
                                                                        (click)="discontinuePrescriptionItem(remarksForSelectedDiscontinuedItemId, discontinueRem, '')">{{langData?.common?.Save}}</button>
                                                                    <button type="button" class="btn-close ms-3"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                            </div>
                                                            <div class="modal-body">
                                                                <!-- <label for="" class="form-label">Remarks</label> -->
                                                                <textarea name="" placeholder="" #discontinueRem
                                                                    class="form-control resize-none mb-2"
                                                                    id="discontinueRem" cols="30" rows="3"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="cursor-pointer custom_tooltip custom_tooltip_left discontinue_svg"
                                                    data-bs-toggle="modal" data-bs-target="#hold_remarks"
                                                    (click)="selectedHoldItem(med)"
                                                    *ngIf="selectedCard.PatientType == '2' && med.PrescriptionID != ''">
                                                    <!-- Yellow hand -->
                                                    <svg *ngIf="med.HoldStatus == '2'" width="16" height="21"
                                                        viewBox="0 0 16 21" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z"
                                                            fill="#F7BF08" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z"
                                                            fill="#F7BF08" />
                                                    </svg>
                                                    <!-- Green hand -->
                                                    <svg *ngIf="med.HoldStatus == ''" width="16" height="21"
                                                        viewBox="0 0 16 21" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M15.249 14.3294C15.249 17.2927 13.026 19.8194 10.1869 20.0826C8.60149 20.2302 7.08029 19.7317 5.90998 18.6833C5.02635 17.8939 4.38664 16.9204 3.70627 15.8891C3.55651 15.6602 3.40246 15.4291 3.24842 15.1981C2.52954 14.139 1.77856 13.0008 1.17308 11.7984C1.04685 11.548 0.986944 11.3512 0.986944 11.1929C0.986944 10.9661 1.08536 10.75 1.25652 10.6067C1.57959 10.3371 2.0674 10.3799 2.33698 10.7008L5.1804 14.0919C5.31733 14.2567 5.54412 14.3166 5.74523 14.2438C5.94635 14.1711 6.08114 13.9785 6.08114 13.7646V3.61471C6.08114 3.22959 6.31862 2.89155 6.64597 2.81239C6.89202 2.75248 7.12736 2.80383 7.31564 2.95145C7.50178 3.09694 7.60876 3.31517 7.60876 3.55266V9.41066C7.60876 9.69094 7.83768 9.91987 8.11796 9.91987C8.39824 9.91987 8.62717 9.69094 8.62717 9.41066V1.57574C8.62717 1.19063 8.86465 0.854725 9.19414 0.773424C9.43804 0.715657 9.67553 0.764866 9.86381 0.912492C10.0478 1.06012 10.1548 1.27835 10.1548 1.5137V9.41066C10.1548 9.69094 10.3837 9.91987 10.664 9.91987C10.9443 9.91987 11.1753 9.69094 11.1753 9.41066V2.53425C11.1753 2.29676 11.2802 2.07853 11.4663 1.93304C11.6546 1.78328 11.8921 1.73407 12.136 1.79397C12.4633 1.87314 12.703 2.20904 12.703 2.59415V9.91987C12.703 10.2001 12.9297 10.4291 13.2122 10.4291C13.4946 10.4291 13.7214 10.2001 13.7214 9.91987V5.58948C13.7214 5.38409 13.8005 5.19153 13.9439 5.04818C14.1279 4.86418 14.3932 4.7893 14.6563 4.84279C14.9559 4.90697 15.249 5.30707 15.249 5.64939V14.3294Z"
                                                            fill="#43BC94" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M5.1804 14.0919C5.31733 14.2567 5.54412 14.3166 5.74523 14.2438C5.94635 14.1711 6.08114 13.9785 6.08114 13.7646V3.61471C6.08114 3.22959 6.31862 2.89155 6.64597 2.81239C6.89202 2.75248 7.12736 2.80383 7.31564 2.95145C7.50178 3.09694 7.60876 3.31517 7.60876 3.55266V9.41066C7.60876 9.69094 7.83768 9.91987 8.11796 9.91987C8.39824 9.91987 8.62717 9.69094 8.62717 9.41066V1.57574C8.62717 1.19063 8.86465 0.854725 9.19414 0.773424C9.43804 0.715657 9.67553 0.764866 9.86381 0.912492C10.0478 1.06012 10.1548 1.27835 10.1548 1.5137V9.41066C10.1548 9.69094 10.3837 9.91987 10.664 9.91987C10.9443 9.91987 11.1753 9.69094 11.1753 9.41066V2.53425C11.1753 2.29676 11.2802 2.07853 11.4663 1.93304C11.6546 1.78328 11.8921 1.73407 12.136 1.79397C12.4633 1.87314 12.703 2.20904 12.703 2.59415V9.91987C12.703 10.2001 12.9297 10.4291 13.2122 10.4291C13.4946 10.4291 13.7214 10.2001 13.7214 9.91987V5.58948C13.7214 5.38409 13.8005 5.19153 13.9439 5.04818C14.1279 4.86418 14.3932 4.7893 14.6563 4.84279C14.9559 4.90697 15.249 5.30707 15.249 5.64939V14.3294C15.249 17.2927 13.026 19.8194 10.1869 20.0826C8.60149 20.2302 7.08029 19.7317 5.90998 18.6833C5.03246 17.8993 4.39549 16.9338 3.72037 15.9105L3.70627 15.8891C3.55655 15.6603 3.40256 15.4293 3.24856 15.1983L3.24842 15.1981C2.52954 14.139 1.77856 13.0008 1.17308 11.7984C1.04685 11.548 0.986944 11.3512 0.986944 11.1929C0.986944 10.9661 1.08536 10.75 1.25652 10.6067C1.57959 10.3371 2.0674 10.3799 2.33698 10.7008L5.1804 14.0919ZM0.886443 11.9427C0.752037 11.6761 0.666016 11.4257 0.666016 11.1929C0.666016 10.8743 0.804063 10.567 1.05046 10.3606L1.05091 10.3602C1.50915 9.97787 2.1989 10.0375 2.58272 10.4944L2.5829 10.4946L5.42721 13.8868C5.47646 13.9461 5.56031 13.9695 5.63608 13.942C5.70974 13.9154 5.76021 13.8438 5.76021 13.7646V3.61471C5.76021 3.11166 6.07167 2.62118 6.57037 2.50049C6.90924 2.41808 7.24595 2.48899 7.51366 2.6989C7.77718 2.90506 7.92968 3.21632 7.92968 3.55266V9.41066C7.92968 9.5137 8.01493 9.59894 8.11796 9.59894C8.22099 9.59894 8.30624 9.5137 8.30624 9.41066V1.57574C8.30624 1.07056 8.61931 0.584711 9.11725 0.461842L9.12017 0.461122C9.4537 0.382129 9.79243 0.44871 10.0618 0.659942L10.0632 0.66105L10.0646 0.662174C10.3228 0.869287 10.4757 1.17876 10.4757 1.5137V9.41066C10.4757 9.5137 10.561 9.59894 10.664 9.59894C10.7688 9.59894 10.8544 9.51195 10.8544 9.41066V2.53425C10.8544 2.20022 11.0029 1.88843 11.2676 1.68103C11.5374 1.46699 11.8773 1.40014 12.212 1.48217C12.7083 1.60251 13.0239 2.08876 13.0239 2.59415V9.91987C13.0239 10.0238 13.1079 10.1081 13.2122 10.1081C13.3165 10.1081 13.4004 10.0238 13.4004 9.91987V5.58948C13.4004 5.30022 13.5125 5.02566 13.7169 4.82125C13.9816 4.55663 14.358 4.45466 14.7203 4.52829L14.7219 4.52863L14.7236 4.52899C14.9772 4.58334 15.186 4.76425 15.3237 4.95188C15.4639 5.14288 15.5699 5.39349 15.5699 5.64939V14.3294C15.5699 17.4481 13.2308 20.1228 10.2165 20.4021C8.54351 20.5579 6.93381 20.0312 5.69615 18.9227C4.78735 18.1107 4.13063 17.1152 3.46323 16.1035L3.43771 16.0648C3.28909 15.8376 3.13609 15.6081 2.98217 15.3773C2.26308 14.3179 1.50194 13.165 0.886443 11.9427Z"
                                                            fill="#43BC94" />
                                                    </svg>
                                                    <!-- Red hand -->
                                                    <svg *ngIf="med.HoldStatus == '1'" width="16" height="21"
                                                        viewBox="0 0 16 21" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z"
                                                            fill="#EB6247" />
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z"
                                                            fill="#EB6247" />
                                                    </svg>
                                                    <div class="tooltip">
                                                        <p>{{langData?.adminrecon?.Hold}}</p>
                                                    </div>
                                                </div>
                                                <div class="modal fade" id="hold_remarks" tabindex="-1"
                                                    aria-labelledby="holdRemarksLabel" aria-hidden="true">
                                                    <div class="modal-dialog modal-dialog-centered" style="width: 35%;">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="discontinueRemarksLabel">
                                                                    {{langData?.prescriptions?.Remarksfor}}
                                                                    {{remarksForSelectedHoldItemName}}</h5>
                                                                <div
                                                                    class="d-flex gap-2 align-items-center justify-content-end">
                                                                    <button class="btn btn-danger-outline"
                                                                        (click)="clearHoldReason(holdRem)">{{langData?.common?.Clear}}</button>
                                                                    <button class="btn btn-main-outline"
                                                                        data-bs-dismiss="modal"
                                                                        (click)="holdPrescriptionItem(remarksForSelectedHoldItemId, holdRem)">{{langData?.common?.Save}}</button>
                                                                    <button type="button" class="btn-close ms-3"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                            </div>
                                                            <div class="modal-body">
                                                                <!-- <label for="" class="form-label">Remarks</label> -->
                                                                <select class="form-select pe-5"
                                                                    (change)="selectedHoldReasonEvent($event)">
                                                                    <option value="0"
                                                                        [selected]="selectedHoldReason == '0'"
                                                                        translate>
                                                                        Select Hold Reason</option>
                                                                    <option *ngFor="let hold of holdMasterList"
                                                                        [value]="hold.Id"
                                                                        [selected]="hold.Id == selectedHoldReason">
                                                                        {{hold.Names}}
                                                                    </option>
                                                                </select>
                                                                <textarea name="" placeholder="" #holdRem
                                                                    class="form-control resize-none mb-2" id="holdRem"
                                                                    cols="30" rows="3"></textarea>
                                                            </div>
                                                            <div class="validation_err" *ngIf="holdReasonValidation">
                                                                <p class="m-0 mb-3 text-center fs-7">
                                                                    {{langData?.messages?.ErrorMessageHold}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="expandable row align-items-center card_item_div gx-2 mx-0 px-2 pb-2"
                                    [class.d-none]="med.viewMore === false">
                                    <div class="card_item twox d-flex align-items-center gap-1 me-2">
                                        <p class="clr-primary-600 text-nowrap">{{langData?.adminrecon?.LastDose}}:</p>
                                        <p class="text-nowrap">{{med.LastDoseGiven}} {{med.LastDoseGivenTime}}</p>
                                    </div>
                                    <div class="card_item twox d-flex align-items-center gap-1">
                                        <p class="clr-primary-600">{{langData?.adminrecon?.PRNReason}}:</p>
                                        <p>{{med.PRNType}}</p>
                                    </div>
                                    <div class="card_item twox d-flex align-items-center gap-1">
                                        <p class="clr-primary-600">{{langData?.SHO?.Instruction}}:</p>
                                        <p>{{med.PresInstr}}</p>
                                    </div>
                                    <div class="card_item threex d-flex align-items-center gap-1">
                                        <p class="clr-primary-600">{{langData?.SHO?.Remarks}}</p>
                                        <p>{{med.Remarks}}</p>
                                    </div>
                                    <!-- <div class="card_item ms-auto d-flex align-items-center gap-1">
                                        <p class="clr-primary-600">QOH</p>
                                        <label for="" class="form-label text-nowrap m-0">
                                            <span [class]="med.QOH == '0' ? 'qoh_animate d-inline-flex' : ''">{{med.QOH}}</span>
                                        </label>
                                    </div> -->
                                </div>

                            </div>
                        </div>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>



<div class="modal" id="savePrescriptionMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>{{saveMsg}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="prescriptionValidationMsgModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{prescriptionValidationMsg}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="validatePrescriptionMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{errorMsg}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="validateAdmReconStatusMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{langData?.messages?.SelectStatusMedications}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal previousMedication" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" tabindex="-1"
    id="previousMedication">
    <div class="modal-dialog modal-dialog-centered" style="max-width:99%">
        <div class="modal-content">
            <div class="modal-header">
                <div class="d-flex align-items-center gap-2">
                    <h5 class="modal-title text-nowrap" translate>{{langData?.prescriptions?.PreviousMedication}}</h5>
                    <label for="" class="form-label m-0 text-nowrap">Prescription Date</label>
                    <select class="form-select pe-5" formControlName="PrescriptionID"
                        (change)="filterPreviousMedications($event)">
                        <option value="0" selected translate>Select Prescription</option>
                        <option *ngFor="let visit of PatientVisitsList" [value]="visit.PrescriptionID">
                            {{visit.PrescriptionCreateDate}} - {{visit.DoctorName}}
                        </option>
                    </select>
                </div>
                <form class="d-flex align-items-center gap-1" [formGroup]="viewPreviousMedicationForm"
                    (keydown.enter)="$event.preventDefault()">
                    <div class="d-flex align-items-center gap-2">
                        <button class="date_range_calendar position-relative p-0" style="width: 14rem !important;">
                            <mat-date-range-input class="btn btn-main-outline" [rangePicker]="picker">
                                <input matStartDate formControlName="fromdate">
                                <input matEndDate formControlName="todate" (dateChange)="PreviousMedicationClick()">
                            </mat-date-range-input>
                            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-date-range-picker #picker></mat-date-range-picker>
                        </button>
                        <div class="filter_Date position-relative">
                            <div class="d-flex align-items-center gap-2 fs-8">
                                Filters
                                <svg class="cursor-pointer" width="18" height="18" viewBox="0 0 24 25" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <rect x="2.75" y="3.27435" width="18.5" height="18.5" rx="3.25" stroke="#368796"
                                        stroke-width="1.5" />
                                    <circle cx="7.85547" cy="8.32605" r="1.375" fill="#368796" stroke="#368796"
                                        stroke-width="1.25" />
                                    <rect x="9.125" y="7.70105" width="7" height="1.25" rx="0.625" fill="#368796" />
                                    <circle cx="16.1445" cy="12.5243" r="1.375" fill="#4357BC" stroke="#4357BC"
                                        stroke-width="1.25" />
                                    <rect x="8.12988" y="11.8993" width="7" height="1.25" rx="0.625" fill="#4357BC" />
                                    <circle cx="7.875" cy="16.7227" r="1.375" fill="#368796" stroke="#368796"
                                        stroke-width="1.25" />
                                    <rect x="9.14453" y="16.0977" width="7" height="1.25" rx="0.625" fill="#368796" />
                                </svg>
                            </div>
                            <div class="filter_dropdow">
                                <p class="m-0 p-2 cursor-pointer border-bottom" (click)="showPreviousMedications('T')">
                                    {{langData?.common?.Today}}</p>
                                <p class="m-0 p-2 cursor-pointer border-bottom" (click)="showPreviousMedications('W')">
                                    {{langData?.common?.Thisweek}}
                                </p>
                                <p class="m-0 p-2 cursor-pointer border-bottom" (click)="showPreviousMedications('M')">
                                    {{langData?.common?.ThisMonth}}
                                </p>
                                <p class="m-0 p-2 cursor-pointer border-bottom" (click)="showPreviousMedications('3M')">
                                    {{langData?.common?.ThreeMonths}}</p>
                                <p class="m-0 p-2 cursor-pointer border-bottom" (click)="showPreviousMedications('6M')">
                                    {{langData?.common?.SixMonths}}
                                </p>

                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <p class="m-0 text-nowrap">Is Home Medication</p>
                            <div class="custom_toggle" (click)="toggleIsHomeMedInPrevMedClick(showHomeMedInPrevMed)">
                                <input type="checkbox" class="toggle"
                                    [checked]="showHomeMedInPrevMed === 'yes' ? 'true' : ''" id="" />
                                <label for="">
                                    <span class="on" *ngIf="showHomeMedInPrevMed === 'yes'">Yes</span>
                                    <span class="off" *ngIf="showHomeMedInPrevMed === 'no'">No</span>
                                </label>
                            </div>
                        </div>
                        <button class="btn btn-main-outline" (click)="discontinueMedFromPrevMedConfirmation()"
                            *ngIf="checkIfDiscontinueMedSelected()">Discontinue</button>
                        <button class="btn btn-main-outline"
                            (click)="PreviousMedicationClick()">{{langData?.common?.Search}}</button>
                        <button class="btn btn-main-outline min-width-unset"
                            (click)="PrescribePreviousMedicationBtnClick()">{{langData?.prescriptions?.Prescribe}}</button>
                        <!-- <button class="btn btn-main-outline mx-2" *ngIf="showPrevMedFiltersData"
                            (click)="PreviousMedicationClick()">Back</button> -->
                        <div class="text-center custom_tooltip custom_tooltip_left cursor-pointer"
                            *ngIf="showPrevMedFiltersData" (click)="PreviousMedicationClick()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 32 33"
                                fill="none">
                                <g filter="url(#filter0_d_6703_2128)">
                                    <rect x="2" y="2.51953" width="28" height="28" rx="14" fill="#DAEEF1" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M8.3287 14.3666L13.8914 9.71422C14.4476 9.25909 14.5993 9.20852 14.5993 9.86593V12.7484H17.6841C24.9661 12.7484 25.0167 18.0076 22.4882 23.4186C22.2859 23.8737 21.9319 23.6209 21.9319 23.3175C22.1342 19.1707 22.1342 16.9963 17.6841 16.9963H14.5993V19.5247C14.5993 20.4856 14.3465 20.435 13.7397 19.9293L8.27813 15.378C7.92415 15.024 7.87358 14.7206 8.3287 14.3666Z"
                                        fill="#368796" />
                                    <rect x="1.5" y="2.01953" width="29" height="29" rx="14.5" stroke="#8ECBD7" />
                                </g>
                            </svg>
                            <p>Back</p>
                        </div>

                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                </form>
            </div>
            <div class="modal-body px-0">
                <!-- <div class="d-flex align-items-center justify-content-end mb-3 border-primary-200 bg-primary-50 p-2">

                </div> -->

                <div class="accordion medicationTable px-3 mb-3 d-none" id="accordionExample">
                    <div class="accordion-item border-0 mb-1" [id]="'parent' + i"
                        *ngFor="let prescriptiondate of filteredpreviousMedicationList; let i = index">
                        <div class="accordion-button align-items-start m-0 bg-light table-cards_div d-flex mx-0 g-2 p-2 position-relative w-100"
                            data-bs-toggle="collapse" [attr.data-bs-target]="'#collapse' + i" aria-expanded="true"
                            [attr.aria-controls]="'collapse' + i" (click)="toggleAccordion(prescriptiondate)">
                            <!-- <input type="checkbox" style="min-width:1rem"
                                (click)="checkAllPrevMedItems($event,prescriptiondate.PrescriptionID)"
                                class="form-check-input me-3"> -->
                            <div class="row mx-0 g-2 w-100 align-items-center">
                                <div class="col-lg-2 col-md-3 col-12">
                                    <p class="label">{{langData?.prescriptions?.PresNo}}</p>
                                    <p class="value">{{prescriptiondate?.PrescriptionNO}} </p>
                                </div>
                                <div class="col-lg col-md-4 col-12">
                                    <p class="label">{{langData?.common?.Doctor}}</p>
                                    <p class="value">{{prescriptiondate?.DoctorName}}</p>
                                </div>
                                <div class="col-lg col-md-4 col-12">
                                    <p class="label">{{langData?.common?.VisitDate}}</p>
                                    <p class="value">{{prescriptiondate?.VisitDate}}</p>
                                </div>
                                <div class="col-lg col-md-3 col-12">
                                    <p class="label">{{langData?.prescriptions?.PresDate}}</p>
                                    <p class="value">{{prescriptiondate?.PrescriptionCreateDate}} </p>
                                </div>
                                <div class="col-lg col-md-4 col-12">
                                    <p class="label">{{langData?.casesheet?.patient_type}}</p>
                                    <p class="value">{{prescriptiondate?.PatientType == "2" ? "InPatient" : "OutPatient"
                                        }}</p>
                                </div>
                            </div>
                        </div>
                        <div [id]="'collapse' + i" class="accordion-collapse collapse p-3 border-primary-200"
                            style="margin-top: -0.4rem;" [attr.aria-labelledby]="'parent' + i"
                            [ngClass]="{'show': prescriptiondate.isExpanded}" *ngIf="prescriptiondate.isExpanded">
                            <div [class]="view.divColor"
                                *ngFor="let view of filterFunction(previousMedicationList, prescriptiondate.PrescriptionID);">
                                <div class="table-cards_div border-0 d-flex m-0 g-2 p-0 position-relative mb-0">
                                    <div class="d-flex align-items-start">
                                        <input type="checkbox" class="form-check-input me-3"
                                            [(ngModel)]="view.isChecked"
                                            [checked]="view.isChecked == true ? 'true' : 'false'"
                                            (change)="onPreviousMedicationSelected($event, i, view)">
                                        <div class="d-flex">
                                            <div class="row card_item_div mx-0 g-3 w-100 align-items-start">
                                                <div class="card_item">
                                                    <p class="label">{{langData?.prescriptions?.DrugCode}}</p>
                                                    <p class="value fs-8">{{view.ItemCode}} </p>
                                                </div>
                                                <div class="card_item threex">
                                                    <p class="label">{{langData?.prescriptions?.drugNameLabel}}</p>
                                                    <p class="value fs-8">{{view.GenericItemName}}</p>
                                                </div>
                                                <div class="card_item twox">
                                                    <p class="label">Strength / Dosage</p>
                                                    <p class="value fs-8">{{view.Quantity}} {{view.QtyUOM}} /
                                                        {{view.Dose}} {{view.DoseUoM}} </p>
                                                </div>
                                                <div class="card_item">
                                                    <p class="label">Frequency</p>
                                                    <p class="value fs-8">{{view.Frequency}}</p>
                                                </div>
                                                <div class="card_item">
                                                    <p class="label">{{langData?.prescriptions?.Route}}</p>
                                                    <p class="value fs-8">{{view.AdmRoute}}</p>
                                                </div>
                                                <div class="card_item">
                                                    <p class="label">{{langData?.prescriptions?.startDate}}</p>
                                                    <p class="value fs-8">{{view.StartFrom}}</p>
                                                </div>
                                                <div class="card_item">
                                                    <p class="label">{{langData?.prescriptions?.endDate}}</p>
                                                    <p class="value fs-8">{{view.EndDatetime}}</p>
                                                </div>
                                                <div class="card_item">
                                                    <p class="label">{{langData?.common?.Duration}}</p>
                                                    <p class="value fs-8">{{view.Duration}} {{view.DurationUOM}}</p>
                                                    <div
                                                        class="d-flex align-items-center gap-2 justify-content-center position-absolute bottom-0 end-0">
                                                        <div class="cursor-pointer custom_tooltip discontinue_svg"
                                                            (click)="selectedHoldItem_prev(view)"
                                                            *ngIf="(selectedCard.PatientType == '2'||selectedCard.PatientType == '4') && (view.StatusID == '1' || view.StatusID == '4')">
                                                            <!-- Yellow hand -->
                                                            <svg *ngIf="view.HoldStatus == '2'" width="16" height="21"
                                                                viewBox="0 0 16 21" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <path
                                                                    d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z"
                                                                    fill="#F7BF08" />
                                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                                    d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z"
                                                                    fill="#F7BF08" />
                                                            </svg>
                                                            <!-- Green hand -->
                                                            <svg *ngIf="view.HoldStatus == '' || view.HoldStatus == '0'"
                                                                width="16" height="21" viewBox="0 0 16 21" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <path
                                                                    d="M15.249 14.3294C15.249 17.2927 13.026 19.8194 10.1869 20.0826C8.60149 20.2302 7.08029 19.7317 5.90998 18.6833C5.02635 17.8939 4.38664 16.9204 3.70627 15.8891C3.55651 15.6602 3.40246 15.4291 3.24842 15.1981C2.52954 14.139 1.77856 13.0008 1.17308 11.7984C1.04685 11.548 0.986944 11.3512 0.986944 11.1929C0.986944 10.9661 1.08536 10.75 1.25652 10.6067C1.57959 10.3371 2.0674 10.3799 2.33698 10.7008L5.1804 14.0919C5.31733 14.2567 5.54412 14.3166 5.74523 14.2438C5.94635 14.1711 6.08114 13.9785 6.08114 13.7646V3.61471C6.08114 3.22959 6.31862 2.89155 6.64597 2.81239C6.89202 2.75248 7.12736 2.80383 7.31564 2.95145C7.50178 3.09694 7.60876 3.31517 7.60876 3.55266V9.41066C7.60876 9.69094 7.83768 9.91987 8.11796 9.91987C8.39824 9.91987 8.62717 9.69094 8.62717 9.41066V1.57574C8.62717 1.19063 8.86465 0.854725 9.19414 0.773424C9.43804 0.715657 9.67553 0.764866 9.86381 0.912492C10.0478 1.06012 10.1548 1.27835 10.1548 1.5137V9.41066C10.1548 9.69094 10.3837 9.91987 10.664 9.91987C10.9443 9.91987 11.1753 9.69094 11.1753 9.41066V2.53425C11.1753 2.29676 11.2802 2.07853 11.4663 1.93304C11.6546 1.78328 11.8921 1.73407 12.136 1.79397C12.4633 1.87314 12.703 2.20904 12.703 2.59415V9.91987C12.703 10.2001 12.9297 10.4291 13.2122 10.4291C13.4946 10.4291 13.7214 10.2001 13.7214 9.91987V5.58948C13.7214 5.38409 13.8005 5.19153 13.9439 5.04818C14.1279 4.86418 14.3932 4.7893 14.6563 4.84279C14.9559 4.90697 15.249 5.30707 15.249 5.64939V14.3294Z"
                                                                    fill="#43BC94" />
                                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                                    d="M5.1804 14.0919C5.31733 14.2567 5.54412 14.3166 5.74523 14.2438C5.94635 14.1711 6.08114 13.9785 6.08114 13.7646V3.61471C6.08114 3.22959 6.31862 2.89155 6.64597 2.81239C6.89202 2.75248 7.12736 2.80383 7.31564 2.95145C7.50178 3.09694 7.60876 3.31517 7.60876 3.55266V9.41066C7.60876 9.69094 7.83768 9.91987 8.11796 9.91987C8.39824 9.91987 8.62717 9.69094 8.62717 9.41066V1.57574C8.62717 1.19063 8.86465 0.854725 9.19414 0.773424C9.43804 0.715657 9.67553 0.764866 9.86381 0.912492C10.0478 1.06012 10.1548 1.27835 10.1548 1.5137V9.41066C10.1548 9.69094 10.3837 9.91987 10.664 9.91987C10.9443 9.91987 11.1753 9.69094 11.1753 9.41066V2.53425C11.1753 2.29676 11.2802 2.07853 11.4663 1.93304C11.6546 1.78328 11.8921 1.73407 12.136 1.79397C12.4633 1.87314 12.703 2.20904 12.703 2.59415V9.91987C12.703 10.2001 12.9297 10.4291 13.2122 10.4291C13.4946 10.4291 13.7214 10.2001 13.7214 9.91987V5.58948C13.7214 5.38409 13.8005 5.19153 13.9439 5.04818C14.1279 4.86418 14.3932 4.7893 14.6563 4.84279C14.9559 4.90697 15.249 5.30707 15.249 5.64939V14.3294C15.249 17.2927 13.026 19.8194 10.1869 20.0826C8.60149 20.2302 7.08029 19.7317 5.90998 18.6833C5.03246 17.8993 4.39549 16.9338 3.72037 15.9105L3.70627 15.8891C3.55655 15.6603 3.40256 15.4293 3.24856 15.1983L3.24842 15.1981C2.52954 14.139 1.77856 13.0008 1.17308 11.7984C1.04685 11.548 0.986944 11.3512 0.986944 11.1929C0.986944 10.9661 1.08536 10.75 1.25652 10.6067C1.57959 10.3371 2.0674 10.3799 2.33698 10.7008L5.1804 14.0919ZM0.886443 11.9427C0.752037 11.6761 0.666016 11.4257 0.666016 11.1929C0.666016 10.8743 0.804063 10.567 1.05046 10.3606L1.05091 10.3602C1.50915 9.97787 2.1989 10.0375 2.58272 10.4944L2.5829 10.4946L5.42721 13.8868C5.47646 13.9461 5.56031 13.9695 5.63608 13.942C5.70974 13.9154 5.76021 13.8438 5.76021 13.7646V3.61471C5.76021 3.11166 6.07167 2.62118 6.57037 2.50049C6.90924 2.41808 7.24595 2.48899 7.51366 2.6989C7.77718 2.90506 7.92968 3.21632 7.92968 3.55266V9.41066C7.92968 9.5137 8.01493 9.59894 8.11796 9.59894C8.22099 9.59894 8.30624 9.5137 8.30624 9.41066V1.57574C8.30624 1.07056 8.61931 0.584711 9.11725 0.461842L9.12017 0.461122C9.4537 0.382129 9.79243 0.44871 10.0618 0.659942L10.0632 0.66105L10.0646 0.662174C10.3228 0.869287 10.4757 1.17876 10.4757 1.5137V9.41066C10.4757 9.5137 10.561 9.59894 10.664 9.59894C10.7688 9.59894 10.8544 9.51195 10.8544 9.41066V2.53425C10.8544 2.20022 11.0029 1.88843 11.2676 1.68103C11.5374 1.46699 11.8773 1.40014 12.212 1.48217C12.7083 1.60251 13.0239 2.08876 13.0239 2.59415V9.91987C13.0239 10.0238 13.1079 10.1081 13.2122 10.1081C13.3165 10.1081 13.4004 10.0238 13.4004 9.91987V5.58948C13.4004 5.30022 13.5125 5.02566 13.7169 4.82125C13.9816 4.55663 14.358 4.45466 14.7203 4.52829L14.7219 4.52863L14.7236 4.52899C14.9772 4.58334 15.186 4.76425 15.3237 4.95188C15.4639 5.14288 15.5699 5.39349 15.5699 5.64939V14.3294C15.5699 17.4481 13.2308 20.1228 10.2165 20.4021C8.54351 20.5579 6.93381 20.0312 5.69615 18.9227C4.78735 18.1107 4.13063 17.1152 3.46323 16.1035L3.43771 16.0648C3.28909 15.8376 3.13609 15.6081 2.98217 15.3773C2.26308 14.3179 1.50194 13.165 0.886443 11.9427Z"
                                                                    fill="#43BC94" />
                                                            </svg>
                                                            <!-- Red hand -->
                                                            <svg *ngIf="view.HoldStatus == '1'" width="16" height="21"
                                                                viewBox="0 0 16 21" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <path
                                                                    d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z"
                                                                    fill="#EB6247" />
                                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                                    d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z"
                                                                    fill="#EB6247" />
                                                            </svg>
                                                            <div class="tooltip">
                                                                <p>{{langData?.prescriptions?.Hold}}</p>
                                                            </div>
                                                        </div>

                                                        <div class="modal fade" id="hold_remarks_prev" tabindex="-1"
                                                            aria-labelledby="holdRemarksLabel_prev" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered"
                                                                style="width: 35%;">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="discontinueRemarksLabel">
                                                                            {{langData?.prescriptions?.Remarksfor}}
                                                                            {{remarksForSelectedHoldItemName_prev}}</h5>
                                                                        <div
                                                                            class="d-flex gap-2 align-items-center justify-content-end">
                                                                            <button class="btn btn-danger-outline"
                                                                                (click)="clearHoldReason(holdRem_prev)">{{langData?.common?.Clear}}</button>
                                                                            <button class="btn btn-main-outline"
                                                                                data-bs-dismiss="modal"
                                                                                (click)="holdPrescriptionItem_prev(remarksForSelectedHoldItemId_prev, holdRem_prev, holdBtnName_prev)">{{langData?.common?.Save}}</button>
                                                                            <button type="button" class="btn-close ms-3"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-body">
                                                                        <!-- <label for="" class="form-label">Remarks</label> -->
                                                                        <select class="form-select pe-5"
                                                                            (change)="selectedHoldReasonEvent_prev($event)">
                                                                            <option value="0"
                                                                                [selected]="selectedHoldReason == '0'"
                                                                                translate>
                                                                                {{langData?.prescriptions?.SelectHoldReason}}
                                                                            </option>
                                                                            <option *ngFor="let hold of holdMasterList"
                                                                                [value]="hold.Id">
                                                                                {{hold.Names}}
                                                                            </option>
                                                                        </select>
                                                                        <textarea name="" placeholder="" #holdRem_prev
                                                                            class="form-control resize-none mb-2"
                                                                            id="holdRem_prev" cols="30"
                                                                            rows="3"></textarea>
                                                                    </div>
                                                                    <div class="validation_err"
                                                                        *ngIf="holdReasonValidation">
                                                                        <p class="m-0 mb-3 text-center fs-7">
                                                                            {{langData?.prescriptions?.Pleaseselectholdreasonandenterremarks}}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="cursor-pointer custom_tooltip discontinue_svg"
                                                            (click)="selectedDiscontinuedPrevMedItem(view)"
                                                            *ngIf="view.PrescriptionID != '' && view.StatusID == 1">
                                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <path
                                                                    d="M12 2C6.48421 2 2 6.48421 2 12C2 17.5158 6.48421 22 12 22C17.5158 22 22 17.5158 22 12C22 6.48421 17.5158 2 12 2ZM18.5474 17.5368L15.6211 14.6105L14.6316 15.6L17.5579 18.5263C16.0632 19.7895 14.1263 20.5684 12 20.5684C7.26316 20.5895 3.41053 16.7368 3.41053 12C3.41053 9.89474 4.18947 7.95789 5.45263 6.46316L8.37895 9.38947L9.36842 8.4L6.46316 5.45263C7.95789 4.18947 9.89474 3.41053 12 3.41053C16.7368 3.41053 20.5895 7.26316 20.5895 12C20.5895 14.1053 19.8105 16.0421 18.5474 17.5368Z"
                                                                    fill="#EB6247" />
                                                                <path
                                                                    d="M11.8316 7.62103L7.62103 11.8316C6.37893 13.0737 6.37893 15.1158 7.62103 16.3579C8.86314 17.6 10.9052 17.6 12.1473 16.3579L16.3579 12.1473C17.6 10.9052 17.6 8.86314 16.3579 7.62103C15.1158 6.37893 13.0947 6.37893 11.8316 7.62103ZM15.621 11.4105L13.5158 13.5158L10.4842 10.4842L12.5895 8.37893C13.4316 7.53682 14.8 7.53682 15.6421 8.37893C16.4631 9.22103 16.4631 10.5895 15.621 11.4105Z"
                                                                    fill="#43A9BC" />
                                                                <path
                                                                    d="M13.1368 8.92629L12.2526 9.8105C12.0421 10.021 12.0421 10.3368 12.2526 10.5473C12.4631 10.7579 12.7789 10.7579 12.9895 10.5473L13.8737 9.66313C14 9.53682 14.2105 9.53682 14.3368 9.66313C14.5474 9.87366 14.8631 9.87366 15.0737 9.66313C15.2842 9.45261 15.2842 9.13682 15.0737 8.92629C14.5474 8.39998 13.6631 8.39998 13.1368 8.92629Z"
                                                                    fill="#368796" />
                                                            </svg>
                                                            <div class="tooltip">
                                                                <p>{{langData?.prescriptions?.Discontinue}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal fade" id="discontinue_prevmedremarks"
                                                            tabindex="-1" aria-labelledby="discontinueRemarksLabel"
                                                            aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered"
                                                                style="width: 35%;">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="discontinueRemarksLabel">
                                                                            {{langData?.prescriptions?.Remarksfor}}
                                                                            {{remarksForSelectedDiscontinuedItemName}}
                                                                        </h5>
                                                                        <div
                                                                            class="d-flex gap-2 align-items-center justify-content-end">
                                                                            <button
                                                                                class="btn btn-danger-outline">{{langData?.common?.Clear}}</button>
                                                                            <button class="btn btn-main-outline"
                                                                                data-bs-dismiss="modal"
                                                                                (click)="discontinuePrescriptionItem(remarksForSelectedDiscontinuedItemId, discontinueRem, 'prevmed')">Save</button>
                                                                            <button type="button" class="btn-close ms-3"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-body">
                                                                        <!-- <label for="" class="form-label">Remarks</label> -->
                                                                        <textarea name="" placeholder="" #discontinueRem
                                                                            class="form-control resize-none mb-2"
                                                                            id="discontinueRem" cols="30"
                                                                            rows="3"></textarea>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="text-center cursor-pointer custom_tooltip"
                                                            (click)="toggleShowMore(view)">
                                                            <svg width="23" height="6" viewBox="0 0 23 6" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <circle cx="2.5" cy="2.70496" r="2.5" fill="#368796" />
                                                                <circle cx="11.5" cy="2.70496" r="2.5" fill="#368796" />
                                                                <circle cx="20.5" cy="2.70496" r="2.5" fill="#368796" />
                                                            </svg>
                                                            <div class="tooltip">
                                                                <p id="viewMore_toggle">{{langData?.common?.ViewMore}}
                                                                </p>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div *ngIf="view.expanded"
                                                    class="row card_item_div mx-0 gx-3 gy-1 w-100 align-items-start p-0">
                                                    <div class="card_item fourx">
                                                        <p class="label">Doctor Name</p>
                                                        <!-- <p class="label">{{langData?.prescriptions?.DoctorName}}</p> -->
                                                        <p class="value fs-8">{{view.DoctorName}}</p>
                                                    </div>
                                                    <div class="card_item twox">
                                                        <p class="label">{{langData?.prescriptions?.DiscontinueRemarks}}
                                                        </p>
                                                        <p class="value fs-8">{{view.DiscontinuingRemarks}}</p>
                                                    </div>
                                                    <div class="card_item">
                                                        <p class="label">{{langData?.common?.Status}}</p>
                                                        <p class="value fs-8">{{view.StatusName}}</p>
                                                    </div>
                                                    <div class="card_item">
                                                        <p class="label">Prescription Type</p>
                                                        <p class="value fs-8 fw-bold clr-danger-200">
                                                            {{view.isDischargeMedication == 'True' ?
                                                            'Home Medication' : 'Medication' }}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- New UI For Previous Medication -->
                <div class="row gx-2 mx-0 px-2 mb-2" *ngIf="!showPrevMedFiltersData">
                    <div class="col-lg-3 col-4 pre_medication_left">
                        <div class="border rounded">
                            <div class="bg-primary-50 p-1 rounded-top d-flex align-items-center"
                                style="height: 2.5rem;">
                                <h6 class="clr-primary-600 m-0">Previous Medication Details</h6>
                            </div>
                            <div class="d-flex flex-column gap-2 prescriptiondate_height p-2">
                                <div class="border p-1 pb-1 rounded-2 cursor-pointer prescriptiondate"
                                    [class.active]="prescriptiondate.selected"
                                    *ngFor="let prescriptiondate of filteredpreviousMedicationList; let i = index"
                                    (click)="showPrevMedDetails(prescriptiondate)">
                                    <div class="row mx-0 g-1 w-100">
                                        <div class="col-md-4">
                                            <p class="form-label m-0 fw-bold fs-8 clr-grey">
                                                {{langData?.prescriptions?.PresNo}}</p>
                                            <p class="clr-primary-600">{{prescriptiondate?.PrescriptionNO}} </p>
                                        </div>
                                        <!-- <div class="col-md-3">
                                            <p class="form-label m-0 fw-bold fs-8 clr-grey">{{langData?.common?.VisitDate}}</p>
                                            <p class="">{{prescriptiondate?.VisitDate}}</p>
                                        </div> -->
                                        <div class="col-4">
                                            <p class="form-label m-0 fw-bold fs-8 clr-grey">
                                                {{langData?.prescriptions?.PresDate}}</p>
                                            <p class="clr-primary-600">{{prescriptiondate?.PrescriptionCreateDate}} </p>
                                        </div>
                                        <div class="col-4">
                                            <p class="form-label m-0 fw-bold fs-8 clr-grey">Type</p>
                                            <p class="clr-primary-600 fw-bold clr-danger-200">
                                                {{prescriptiondate?.PatientTypeName}}
                                                {{prescriptiondate?.isDischargeMedication !== 'False' ? ' -
                                                Home-Medication' : '' }}
                                            </p>
                                        </div>
                                        <!-- <div class="col">
                                            <div class="custom_check text-end">
                                                <svg width="18" height="18" viewBox="0 0 20 21" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                    <path
                                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                                </svg>
                                            </div>
                                        </div> -->
                                        <div class="col-12 d-flex align-items-center gap-2">
                                            <p class="form-label m-0 fw-bold fs-8 clr-grey m-0 text-nowrap">
                                                {{langData?.common?.Doctor}}:</p>
                                            <p class="clr-primary-600">{{prescriptiondate?.DoctorName}}</p>
                                        </div>
                                        <div class="col-12 d-flex align-items-center gap-2">
                                            <p class="form-label m-0 fw-bold fs-8 clr-grey m-0">prescribed By:</p>
                                            <p class="clr-primary-600">{{prescriptiondate?.CreatedDoctorName}}</p>
                                        </div>

                                        <div class="col-12 d-flex align-items-center gap-2">
                                            <p class="form-label m-0 fw-bold fs-8 clr-grey m-0">Location:</p>
                                            <p class="clr-primary-600">{{prescriptiondate?.HospitalName}}</p>
                                        </div>
                                        <!-- <div class="row g-2 w-100 bottom_prescriptiondate pb-2 mx-0">
                                            <div class="col-md-3">
                                                <p class="form-label m-0 fw-bold fs-8">{{langData?.casesheet?.patient_type}}</p>
                                                <p class="">{{prescriptiondate?.PatientType == "2" ? "IP" : "OP"
                                                    }}</p>
                                            </div>
                                            <div class="col-md-4">
                                                <p class="form-label m-0 fw-bold fs-8">{{langData?.common?.Doctor}}</p>
                                                <p class="">{{prescriptiondate?.DoctorName}}</p>
                                            </div>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9 col-8 pre_medication_right">
                        <div class="border rounded">
                            <div class="bg-primary-50 p-2 py-1 rounded-top" style="height: 2.5rem;">
                                <div class="row mx-0 g-2 w-100">
                                    <div class="col">
                                        <p class="form-label clr-grey fw-bold fs-8 m-0">Pres No</p>
                                        <p class="text-nowrap clr-primary-600">
                                            {{this.previousMedicationListDetails[0]?.PrescriptionNO}}</p>
                                    </div>
                                    <div class="col">
                                        <p class="form-label clr-grey fw-bold fs-8 m-0">Visit Date</p>
                                        <p class="text-nowrap clr-primary-600">
                                            {{this.previousMedicationListDetails[0]?.VisitDate}}</p>
                                    </div>
                                    <div class="col">
                                        <p class="form-label clr-grey fw-bold fs-8 m-0">Pres Date</p>
                                        <p class="text-nowrap clr-primary-600">
                                            {{this.previousMedicationListDetails[0]?.PrescriptionCreateDate}}
                                        </p>
                                    </div>
                                    <div class="col">
                                        <p class="form-label clr-grey fw-bold fs-8 m-0">Patient Type</p>
                                        <p class="text-nowrap clr-primary-600">
                                            {{this.previousMedicationListDetails[0]?.PatientType == "2" ?
                                            "InPatient" : "OutPatient"}}</p>
                                    </div>
                                    <div class="col-4">
                                        <p class="form-label clr-grey fw-bold fs-8 m-0">Doctor</p>
                                        <p class="clr-primary-600">{{this.previousMedicationListDetails[0]?.DoctorName}}
                                        </p>
                                    </div>
                                    <div class="col d-flex align-items-center justify-content-end">
                                        <div class="custom_check text-center d-flex gap-1 align-items-center"
                                            [class.active]="previousMedicationListDetails?.selectall"
                                            (click)="selectallPresc(previousMedicationListDetails)">
                                            <svg width="16" height="16" viewBox="0 0 20 21" fill="none"
                                                xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                <path
                                                    d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                    fill="white" stroke="white" stroke-width="0.25"></path>
                                            </svg>
                                            <p class="text-nowrap">Select All</p>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="previousMedication_table">
                                <div class="bg-primary-100 p-2 px-3">
                                    <div class="row gx-1">
                                        <div class="" style="width: 6%;">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">
                                                {{langData?.prescriptions?.DrugCode}}</p>
                                        </div>
                                        <div class="col-3">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">
                                                {{langData?.prescriptions?.drugNameLabel}}</p>
                                        </div>
                                        <div class="" style="width: 11%;">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">Strength / Dosage</p>
                                        </div>
                                        <div class="col-4 text-end">
                                            <p class="fs-8 m-0 form-label fw-bold">Active Medication :
                                                {{getActiveMedication()}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="prescriptiondate_right_height">
                                <div class="m-1 p-1 rounded-2" [class]="view.divColor"
                                    *ngFor="let view of previousMedicationListDetails;let i = index">
                                    <div class="row gx-2 align-items-start">
                                        <div class="" style="width: 6%;">
                                            <p class="">{{view.ItemCode}} </p>
                                        </div>
                                        <div class="col-3">
                                            <p class="">{{view.GenericItemName}}</p>
                                        </div>
                                        <div class="" style="width: 11%;">
                                            <p class="">{{view.Strength}} {{view.StrengthUoM}} /
                                                {{view.Dose}} {{view.DoseUoM}} </p>
                                        </div>
                                        <div class="col-4">
                                            <div class="row gx-1">
                                                <div class="col-3 border-end">
                                                    <p class="">{{view.Frequency}}</p>
                                                </div>
                                                <div class="col-2 border-end">
                                                    <p class="">{{view.Duration}} {{view.DurationUOM}}</p>
                                                </div>
                                                <div class="col-4 border-end">
                                                    <p class="">{{view.AdmRoute}}</p>
                                                </div>
                                                <div class="col-3">
                                                    <p class="fw-bold clr-danger-200">{{view.StatusName}}</p>
                                                </div>
                                            </div>
                                            <div class="my-1">
                                                <div class="d-flex align-items-center gap-2">
                                                    <p class="">{{view.StartFrom}}</p>
                                                    <svg width="12" height="6" viewBox="0 0 12 6" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M0 4.36008H9.30057L5.58038 0.639893" stroke="#357D83"
                                                            stroke-width="1.5" />
                                                    </svg>
                                                    <p class="">{{view.EndDatetime}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <!-- Actions -->
                                            <div class="d-flex align-items-center justify-content-end gap-1">
                                                <div class="d-flex align-items-center justify-content-end gap-1">
                                                    <div class="cursor-pointer custom_tooltip discontinue_svg"
                                                        (click)="selectedHoldItem_prev(view)"
                                                        *ngIf="(selectedCard.PatientType == '2'||selectedCard.PatientType == '4') && (view.StatusID == '1' || view.StatusID == '4')">
                                                        <!-- Yellow hand -->
                                                        <svg *ngIf="view.HoldStatus == '2'" width="16" height="21"
                                                            viewBox="0 0 16 21" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z"
                                                                fill="#F7BF08" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z"
                                                                fill="#F7BF08" />
                                                        </svg>
                                                        <!-- Green hand -->
                                                        <svg *ngIf="view.HoldStatus == '' || view.HoldStatus == '0'"
                                                            width="16" height="21" viewBox="0 0 16 21" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M15.249 14.3294C15.249 17.2927 13.026 19.8194 10.1869 20.0826C8.60149 20.2302 7.08029 19.7317 5.90998 18.6833C5.02635 17.8939 4.38664 16.9204 3.70627 15.8891C3.55651 15.6602 3.40246 15.4291 3.24842 15.1981C2.52954 14.139 1.77856 13.0008 1.17308 11.7984C1.04685 11.548 0.986944 11.3512 0.986944 11.1929C0.986944 10.9661 1.08536 10.75 1.25652 10.6067C1.57959 10.3371 2.0674 10.3799 2.33698 10.7008L5.1804 14.0919C5.31733 14.2567 5.54412 14.3166 5.74523 14.2438C5.94635 14.1711 6.08114 13.9785 6.08114 13.7646V3.61471C6.08114 3.22959 6.31862 2.89155 6.64597 2.81239C6.89202 2.75248 7.12736 2.80383 7.31564 2.95145C7.50178 3.09694 7.60876 3.31517 7.60876 3.55266V9.41066C7.60876 9.69094 7.83768 9.91987 8.11796 9.91987C8.39824 9.91987 8.62717 9.69094 8.62717 9.41066V1.57574C8.62717 1.19063 8.86465 0.854725 9.19414 0.773424C9.43804 0.715657 9.67553 0.764866 9.86381 0.912492C10.0478 1.06012 10.1548 1.27835 10.1548 1.5137V9.41066C10.1548 9.69094 10.3837 9.91987 10.664 9.91987C10.9443 9.91987 11.1753 9.69094 11.1753 9.41066V2.53425C11.1753 2.29676 11.2802 2.07853 11.4663 1.93304C11.6546 1.78328 11.8921 1.73407 12.136 1.79397C12.4633 1.87314 12.703 2.20904 12.703 2.59415V9.91987C12.703 10.2001 12.9297 10.4291 13.2122 10.4291C13.4946 10.4291 13.7214 10.2001 13.7214 9.91987V5.58948C13.7214 5.38409 13.8005 5.19153 13.9439 5.04818C14.1279 4.86418 14.3932 4.7893 14.6563 4.84279C14.9559 4.90697 15.249 5.30707 15.249 5.64939V14.3294Z"
                                                                fill="#43BC94" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M5.1804 14.0919C5.31733 14.2567 5.54412 14.3166 5.74523 14.2438C5.94635 14.1711 6.08114 13.9785 6.08114 13.7646V3.61471C6.08114 3.22959 6.31862 2.89155 6.64597 2.81239C6.89202 2.75248 7.12736 2.80383 7.31564 2.95145C7.50178 3.09694 7.60876 3.31517 7.60876 3.55266V9.41066C7.60876 9.69094 7.83768 9.91987 8.11796 9.91987C8.39824 9.91987 8.62717 9.69094 8.62717 9.41066V1.57574C8.62717 1.19063 8.86465 0.854725 9.19414 0.773424C9.43804 0.715657 9.67553 0.764866 9.86381 0.912492C10.0478 1.06012 10.1548 1.27835 10.1548 1.5137V9.41066C10.1548 9.69094 10.3837 9.91987 10.664 9.91987C10.9443 9.91987 11.1753 9.69094 11.1753 9.41066V2.53425C11.1753 2.29676 11.2802 2.07853 11.4663 1.93304C11.6546 1.78328 11.8921 1.73407 12.136 1.79397C12.4633 1.87314 12.703 2.20904 12.703 2.59415V9.91987C12.703 10.2001 12.9297 10.4291 13.2122 10.4291C13.4946 10.4291 13.7214 10.2001 13.7214 9.91987V5.58948C13.7214 5.38409 13.8005 5.19153 13.9439 5.04818C14.1279 4.86418 14.3932 4.7893 14.6563 4.84279C14.9559 4.90697 15.249 5.30707 15.249 5.64939V14.3294C15.249 17.2927 13.026 19.8194 10.1869 20.0826C8.60149 20.2302 7.08029 19.7317 5.90998 18.6833C5.03246 17.8993 4.39549 16.9338 3.72037 15.9105L3.70627 15.8891C3.55655 15.6603 3.40256 15.4293 3.24856 15.1983L3.24842 15.1981C2.52954 14.139 1.77856 13.0008 1.17308 11.7984C1.04685 11.548 0.986944 11.3512 0.986944 11.1929C0.986944 10.9661 1.08536 10.75 1.25652 10.6067C1.57959 10.3371 2.0674 10.3799 2.33698 10.7008L5.1804 14.0919ZM0.886443 11.9427C0.752037 11.6761 0.666016 11.4257 0.666016 11.1929C0.666016 10.8743 0.804063 10.567 1.05046 10.3606L1.05091 10.3602C1.50915 9.97787 2.1989 10.0375 2.58272 10.4944L2.5829 10.4946L5.42721 13.8868C5.47646 13.9461 5.56031 13.9695 5.63608 13.942C5.70974 13.9154 5.76021 13.8438 5.76021 13.7646V3.61471C5.76021 3.11166 6.07167 2.62118 6.57037 2.50049C6.90924 2.41808 7.24595 2.48899 7.51366 2.6989C7.77718 2.90506 7.92968 3.21632 7.92968 3.55266V9.41066C7.92968 9.5137 8.01493 9.59894 8.11796 9.59894C8.22099 9.59894 8.30624 9.5137 8.30624 9.41066V1.57574C8.30624 1.07056 8.61931 0.584711 9.11725 0.461842L9.12017 0.461122C9.4537 0.382129 9.79243 0.44871 10.0618 0.659942L10.0632 0.66105L10.0646 0.662174C10.3228 0.869287 10.4757 1.17876 10.4757 1.5137V9.41066C10.4757 9.5137 10.561 9.59894 10.664 9.59894C10.7688 9.59894 10.8544 9.51195 10.8544 9.41066V2.53425C10.8544 2.20022 11.0029 1.88843 11.2676 1.68103C11.5374 1.46699 11.8773 1.40014 12.212 1.48217C12.7083 1.60251 13.0239 2.08876 13.0239 2.59415V9.91987C13.0239 10.0238 13.1079 10.1081 13.2122 10.1081C13.3165 10.1081 13.4004 10.0238 13.4004 9.91987V5.58948C13.4004 5.30022 13.5125 5.02566 13.7169 4.82125C13.9816 4.55663 14.358 4.45466 14.7203 4.52829L14.7219 4.52863L14.7236 4.52899C14.9772 4.58334 15.186 4.76425 15.3237 4.95188C15.4639 5.14288 15.5699 5.39349 15.5699 5.64939V14.3294C15.5699 17.4481 13.2308 20.1228 10.2165 20.4021C8.54351 20.5579 6.93381 20.0312 5.69615 18.9227C4.78735 18.1107 4.13063 17.1152 3.46323 16.1035L3.43771 16.0648C3.28909 15.8376 3.13609 15.6081 2.98217 15.3773C2.26308 14.3179 1.50194 13.165 0.886443 11.9427Z"
                                                                fill="#43BC94" />
                                                        </svg>
                                                        <!-- Red hand -->
                                                        <svg *ngIf="view.HoldStatus == '1'" width="16" height="21"
                                                            viewBox="0 0 16 21" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M15.1308 14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.90819 17.8939 4.26848 16.9204 3.58811 15.8891C3.43834 15.6602 3.2843 15.4291 3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294Z"
                                                                fill="#EB6247" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M5.06224 14.0919C5.19917 14.2567 5.42596 14.3166 5.62707 14.2438C5.82818 14.1711 5.96297 13.9785 5.96297 13.7646V3.61471C5.96297 3.22959 6.20046 2.89155 6.52781 2.81239C6.77385 2.75248 7.0092 2.80383 7.19748 2.95145C7.38361 3.09694 7.49059 3.31517 7.49059 3.55266V9.41066C7.49059 9.69094 7.71952 9.91987 7.9998 9.91987C8.28007 9.91987 8.509 9.69094 8.509 9.41066V1.57574C8.509 1.19063 8.74649 0.854725 9.07597 0.773424C9.31988 0.715657 9.55737 0.764866 9.74564 0.912492C9.92964 1.06012 10.0366 1.27835 10.0366 1.5137V9.41066C10.0366 9.69094 10.2655 9.91987 10.5458 9.91987C10.8261 9.91987 11.0572 9.69094 11.0572 9.41066V2.53425C11.0572 2.29676 11.162 2.07853 11.3481 1.93304C11.5364 1.78328 11.7739 1.73407 12.0178 1.79397C12.3452 1.87314 12.5848 2.20904 12.5848 2.59415V9.91987C12.5848 10.2001 12.8116 10.4291 13.094 10.4291C13.3764 10.4291 13.6032 10.2001 13.6032 9.91987V5.58948C13.6032 5.38409 13.6824 5.19153 13.8257 5.04818C14.0097 4.86418 14.275 4.7893 14.5382 4.84279C14.8377 4.90697 15.1308 5.30707 15.1308 5.64939V14.3294C15.1308 17.2927 12.9079 19.8194 10.0687 20.0826C8.48333 20.2302 6.96213 19.7317 5.79181 18.6833C4.9143 17.8993 4.27733 16.9338 3.60221 15.9105L3.58811 15.8891C3.43839 15.6603 3.28439 15.4293 3.13039 15.1983L3.13025 15.1981C2.41137 14.139 1.6604 13.0008 1.05492 11.7984C0.928685 11.548 0.868779 11.3512 0.868779 11.1929C0.868779 10.9661 0.967196 10.75 1.13836 10.6067C1.46143 10.3371 1.94924 10.3799 2.21882 10.7008L5.06224 14.0919ZM0.768279 11.9427C0.633873 11.6761 0.547852 11.4257 0.547852 11.1929C0.547852 10.8743 0.685899 10.567 0.9323 10.3606L0.932744 10.3602C1.39099 9.97787 2.08074 10.0375 2.46455 10.4944L2.46474 10.4946L5.30905 13.8868C5.3583 13.9461 5.44214 13.9695 5.51791 13.942C5.59158 13.9154 5.64205 13.8438 5.64205 13.7646V3.61471C5.64205 3.11166 5.95351 2.62118 6.45221 2.50049C6.79107 2.41808 7.12778 2.48899 7.3955 2.6989C7.65902 2.90506 7.81152 3.21632 7.81152 3.55266V9.41066C7.81152 9.5137 7.89676 9.59894 7.9998 9.59894C8.10283 9.59894 8.18807 9.5137 8.18807 9.41066V1.57574C8.18807 1.07056 8.50114 0.584711 8.99909 0.461842L9.00201 0.461122C9.33553 0.382129 9.67427 0.44871 9.94367 0.659942L9.94508 0.66105L9.94648 0.662174C10.2046 0.869287 10.3575 1.17876 10.3575 1.5137V9.41066C10.3575 9.5137 10.4428 9.59894 10.5458 9.59894C10.6506 9.59894 10.7362 9.51195 10.7362 9.41066V2.53425C10.7362 2.20022 10.8848 1.88843 11.1494 1.68103C11.4192 1.46699 11.7591 1.40014 12.0938 1.48217C12.5902 1.60251 12.9057 2.08876 12.9057 2.59415V9.91987C12.9057 10.0238 12.9897 10.1081 13.094 10.1081C13.1983 10.1081 13.2823 10.0238 13.2823 9.91987V5.58948C13.2823 5.30022 13.3944 5.02566 13.5988 4.82125C13.8634 4.55663 14.2398 4.45466 14.6021 4.52829L14.6038 4.52863L14.6054 4.52899C14.8591 4.58334 15.0678 4.76425 15.2055 4.95188C15.3457 5.14288 15.4517 5.39349 15.4517 5.64939V14.3294C15.4517 17.4481 13.1126 20.1228 10.0983 20.4021C8.42534 20.5579 6.81565 20.0312 5.57799 18.9227C4.66918 18.1107 4.01247 17.1152 3.34507 16.1035L3.31954 16.0648C3.17092 15.8376 3.01792 15.6081 2.864 15.3773C2.14491 14.3179 1.38378 13.165 0.768279 11.9427Z"
                                                                fill="#EB6247" />
                                                        </svg>
                                                        <div class="tooltip">
                                                            <p>{{langData?.prescriptions?.Hold}}</p>
                                                        </div>
                                                    </div>

                                                    <div class="cursor-pointer custom_tooltip discontinue_svg"
                                                        (click)="selectedDiscontinuedPrevMedItem(view)"
                                                        *ngIf="view.PrescriptionID != '' && view.StatusID == 1">
                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M12 2C6.48421 2 2 6.48421 2 12C2 17.5158 6.48421 22 12 22C17.5158 22 22 17.5158 22 12C22 6.48421 17.5158 2 12 2ZM18.5474 17.5368L15.6211 14.6105L14.6316 15.6L17.5579 18.5263C16.0632 19.7895 14.1263 20.5684 12 20.5684C7.26316 20.5895 3.41053 16.7368 3.41053 12C3.41053 9.89474 4.18947 7.95789 5.45263 6.46316L8.37895 9.38947L9.36842 8.4L6.46316 5.45263C7.95789 4.18947 9.89474 3.41053 12 3.41053C16.7368 3.41053 20.5895 7.26316 20.5895 12C20.5895 14.1053 19.8105 16.0421 18.5474 17.5368Z"
                                                                fill="#EB6247" />
                                                            <path
                                                                d="M11.8316 7.62103L7.62103 11.8316C6.37893 13.0737 6.37893 15.1158 7.62103 16.3579C8.86314 17.6 10.9052 17.6 12.1473 16.3579L16.3579 12.1473C17.6 10.9052 17.6 8.86314 16.3579 7.62103C15.1158 6.37893 13.0947 6.37893 11.8316 7.62103ZM15.621 11.4105L13.5158 13.5158L10.4842 10.4842L12.5895 8.37893C13.4316 7.53682 14.8 7.53682 15.6421 8.37893C16.4631 9.22103 16.4631 10.5895 15.621 11.4105Z"
                                                                fill="#43A9BC" />
                                                            <path
                                                                d="M13.1368 8.92629L12.2526 9.8105C12.0421 10.021 12.0421 10.3368 12.2526 10.5473C12.4631 10.7579 12.7789 10.7579 12.9895 10.5473L13.8737 9.66313C14 9.53682 14.2105 9.53682 14.3368 9.66313C14.5474 9.87366 14.8631 9.87366 15.0737 9.66313C15.2842 9.45261 15.2842 9.13682 15.0737 8.92629C14.5474 8.39998 13.6631 8.39998 13.1368 8.92629Z"
                                                                fill="#368796" />
                                                        </svg>
                                                        <div class="tooltip">
                                                            <p>{{langData?.prescriptions?.Discontinue}}</p>
                                                        </div>
                                                    </div>
                                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left discontinue_svg"
                                                        (click)="showMedicineHistory(view)">
                                                        <svg width="20" height="20" viewBox="0 0 22 20" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M11.6775 0.478333C8.04972 0.478333 4.89313 2.54786 3.37403 5.57158L3.04441 4.98169V4.9815C2.94679 4.80119 2.80096 4.65129 2.62337 4.54884C2.44578 4.4462 2.24301 4.39468 2.03809 4.4003C1.64572 4.40901 1.28707 4.62418 1.09475 4.96619C0.902441 5.30821 0.904767 5.72633 1.10095 6.06605L2.62803 8.79036V8.79056C2.76747 9.04213 2.99929 9.2296 3.27449 9.31386C3.5495 9.39811 3.84658 9.37216 4.10301 9.24163L6.81859 7.85342C7.0936 7.72753 7.30528 7.49474 7.40482 7.20909C7.50436 6.92343 7.48306 6.60968 7.34594 6.34012C7.20863 6.07053 6.96751 5.86854 6.67816 5.78082C6.38863 5.69309 6.07588 5.72717 5.81226 5.87532L5.7255 5.91871C6.97271 3.9886 9.16351 2.69974 11.6775 2.69974C15.5917 2.69974 18.7311 5.80249 18.7311 9.6408C18.7311 13.4479 15.6411 16.5318 11.7726 16.5819C11.4781 16.5865 11.1974 16.7079 10.9924 16.9194C10.7873 17.1309 10.6748 17.4152 10.6792 17.7098C10.6839 18.0043 10.8053 18.285 11.017 18.49C11.2285 18.6951 11.5128 18.8076 11.8073 18.803C16.8505 18.7375 20.9521 14.655 20.9521 9.6408C20.9521 4.58573 16.7759 0.47861 11.6774 0.47861L11.6775 0.478333ZM11.773 4.07028C11.4784 4.07493 11.1978 4.19636 10.9929 4.40784C10.7878 4.61952 10.6753 4.90383 10.6798 5.19818V9.64055C10.6796 9.97792 10.8329 10.2973 11.0963 10.5082L13.8728 12.7294C14.1826 12.9773 14.6013 13.0412 14.9712 12.8967C15.3409 12.7522 15.6055 12.4214 15.6653 12.0291C15.725 11.6365 15.5708 11.242 15.261 10.9941L12.9009 9.10277V5.19823C12.9055 4.89766 12.7884 4.60814 12.5757 4.3955C12.3633 4.18304 12.0735 4.06568 11.773 4.07033L11.773 4.07028Z"
                                                                fill="#368796" stroke="white" stroke-width="0.5" />
                                                        </svg>
                                                        <div class="tooltip">
                                                            <p>History</p>
                                                        </div>
                                                    </div>
                                                    <div class="custom_check" [class.active]="view.isChecked"
                                                        (click)="prevMedSelected(!view.isChecked, i, view)">
                                                        <svg width="18" height="18" viewBox="0 0 20 21" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                            <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                            <path
                                                                d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                                fill="white" stroke="white" stroke-width="0.25"></path>
                                                        </svg>

                                                    </div>
                                                </div>
                                                <div class="custom_tooltip px-2 cursor-pointer custom_tooltip_left"
                                                    (click)="showViewMorePrevMed(view)">
                                                    <svg width="4" height="14" viewBox="0 0 4 14" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <circle cx="1.99994" cy="1.96503" r="1.51752" fill="#368796" />
                                                        <circle cx="1.99994" cy="6.99994" r="1.51752" fill="#368796" />
                                                        <circle cx="1.99994" cy="12.0351" r="1.51752" fill="#368796" />
                                                    </svg>
                                                    <div class="tooltip" style="right: -0.5rem;">
                                                        <p>View More</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row gx-2 align-items-start" [class.d-none]="!view.viewMorePrevMed">
                                        <div class="col-4">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">Remarks:</p>
                                            <p class="">{{view.Remarks}}</p>
                                        </div>
                                        <div class="col-4">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">
                                                {{langData?.prescriptions?.DiscontinueRemarks}}:</p>
                                            <p class="">{{view.DiscontinuingRemarks}}</p>
                                        </div>
                                        <div class="col-2">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">Prescription Type</p>
                                            <p class="fw-bold clr-danger-200">{{view.isDischargeMedication == 'True' ?
                                                'Home Medication' :
                                                'Medication' }}</p>
                                        </div>
                                    </div>
                                    <div class="row p-2 gx-2 border-bottom" [class.d-none]="!view.viewMorePrevMed"
                                        *ngFor="let issued of filterIssuedItems(view);let i = index">
                                        <div class="col-2">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">
                                                Prescribed Item Code</p>
                                            <p class="">{{issued.PrescriptionItemCode}} </p>
                                        </div>
                                        <div class="col-4">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">
                                                Prescribed Item Name</p>
                                            <p class="color-highlight my-2">{{issued.PrescriptionItemName}}</p>
                                        </div>
                                        <div class="col-2">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">Issued Item Code</p>
                                            <p class="">{{issued.ItemCode}} </p>
                                        </div>
                                        <div class="col-3">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">Issued Item Name</p>
                                            <p class="">{{issued.ItemName}}</p>
                                        </div>
                                        <div class="col-2">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">Issued Qty</p>
                                            <p class="">{{issued.IssueQty}} {{issued.IssueUom}}</p>
                                        </div>
                                    </div>
                                    <div class="mt-2 med_history" *ngIf="selectedHistoryItem?.ItemID === view.ItemID">
                                        <table class="table m-0">
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Strength/Dosage</th>
                                                    <th>Prescription Date / Presc No.</th>
                                                    <th>Start Date</th>
                                                    <th>End Date</th>
                                                    <th>Doctor</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of medicineHistory; let i = index">
                                                    <td>{{item.ItemName}}</td>
                                                    <td>{{item.Strength}} {{item.StrengthUOM}} {{item.Dose}}
                                                        {{item.DoseUoM}}</td>
                                                    <td>{{item.PrescriptionDate}}</td>
                                                    <td>{{item.StartFrom}}</td>
                                                    <td>{{item.EndDateTime}}</td>
                                                    <td>{{item.Doctorname}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div *ngIf="showPrevMedFiltersData">
                    <div class="p-2 pt-0">
                        <div class="">
                            <p class="fs-8 m-0 form-label fw-bold">Active Medication : {{getActiveHomeMedication()}}</p>
                        </div>
                        <div class="border rounded h-100">
                            <div class="previousMedication_table">
                                <div class="bg-primary-100 p-2">
                                    <div class="row gx-1">
                                        <div class="" style="width: 8%;">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">Presc No.</p>
                                        </div>
                                        <!-- <div class="" style="width: 6%;">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">
                                                Code</p>
                                        </div> -->
                                        <div class="col-3">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">
                                                Name</p>
                                        </div>
                                        <div class="" style="width: 11%;">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">Strength / Dosage</p>
                                        </div>
                                        <div class="col-4">

                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">Doctor Name</p>
                                        </div>

                                        <div class="" style="width: 5%;">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">Presc Date</p>
                                        </div>
                                        <div class="" style="width: 8%;">
                                            <div class="custom_check" [class.active]="selectAllPrevMedFilter"
                                                (click)="onNewPreviousMedicationSelectedAll()">
                                                <svg width="18" height="18" viewBox="0 0 20 21" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                    <path
                                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="prescriptiondate_right_height">
                                <div class="p-1 rounded-2 border-bottom" [class]="view.divColor"
                                    *ngFor="let view of previousMedicationListDetailsFilterData;let i = index">
                                    <div class="row gx-2 align-items-start">
                                        <div class="" style="width: 8%;">
                                            <p class="">{{view.PrescriptionNO}}</p>
                                        </div>
                                        <!-- <div class="" style="width: 6%;">
                                            <p class=""> </p>
                                        </div> -->
                                        <div class="col-3">
                                            <p class="">{{view.ItemCode}}-{{view.GenericItemName}}</p>
                                        </div>
                                        <div class="" style="width: 11%;">
                                            <p class="">{{view.Strength}} {{view.StrengthUoM}} /
                                                {{view.Dose}} {{view.DoseUoM}} </p>
                                        </div>
                                        <div class="col-4">
                                            <div class="row gx-1">
                                                <div class="col-3 border-end">
                                                    <p class="">{{view.Frequency}}</p>
                                                </div>
                                                <div class="col-2 border-end">
                                                    <p class="">{{view.Duration}} {{view.DurationUOM}}</p>
                                                </div>
                                                <div class="col-4 border-end">
                                                    <p class="">{{view.AdmRoute}}</p>
                                                </div>
                                                <div class="col-3">
                                                    <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">
                                                        {{view.StatusName}}</p>
                                                </div>
                                            </div>
                                            <div class="my-1">
                                                <div class="d-flex align-items-center justify-content-between">
                                                    <div class="d-flex align-items-center gap-2">
                                                        <p class="">{{view.StartFrom}}</p>
                                                        <svg width="12" height="6" viewBox="0 0 12 6" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M0 4.36008H9.30057L5.58038 0.639893"
                                                                stroke="#357D83" stroke-width="1.5" />
                                                        </svg>
                                                        <p class="">{{view.EndDatetime}}</p>
                                                    </div>
                                                    <p class="fw-bold clr-danger-200 col-3 ps-1">
                                                        {{view.isDischargeMedication == 'True' ? 'Home Medication' :
                                                        'Medication' }}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="" style="width: 9%;">
                                            <p class="">{{view.DoctorCode}}-{{view.DoctorName}}</p>
                                        </div>

                                        <div class="" style="width: 5%;">
                                            <p class="">{{view.PrescriptionCreateDate}}</p>
                                        </div>
                                        <div class="" style="width: 8%;">
                                            <!-- Actions -->
                                            <div class="d-flex align-items-center justify-content-end gap-2">
                                                <div class="d-flex align-items-center justify-content-end gap-1">
                                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left discontinue_svg"
                                                        (click)="selectedDiscontinuedPrevMedItem(view)">
                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M12 2C6.48421 2 2 6.48421 2 12C2 17.5158 6.48421 22 12 22C17.5158 22 22 17.5158 22 12C22 6.48421 17.5158 2 12 2ZM18.5474 17.5368L15.6211 14.6105L14.6316 15.6L17.5579 18.5263C16.0632 19.7895 14.1263 20.5684 12 20.5684C7.26316 20.5895 3.41053 16.7368 3.41053 12C3.41053 9.89474 4.18947 7.95789 5.45263 6.46316L8.37895 9.38947L9.36842 8.4L6.46316 5.45263C7.95789 4.18947 9.89474 3.41053 12 3.41053C16.7368 3.41053 20.5895 7.26316 20.5895 12C20.5895 14.1053 19.8105 16.0421 18.5474 17.5368Z"
                                                                fill="#EB6247" />
                                                            <path
                                                                d="M11.8316 7.62103L7.62103 11.8316C6.37893 13.0737 6.37893 15.1158 7.62103 16.3579C8.86314 17.6 10.9052 17.6 12.1473 16.3579L16.3579 12.1473C17.6 10.9052 17.6 8.86314 16.3579 7.62103C15.1158 6.37893 13.0947 6.37893 11.8316 7.62103ZM15.621 11.4105L13.5158 13.5158L10.4842 10.4842L12.5895 8.37893C13.4316 7.53682 14.8 7.53682 15.6421 8.37893C16.4631 9.22103 16.4631 10.5895 15.621 11.4105Z"
                                                                fill="#43A9BC" />
                                                            <path
                                                                d="M13.1368 8.92629L12.2526 9.8105C12.0421 10.021 12.0421 10.3368 12.2526 10.5473C12.4631 10.7579 12.7789 10.7579 12.9895 10.5473L13.8737 9.66313C14 9.53682 14.2105 9.53682 14.3368 9.66313C14.5474 9.87366 14.8631 9.87366 15.0737 9.66313C15.2842 9.45261 15.2842 9.13682 15.0737 8.92629C14.5474 8.39998 13.6631 8.39998 13.1368 8.92629Z"
                                                                fill="#368796" />
                                                        </svg>
                                                        <div class="tooltip">
                                                            <p>{{langData?.prescriptions?.Discontinue}}</p>
                                                        </div>
                                                    </div>
                                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                                        (click)="showMedicineHistory(view)">
                                                        <svg width="20" height="20" viewBox="0 0 22 20" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M11.6775 0.478333C8.04972 0.478333 4.89313 2.54786 3.37403 5.57158L3.04441 4.98169V4.9815C2.94679 4.80119 2.80096 4.65129 2.62337 4.54884C2.44578 4.4462 2.24301 4.39468 2.03809 4.4003C1.64572 4.40901 1.28707 4.62418 1.09475 4.96619C0.902441 5.30821 0.904767 5.72633 1.10095 6.06605L2.62803 8.79036V8.79056C2.76747 9.04213 2.99929 9.2296 3.27449 9.31386C3.5495 9.39811 3.84658 9.37216 4.10301 9.24163L6.81859 7.85342C7.0936 7.72753 7.30528 7.49474 7.40482 7.20909C7.50436 6.92343 7.48306 6.60968 7.34594 6.34012C7.20863 6.07053 6.96751 5.86854 6.67816 5.78082C6.38863 5.69309 6.07588 5.72717 5.81226 5.87532L5.7255 5.91871C6.97271 3.9886 9.16351 2.69974 11.6775 2.69974C15.5917 2.69974 18.7311 5.80249 18.7311 9.6408C18.7311 13.4479 15.6411 16.5318 11.7726 16.5819C11.4781 16.5865 11.1974 16.7079 10.9924 16.9194C10.7873 17.1309 10.6748 17.4152 10.6792 17.7098C10.6839 18.0043 10.8053 18.285 11.017 18.49C11.2285 18.6951 11.5128 18.8076 11.8073 18.803C16.8505 18.7375 20.9521 14.655 20.9521 9.6408C20.9521 4.58573 16.7759 0.47861 11.6774 0.47861L11.6775 0.478333ZM11.773 4.07028C11.4784 4.07493 11.1978 4.19636 10.9929 4.40784C10.7878 4.61952 10.6753 4.90383 10.6798 5.19818V9.64055C10.6796 9.97792 10.8329 10.2973 11.0963 10.5082L13.8728 12.7294C14.1826 12.9773 14.6013 13.0412 14.9712 12.8967C15.3409 12.7522 15.6055 12.4214 15.6653 12.0291C15.725 11.6365 15.5708 11.242 15.261 10.9941L12.9009 9.10277V5.19823C12.9055 4.89766 12.7884 4.60814 12.5757 4.3955C12.3633 4.18304 12.0735 4.06568 11.773 4.07033L11.773 4.07028Z"
                                                                fill="#368796" stroke="white" stroke-width="0.5" />
                                                        </svg>
                                                        <div class="tooltip">
                                                            <p>Drug History</p>
                                                        </div>
                                                    </div>
                                                    <div class="custom_check" [class.active]="view.isChecked"
                                                        (click)="onNewPreviousMedicationSelected(!view.isChecked, i, view)">
                                                        <svg width="18" height="18" viewBox="0 0 20 21" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                            <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                            <path
                                                                d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                                fill="white" stroke="white" stroke-width="0.25"></path>
                                                        </svg>
                                                    </div>
                                                </div>
                                                <div class="custom_tooltip custom_tooltip_left cursor-pointer"
                                                    (click)="showViewMorePrevMed(view)">
                                                    <svg width="4" height="14" viewBox="0 0 4 14" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <circle cx="1.99994" cy="1.96503" r="1.51752" fill="#368796" />
                                                        <circle cx="1.99994" cy="6.99994" r="1.51752" fill="#368796" />
                                                        <circle cx="1.99994" cy="12.0351" r="1.51752" fill="#368796" />
                                                    </svg>
                                                    <div class="tooltip" style="right:-1rem">
                                                        <p class="cursor-pointer">View More</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row gx-2 align-items-start" [class.d-none]="!view.viewMorePrevMed">
                                        <div class="col-4">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">
                                                {{langData?.prescriptions?.DiscontinueRemarks}}:</p>
                                            <p class="">{{view.DiscontinuingRemarks}}</p>
                                        </div>
                                        <div class="col-2">
                                            <p class="fs-8 m-0 clr-primary-600 form-label fw-bold">Prescription Type</p>
                                            <p class="fw-bold clr-danger-200">{{view.isDischargeMedication == 'True' ?
                                                'Home Medication' :
                                                'Medication' }}</p>
                                        </div>
                                    </div>
                                    <div class="row p-2 gx-2 border-bottom" [class.d-none]="!view.viewMorePrevMed"
                                        *ngFor="let issued of filterIssuedItems(view);let i = index">
                                        <div class="col-2">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">
                                                Prescribed Item Code</p>
                                            <p class="">{{issued.PrescriptionItemCode}} </p>
                                        </div>
                                        <div class="col-4">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">
                                                Prescribed Item Name</p>
                                            <p class="color-highlight my-2">{{issued.PrescriptionItemName}}</p>
                                        </div>
                                        <div class="col-2">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">Issued Item Code</p>
                                            <p class="">{{issued.ItemCode}} </p>
                                        </div>
                                        <div class="col-3">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">Issued Item Name</p>
                                            <p class="">{{issued.ItemName}}</p>
                                        </div>
                                        <div class="col-2">
                                            <p class="fs-8 clr-dark-600 form-label fw-bold">Issued Qty</p>
                                            <p class="">{{issued.IssueQty}} {{issued.IssueUom}}</p>
                                        </div>
                                    </div>
                                    <div class="mt-2 med_history" *ngIf="selectedHistoryItem?.ItemID === view.ItemID">
                                        <table class="table m-0">
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Strength/Dosage</th>
                                                    <th>Prescription Date / Presc No.</th>
                                                    <th>Start Date</th>
                                                    <th>End Date</th>
                                                    <th>Doctor</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of medicineHistory; let i = index">
                                                    <td>{{item.ItemName}}</td>
                                                    <td>{{item.Strength}} {{item.StrengthUOM}} {{item.Dose}}
                                                        {{item.DoseUoM}}</td>
                                                    <td>{{item.PrescriptionDate}}</td>
                                                    <td>{{item.StartFrom}}</td>
                                                    <td>{{item.EndDateTime}}</td>
                                                    <td>{{item.Doctorname}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="legend border-top d-flex flex-wrap mx-0 align-items-center gap-2 p-3 pb-0 bg-color-1 rounded-2">
                    <div class="d-flex align-items-center">
                        <span class="inactive"></span>
                        <label for="" class="form-label text-nowrap mb-0 ms-1">{{langData?.common?.InActive}}</label>
                    </div>
                    <div class="d-flex align-items-center">
                        <span class="activelegend"></span>
                        <label for="" class="form-label text-nowrap mb-0 ms-1">{{langData?.common?.Active}}</label>
                    </div>
                    <div class="d-flex align-items-center">
                        <span class="medicationhold"></span>
                        <label for=""
                            class="form-label text-nowrap mb-0 ms-1">{{langData?.prescriptions?.MedicationHold}}</label>
                    </div>
                    <div class="d-flex align-items-center">
                        <span class="completed"></span>
                        <label for=""
                            class="form-label text-nowrap mb-0 ms-1">{{langData?.prescriptions?.Completed}}</label>
                    </div>
                    <div class="d-flex align-items-center">
                        <span class="discontinued"></span>
                        <label for="" class="form-label text-nowrap mb-0 ms-1">Discontinue</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="errorMsg" data-bs-abackdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{errorMessages}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="discontinue_multiple_prevmedremarks" tabindex="-1" aria-labelledby="discontinueRemarksLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width: 35%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="discontinueRemarksLabel">
                    Discontinue Medication Remarks</h5>
                <div class="d-flex gap-2 align-items-center justify-content-end">
                    <button class="btn btn-danger-outline">{{langData?.common?.Clear}}</button>
                    <button class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="discontinueMultipleMedFromPrevMed()">Save</button>
                    <button type="button" class="btn-close ms-3" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body">
                <!-- <label for="" class="form-label">Remarks</label> -->
                <textarea name="" placeholder="" #discontinue_multiple_Rem class="form-control resize-none mb-2"
                    id="discontinue_multiple_Rem" cols="30" rows="3"></textarea>
            </div>
        </div>
    </div>
</div>
<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="itemAlreadySelected" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>Drug/Generic Already Prescribed. {{duplicateItemsList}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="noSelectedMedToPrescribe" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{langData?.prescriptions?.Selectalteastonemedicationtoprescribe}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" data-bs-abackdrop="static" data-bs-keyboard="false" id="cannotPrescribeStatMedMsg"
    tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>Cannot prescribe STAT medication</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="activeMedicationYesNo" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>Selected Drug {{selectedPrevMedItem?.GenericItemName}} Already Prescribed for
                    {{selectedPrevMedItem?.Duration}} {{selectedPrevMedItem?.DurationUOM}}.
                    Do you wish to continue prescribing it?</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="continuePrescribingPrevMed('yes')">{{langData?.common?.yes}}</a>
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="continuePrescribingPrevMed('no')">{{langData?.common?.no}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="discontinue_prevmedremarks" tabindex="-1" aria-labelledby="discontinueRemarksLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width: 35%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="discontinueRemarksLabel">
                    {{langData?.prescriptions?.Remarksfor}}
                    {{remarksForSelectedDiscontinuedItemName}}</h5>
                <div class="d-flex gap-2 align-items-center justify-content-end">
                    <button class="btn btn-danger-outline">{{langData?.common?.Clear}}</button>
                    <button class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="discontinuePrescriptionItem(remarksForSelectedDiscontinuedItemId, discontinueRem, 'prevmed')">Save</button>
                    <button type="button" class="btn-close ms-3" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body">
                <!-- <label for="" class="form-label">Remarks</label> -->
                <textarea name="" placeholder="" #discontinueRem class="form-control resize-none mb-2"
                    id="discontinueRem" cols="30" rows="3"></textarea>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" data-bs-abackdrop="static" data-bs-keyboard="false" id="discontinuePrevMedSaveMsg"
    tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{langData?.prescriptions?.DiscontinueSuccessfully}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="PreviousMedicationClick(true)">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="hold_remarks_prev" tabindex="-1" aria-labelledby="holdRemarksLabel_prev" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width: 35%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="discontinueRemarksLabel">
                    {{langData?.prescriptions?.Remarksfor}}
                    {{remarksForSelectedHoldItemName_prev}}</h5>
                <div class="d-flex gap-2 align-items-center justify-content-end">
                    <button class="btn btn-danger-outline"
                        (click)="clearHoldReason(holdRem_prev)">{{langData?.common?.Clear}}</button>
                    <button class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="holdPrescriptionItem_prev(remarksForSelectedHoldItemId_prev, holdRem_prev, holdBtnName_prev)">{{langData?.common?.Save}}</button>
                    <button type="button" class="btn-close ms-3" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body">
                <!-- <label for="" class="form-label">Remarks</label> -->
                <select class="form-select pe-5" (change)="selectedHoldReasonEvent_prev($event)">
                    <option value="0" [selected]="selectedHoldReason == '0'" translate>
                        {{langData?.prescriptions?.SelectHoldReason}}
                    </option>
                    <option *ngFor="let hold of holdMasterList" [value]="hold.Id"
                        [selected]="hold.Id == selectedHoldReason">
                        {{hold.Names}}
                    </option>
                </select>
                <textarea name="" placeholder="" #holdRem_prev class="form-control resize-none mb-2" id="holdRem_prev"
                    cols="30" rows="3"></textarea>
            </div>
            <div class="validation_err" *ngIf="holdReasonValidation">
                <p class="m-0 mb-3 text-center fs-7">
                    {{langData?.prescriptions?.Pleaseselectholdreasonandenterremarks}}
                </p>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="medicationValidationModal" data-bs-abackdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>The Following medications Restricted to</p>
                <ul *ngIf="mismatchedMedications.length > 0">
                    <li *ngFor="let medication of mismatchedMedications; let i = index"> {{medication.DrugName ||
                        medication.GenericItemName}} - {{medication.specializations}} </li>
                </ul>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>