<app-header [InputHome]="IsHome" [IsSwitchWard]="false"></app-header>

<div class="container-fluid">
    <div class="container__wrapper">
        <div class="page-header sticky-top">
            <h2 class="page-heading">Mother's Milk Extraction</h2>
            <div class="actions ms-auto d-flex align-items-center gap-2">
                <button class="btn btn-main-fill" (click)="navigatetoBedBoard()" *ngIf="fromBedsBoard">Beds Board</button>
                <button class="btn btn-main-outline" (click)="SaveMilkBottleBarCodeGeneration()">Generate
                    Barcode</button>
                <button class="btn btn-danger-outline" (click)="clearMotherMilkExtractionScreen()">Clear</button>
                <button class="btn btn-main-outline" (click)="saveMilkExtraction()">Save</button>
                <button class="btn btn-main-outline" (click)="openQuickActions()" *ngIf="fromBedsBoard">Quick Actions</button>
            </div>
        </div>
        <div class="container-body">

            <div class="m-3 card card-style-1 p-2 rounded-2">
                <div class="row align-items-center">
                    <div class="col-lg-5 col-md-6">
                        <div class="d-flex align-items-end gap-2">
                            <div class="w-100">
                                <label for="" class="form-label clr-primary-600">National ID:</label>
                                <input autofocus type="text" class="form-control" [(ngModel)]="nationalID"
                                (keypress)="($event.charCode >= 48 && $event.charCode < 58)" (keydown.enter)="onNationalIDEnterPress($event)">
                            </div>
                            <div *ngIf="!fromBedsBoard && patientVisits?.length > 0" class="d-flex align-items-center">
                                <select style="width: 350px;" class="form-select pe-4" [(ngModel)]="admissionID"
                                    [ngModelOptions]="{ standalone: true }"
                                    (change)="onSectionVisitChange($event)">
                                    <option dir="ltr" value="0" selected translate>{{langData?.common?.SelectVisit}}</option>
                                    <option dir="ltr" *ngFor="let visit of patientVisits" [value]="visit.AdmissionID">
                                        {{visit.VisitDate}} - {{visit.DoctorName}} - {{visit.SpecialisationName}}- {{visit.PatientTypeName}} -
                                        {{visit.HospitalName}}
                                    </option>
                                </select>
                            </div>
                            <div class="ms-3 text-center">
                                <svg class="me-2" width="30" height="31" viewBox="0 0 24 25" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M20.4312 14.7041C20.4312 14.2992 20.7596 13.9707 21.1647 13.9707C21.5696 13.9707 21.8982 14.2989 21.8982 14.7041V17.632C21.8982 18.1191 21.6998 18.5608 21.3801 18.8806C21.0603 19.2005 20.6186 19.3987 20.1315 19.3987H17.2033C16.7984 19.3987 16.4698 19.0703 16.4698 18.6652C16.4698 18.2603 16.7982 17.9318 17.2033 17.9318L20.1312 17.9319C20.2132 17.9319 20.2883 17.8979 20.3427 17.8436C20.3973 17.789 20.431 17.7142 20.431 17.6321L20.4309 14.7042L20.4312 14.7041ZM5.45691 16.4165H5.87794L5.8781 12.7846H7.34472V16.4168H9.41429V12.7846H10.8809V16.4168H12.9505V12.7846H14.4171V16.4168H16.4866V12.7846H17.9533V16.4168H18.3928C18.6453 16.4168 18.8512 16.2109 18.8512 15.9584V12.7846H22.2665C22.6715 12.7846 23 12.4564 23 12.0512C23 11.6463 22.6716 11.3177 22.2665 11.3177H1.73345C1.32853 11.3177 1 11.6461 1 12.0512C1 12.4561 1.32838 12.7846 1.73345 12.7846H4.99797V15.9584C4.99845 16.2107 5.20421 16.4165 5.45687 16.4165H5.45691ZM5.87811 9.85122V7.6858H5.45708C5.20459 7.6858 4.99867 7.89172 4.99867 8.1442V9.85139L5.87811 9.85155V9.85122ZM9.41429 9.85122V7.6858H7.34473V9.85122H9.41429ZM12.9506 9.85122V7.6858H10.881V9.85122H12.9506ZM16.4868 9.85122V7.6858H14.4172V9.85122H16.4868ZM18.8514 9.85122V8.14404C18.8514 7.89155 18.6454 7.68563 18.3929 7.68563H17.9534V9.85106H18.8514L18.8514 9.85122ZM6.79789 17.9324C7.20281 17.9324 7.53134 18.2608 7.53134 18.6658C7.53134 19.0708 7.20296 19.3993 6.79789 19.3993L3.87001 19.3991C3.3829 19.3991 2.94124 19.2008 2.62139 18.8811C2.30155 18.5612 2.10334 18.1196 2.10334 17.6325V14.7043C2.10334 14.2993 2.43172 13.9708 2.8368 13.9708C3.24172 13.9708 3.57025 14.299 3.57025 14.7043V17.6321C3.57025 17.7141 3.60425 17.7892 3.65855 17.8437C3.71317 17.8983 3.78793 17.932 3.87027 17.932H6.79786L6.79789 17.9324ZM3.66067 9.39831C3.66067 9.80323 3.33229 10.1318 2.92721 10.1318C2.52229 10.1318 2.19376 9.80354 2.19376 9.39831L2.19392 6.47043C2.19392 5.98332 2.39227 5.54166 2.71197 5.22181C3.03181 4.90197 3.47347 4.70376 3.96059 4.70376H6.88847C7.29339 4.70376 7.62192 5.03214 7.62192 5.43722C7.62192 5.84214 7.29354 6.17067 6.88847 6.17067L3.96071 6.17051C3.8787 6.17051 3.80361 6.20451 3.74899 6.25881C3.69437 6.31343 3.66069 6.38819 3.66069 6.47053L3.66067 9.39831ZM17.2936 6.17022C16.8886 6.17022 16.5601 5.84183 16.5601 5.43676C16.5601 5.03184 16.8885 4.70331 17.2936 4.70331H20.2214C20.7086 4.70331 21.1502 4.90166 21.4701 5.22136C21.7899 5.5412 21.9881 5.98286 21.9881 6.46998V9.39785C21.9881 9.80277 21.6597 10.1313 21.2547 10.1313C20.8497 10.1313 20.5212 9.80309 20.5212 9.39785L20.5214 6.47043C20.5214 6.38841 20.4874 6.31333 20.4331 6.25887C20.3784 6.20424 20.3037 6.17057 20.2215 6.17057H17.2936L17.2936 6.17022Z"
                                        fill="#368796" />
                                </svg>
                                <p class="m-0 clr-primary-600 text-nowrap">Scan Patient</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <!-- <div class="d-flex align-items-center gap-2 ms-3 mt-3">
                            <input type="checkbox" class="form-check-input m-0">
                            <label for="" class="form-label m-0 text-nowrap clr-primary-600">All Details
                                Verified</label>
                        </div> -->
                        <div class="d-flex align-items-center gap-1">
                            <div class="custom_check">
                                <svg width="18" height="18" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                    <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                    <path
                                        d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                        fill="white" stroke="white" stroke-width="0.25"></path>
                                </svg>
                            </div>
                            <label for="" class="form-label m-0 text-nowrap">All Details Verified</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mx-3">
                <app-wardheader-summary *ngIf="isNational"></app-wardheader-summary>
            </div>

            <div class="bg-white p-2 rounded-2" *ngIf="isNational">
                <div class="doctor_worklist booked mt-2 worklist_patientcard rounded-2">
                    <div class="row mx-0">
                        <div class="col-md-12 p-0">
                            <div
                                class="py-2 bg-white p-1 d-flex align-items-center justify-content-between rounded-bottom">
                                <div class="row mx-0 vital_block align-items-center">
                                    <label for="" class="w-max-content fw-bold pe-0 form-label clr-primary-600 m-0">Baby
                                        Details: </label>
                                    <div class="w-max-content border-end px-3"
                                        *ngFor="let child of FetchAdmittedChildDetailsListD">
                                        <div class="d-flex align-items-center gap-2">
                                            <svg width="38" height="38" viewBox="0 0 38 38" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <circle cx="19" cy="19" r="19" fill="#DAEEF1" />
                                                <path
                                                    d="M18.2402 14.46C18.0602 14.24 17.8202 14.1 17.5402 14.08C17.2602 14.06 16.9802 14.12 16.7602 14.32C16.5202 14.54 16.4202 14.8 16.4002 14.98C16.4002 15.08 16.5202 15.12 16.5602 15.04C16.7402 14.76 17.2002 14.24 17.8602 14.82C18.0802 15.02 18.4202 14.72 18.2402 14.46Z"
                                                    fill="#368796" />
                                                <path
                                                    d="M20.4602 14.08C20.7402 14.06 21.0202 14.14 21.2402 14.32C21.5002 14.52 21.6002 14.8 21.6002 14.98C21.6202 15.08 21.5002 15.12 21.4402 15.04C21.2402 14.76 20.8002 14.24 20.1402 14.82C19.9002 15.02 19.5802 14.7 19.7602 14.46C19.9202 14.24 20.1802 14.1 20.4602 14.08Z"
                                                    fill="#368796" />
                                                <path
                                                    d="M17.9917 16.5857C18.181 16.6743 18.5354 16.84 19.0002 16.84C19.4149 16.84 19.7701 16.6838 19.975 16.5937C20.1062 16.536 20.1758 16.5054 20.1602 16.56C20.0002 17.04 19.5202 17.38 19.0002 17.38C18.4802 17.38 18.0002 17.06 17.8402 16.56C17.8253 16.5079 17.8796 16.5333 17.9917 16.5857Z"
                                                    fill="#368796" />
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M13.2002 15.32C13.2002 12.12 15.8002 9.5 19.0002 9.5C22.2002 9.5 24.8002 12.12 24.8002 15.34V17.8C24.1002 19.26 21.9202 21.3 19.0002 22.46C18.2402 22.14 17.6002 21.82 17.0602 21.5C14.9202 20.24 13.6402 18.72 13.2002 17.8V15.32ZM20.8002 18.08C21.5002 17.78 22.0802 17.22 22.4402 16.52C22.9802 16.52 23.4202 16.08 23.4002 15.52C23.4002 15.14 23.1802 14.8 22.8602 14.64C22.7802 14.6 22.7402 14.52 22.7202 14.44C22.4602 12.84 21.2602 11.5 19.8402 11.16C19.8114 11.1504 19.7687 11.2274 19.6979 11.355C19.4744 11.7582 18.9708 12.6665 17.7402 12.94C17.7261 12.9435 17.7481 12.924 17.7943 12.883C18.0099 12.692 18.7508 12.0351 18.8002 11.08H18.7402C17.0802 11.16 15.5602 12.64 15.2602 14.46V14.48C15.2402 14.58 15.2002 14.64 15.1202 14.68C14.8002 14.84 14.6002 15.16 14.6002 15.54C14.6002 16.08 15.0202 16.52 15.5602 16.52C15.9002 17.22 16.4802 17.78 17.1802 18.08C18.3202 18.58 19.6402 18.58 20.8002 18.08Z"
                                                    fill="#368796" />
                                                <path
                                                    d="M19.7402 22.72C21.1402 23.2 22.8402 23.52 24.8002 23.44V18.84C23.8602 20.12 22.1002 21.66 19.7402 22.72Z"
                                                    fill="#368796" />
                                                <path
                                                    d="M13.2002 24.84V18.84C14.7802 21.04 18.8002 24 24.2202 24C24.3228 24 24.4202 23.9947 24.515 23.9896C24.6049 23.9847 24.6926 23.98 24.7802 23.98V24.84C24.7802 26.86 23.1602 28.5 21.1402 28.5H16.8402C14.8402 28.5 13.2002 26.86 13.2002 24.84Z"
                                                    fill="#368796" />
                                            </svg>
                                            <div>
                                                <p class="m-0 fs-7 text-nowrap">SSN : {{child.ChildSSN}}</p>
                                                <p class="m-0 fs-8 text-nowrap">{{child.ChildName}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="border p-2 pt-1 rounded-2 mt-3">
                    <div class="row gx-2">
                        <div class="col-12">
                            <div class="d-flex align-items-center gap-2">
                                <label for="" class="form-label m-0 text-nowrap">Scan Bottle</label>
                                <input type="text" class="form-control w-auto">
                                <div class="custom_check">
                                    <svg width="18" height="18" viewBox="0 0 20 21" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                        <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                        <path
                                            d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                            fill="white" stroke="white" stroke-width="0.25"></path>
                                    </svg>
                                </div>
                                <label for="" class="form-label m-0 text-nowrap">Select Bottle</label>
                                <select class="form-select pe-5 w-50" id="BottleID" (change)="onBottleSelected($event)">
                                    <option dir="ltr" value="0" translate>{{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let allo of FetchActiveMilkBottlesInfoListD"
                                        [value]="allo.MotherMilkExtractionID">
                                        {{allo.MotherMilkExtractionID}}
                                    </option>
                                </select>
                                <label for="" class="form-label m-0 text-nowrap">Manual Entry Remarks</label>
                                <textarea name="" formControlName="ManualEntryRemarks" class="form-control resize-none" id="manualEntryRemarks"></textarea>
                                <div class="d-flex align-items-center gap-1">
                                    <div class="custom_check">
                                        <svg width="18" height="18" viewBox="0 0 20 21" fill="none"
                                            xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                            <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                            <path
                                                d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                fill="white" stroke="white" stroke-width="0.25"></path>
                                        </svg>
                                    </div>
                                    <label for="" class="form-label m-0 text-nowrap">All Details Verified</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-3 card card-style-1">
                    <div class="card-header justify-content-start">
                        <h4 class="card-heading">Extracted Milk Information</h4>
                    </div>
                    <form [formGroup]="extractedMilkInfoForm">
                        <div class="row g-2 mx-3">
                            <div class="col-1">
                                <label for="" class="form-label m-0 text-nowrap">Quantity(ml)</label>
                                <input type="text" maxlength="3" (keypress)="($event.charCode >= 48 && $event.charCode < 58)" formControlName="Quantity" class="form-control">
                            </div>
                            <div class="col-2">
                                <label for="" class="form-label m-0 text-nowrap">Extracted Date</label>
                                <mat-form-field appearance="fill">
                                    <mat-label translate>dd-MMM-yyyy</mat-label>
                                    <input matInput class="" formControlName="ExtractedDate"
                                        (click)="ExtractedDate.open()" [matDatepicker]="ExtractedDate" [min]="minDate">
                                    <mat-datepicker-toggle matSuffix [for]="ExtractedDate">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #ExtractedDate></mat-datepicker>
                                </mat-form-field>
                               
                            </div>
                            <div class="col-1">
                                <input type="time" class="form-control my-4" formControlName="ExtractedTime">
                            </div>
                            <div class="col-2">
                                <label for="" class="form-label m-0 text-nowrap">Storage Type</label>
                                <!-- <textarea name="" formControlName="StorageType" class="form-control resize-none" id=""></textarea> -->
                                <select class="form-select pe-5" id="StorageType" formControlName="StorageType"
                                    (change)="onStorageTypeChange($event, 'storage')">
                                    <option dir="ltr" value="0" selected>{{langData?.common?.Select}} </option>
                                    <option dir="ltr" value="1">Deep Freezer</option>
                                    <option dir="ltr" value="2">Freezer</option>
                                    <option dir="ltr" value="3">Refregirator</option>
                                    <option dir="ltr" value="4">Direct</option>
                                </select>
                            </div>
                            <div class="col-2">
                                <label for="" class="form-label m-0 text-nowrap">Expiry Date</label>
                                <input type="text" formControlName="ExpiryDate" class="form-control"
                                    [attr.disabled]="true">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="mt-3 card card-style-1">
                    <div class="card-header justify-content-start">
                        <h4 class="card-heading">Active Milk Bottle Information</h4>
                    </div>
                    <div class="p-2 bottle_info_table seperate_table">
                        <table class="table m-0">
                            <thead>
                                <tr>
                                    <th>Sl.No</th>
                                    <th>Bottle Number</th>
                                    <th>Quantity(ml)</th>
                                    <th>Extracted Date Time</th>
                                    <th>Expiry Date Time</th>
                                    <th>Storage Type</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let bot of FetchActiveMilkBottlesInfoListD; let i = index">
                                    <td>{{i + 1}}</td>
                                    <td>{{bot.MotherMilkExtractionID}}</td>
                                    <td>{{bot.Quantity}} </td>
                                    <td>
                                        <div class="d-flex align-items-center gap-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" *ngIf="bot.ExtractedDateTime != null"
                                                width="15" height="15" viewBox="0 0 16 17" fill="none">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M14.0289 2.30655H13.3047V2.13813C13.3047 1.36339 12.6816 0.740234 11.9068 0.740234C11.1321 0.740234 10.5089 1.36339 10.5089 2.13813V2.30655H9.41419V2.13813C9.41419 1.36339 8.79103 0.740234 8.0163 0.740234C7.24156 0.740234 6.6184 1.36339 6.6184 2.13813V2.30655H5.52366V2.13813C5.52366 1.36339 4.90051 0.740234 4.12577 0.740234C3.35103 0.740234 2.72788 1.36339 2.72788 2.13813V2.30655H2.00366C1.06051 2.30655 0.302612 3.06445 0.302612 4.0076V15.0392C0.302612 15.9823 1.06051 16.7402 2.00366 16.7402H13.9952C14.9384 16.7402 15.6963 15.9823 15.6963 15.0392V4.02445C15.73 3.08129 14.9721 2.30655 14.0289 2.30655ZM11.4016 2.15497C11.4016 1.86866 11.6373 1.64971 11.9068 1.64971C12.1931 1.64971 12.4121 1.8855 12.4121 2.15497V3.3676C12.4121 3.65392 12.1763 3.87287 11.9068 3.87287C11.6205 3.87287 11.4016 3.63708 11.4016 3.3676V2.15497ZM7.52788 2.15497C7.52788 1.86866 7.76366 1.64971 8.03314 1.64971C8.31945 1.64971 8.5384 1.8855 8.5384 2.15497V3.3676C8.5384 3.65392 8.30261 3.87287 8.03314 3.87287C7.74682 3.87287 7.52788 3.63708 7.52788 3.3676V2.15497ZM3.63735 2.15497C3.63735 1.86866 3.87314 1.64971 4.14261 1.64971C4.42893 1.64971 4.64788 1.8855 4.64788 2.15497V3.3676C4.64788 3.65392 4.41209 3.87287 4.14261 3.87287C3.8563 3.87287 3.63735 3.63708 3.63735 3.3676V2.15497ZM14.8542 15.056C14.8542 15.5108 14.4837 15.8813 14.0289 15.8813H2.03735C1.58261 15.8813 1.21209 15.5108 1.21209 15.056V6.12971H14.8373V15.056H14.8542ZM11.149 14.0623C11.2669 14.1802 11.4016 14.2308 11.5532 14.2308C11.7048 14.2308 11.8395 14.1802 11.9574 14.0623L13.5069 12.5129C13.7258 12.2939 13.7258 11.9234 13.5069 11.7044C13.2879 11.4855 12.9174 11.4855 12.6985 11.7044L11.5532 12.8497L11.1321 12.4287C10.9132 12.2097 10.5427 12.2097 10.3237 12.4287C10.1048 12.6476 10.1048 13.0181 10.3237 13.2371L11.149 14.0623ZM5.10259 10.4581H3.36785C3.13206 10.4581 2.92996 10.256 2.92996 10.0202V8.26866C2.92996 8.03287 3.13206 7.83076 3.36785 7.83076H5.10259C5.33838 7.83076 5.54048 8.03287 5.54048 8.26866V10.0202C5.54048 10.256 5.33838 10.4581 5.10259 10.4581ZM7.1743 10.4581H8.90904C9.14483 10.4581 9.34693 10.256 9.34693 10.0202V8.26866C9.34693 8.03287 9.14483 7.83076 8.90904 7.83076H7.1743C6.93851 7.83076 6.73641 8.03287 6.73641 8.26866V10.0202C6.71956 10.256 6.92167 10.4581 7.1743 10.4581ZM12.6984 10.4581H10.9637C10.7279 10.4581 10.5258 10.256 10.5258 10.0202V8.26866C10.5258 8.03287 10.7279 7.83076 10.9637 7.83076H12.6984C12.9342 7.83076 13.1363 8.03287 13.1363 8.26866V10.0202C13.1363 10.256 12.9342 10.4581 12.6984 10.4581ZM3.36785 14.1971H5.10259C5.33838 14.1971 5.54048 13.995 5.54048 13.7592V12.0076C5.54048 11.7718 5.33838 11.5697 5.10259 11.5697H3.36785C3.13206 11.5697 2.92996 11.7718 2.92996 12.0076V13.7592C2.92996 13.995 3.13206 14.1971 3.36785 14.1971ZM8.90904 14.1971H7.1743C6.92167 14.1971 6.71956 13.995 6.73641 13.7592V12.0076C6.73641 11.7718 6.93851 11.5697 7.1743 11.5697H8.90904C9.14483 11.5697 9.34693 11.7718 9.34693 12.0076V13.7592C9.34693 13.995 9.14483 14.1971 8.90904 14.1971Z"
                                                    fill="#368796"></path>
                                            </svg>
                                            {{bot.ExtractedDateTime?.split(' ')[0]}}
                                        
                                            <svg xmlns="http://www.w3.org/2000/svg" *ngIf="bot.ExtractedDateTime != null"
                                                width="15" height="15" viewBox="0 0 16 17" fill="none">
                                                <path
                                                    d="M10.6374 10.7638H7.64835C7.15604 10.7638 6.76923 10.377 6.76923 9.88467V5.31324C6.76923 4.82093 7.15604 4.43412 7.64835 4.43412C8.14066 4.43412 8.52747 4.82093 8.52747 5.31324V9.00555H10.6374C11.1297 9.00555 11.5165 9.39236 11.5165 9.88467C11.5165 10.377 11.1297 10.7638 10.6374 10.7638Z"
                                                    fill="#368796"></path>
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M16 8.98132C16 13.3945 12.4132 16.9813 8 16.9813C3.58681 16.9813 0 13.3945 0 8.98132C0 4.56814 3.58681 0.981323 8 0.981323C12.4132 0.981323 16 4.56814 16 8.98132ZM14.2418 8.98132C14.2418 5.53517 11.4462 2.73956 8 2.73956C4.55385 2.73956 1.75824 5.53517 1.75824 8.98132C1.75824 12.4275 4.55385 15.2231 8 15.2231C11.4462 15.2231 14.2418 12.4275 14.2418 8.98132Z"
                                                    fill="#368796"></path>
                                            </svg>
                                            {{bot.ExtractedDateTime?.split(' ')[1]}}
                                        </div>
                                    </td>
                                    <td>
                                        <div class="d-flex align-items-center gap-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" *ngIf="bot.ExpiryDateTime != null"
                                                width="15" height="15" viewBox="0 0 16 17" fill="none">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M14.0289 2.30655H13.3047V2.13813C13.3047 1.36339 12.6816 0.740234 11.9068 0.740234C11.1321 0.740234 10.5089 1.36339 10.5089 2.13813V2.30655H9.41419V2.13813C9.41419 1.36339 8.79103 0.740234 8.0163 0.740234C7.24156 0.740234 6.6184 1.36339 6.6184 2.13813V2.30655H5.52366V2.13813C5.52366 1.36339 4.90051 0.740234 4.12577 0.740234C3.35103 0.740234 2.72788 1.36339 2.72788 2.13813V2.30655H2.00366C1.06051 2.30655 0.302612 3.06445 0.302612 4.0076V15.0392C0.302612 15.9823 1.06051 16.7402 2.00366 16.7402H13.9952C14.9384 16.7402 15.6963 15.9823 15.6963 15.0392V4.02445C15.73 3.08129 14.9721 2.30655 14.0289 2.30655ZM11.4016 2.15497C11.4016 1.86866 11.6373 1.64971 11.9068 1.64971C12.1931 1.64971 12.4121 1.8855 12.4121 2.15497V3.3676C12.4121 3.65392 12.1763 3.87287 11.9068 3.87287C11.6205 3.87287 11.4016 3.63708 11.4016 3.3676V2.15497ZM7.52788 2.15497C7.52788 1.86866 7.76366 1.64971 8.03314 1.64971C8.31945 1.64971 8.5384 1.8855 8.5384 2.15497V3.3676C8.5384 3.65392 8.30261 3.87287 8.03314 3.87287C7.74682 3.87287 7.52788 3.63708 7.52788 3.3676V2.15497ZM3.63735 2.15497C3.63735 1.86866 3.87314 1.64971 4.14261 1.64971C4.42893 1.64971 4.64788 1.8855 4.64788 2.15497V3.3676C4.64788 3.65392 4.41209 3.87287 4.14261 3.87287C3.8563 3.87287 3.63735 3.63708 3.63735 3.3676V2.15497ZM14.8542 15.056C14.8542 15.5108 14.4837 15.8813 14.0289 15.8813H2.03735C1.58261 15.8813 1.21209 15.5108 1.21209 15.056V6.12971H14.8373V15.056H14.8542ZM11.149 14.0623C11.2669 14.1802 11.4016 14.2308 11.5532 14.2308C11.7048 14.2308 11.8395 14.1802 11.9574 14.0623L13.5069 12.5129C13.7258 12.2939 13.7258 11.9234 13.5069 11.7044C13.2879 11.4855 12.9174 11.4855 12.6985 11.7044L11.5532 12.8497L11.1321 12.4287C10.9132 12.2097 10.5427 12.2097 10.3237 12.4287C10.1048 12.6476 10.1048 13.0181 10.3237 13.2371L11.149 14.0623ZM5.10259 10.4581H3.36785C3.13206 10.4581 2.92996 10.256 2.92996 10.0202V8.26866C2.92996 8.03287 3.13206 7.83076 3.36785 7.83076H5.10259C5.33838 7.83076 5.54048 8.03287 5.54048 8.26866V10.0202C5.54048 10.256 5.33838 10.4581 5.10259 10.4581ZM7.1743 10.4581H8.90904C9.14483 10.4581 9.34693 10.256 9.34693 10.0202V8.26866C9.34693 8.03287 9.14483 7.83076 8.90904 7.83076H7.1743C6.93851 7.83076 6.73641 8.03287 6.73641 8.26866V10.0202C6.71956 10.256 6.92167 10.4581 7.1743 10.4581ZM12.6984 10.4581H10.9637C10.7279 10.4581 10.5258 10.256 10.5258 10.0202V8.26866C10.5258 8.03287 10.7279 7.83076 10.9637 7.83076H12.6984C12.9342 7.83076 13.1363 8.03287 13.1363 8.26866V10.0202C13.1363 10.256 12.9342 10.4581 12.6984 10.4581ZM3.36785 14.1971H5.10259C5.33838 14.1971 5.54048 13.995 5.54048 13.7592V12.0076C5.54048 11.7718 5.33838 11.5697 5.10259 11.5697H3.36785C3.13206 11.5697 2.92996 11.7718 2.92996 12.0076V13.7592C2.92996 13.995 3.13206 14.1971 3.36785 14.1971ZM8.90904 14.1971H7.1743C6.92167 14.1971 6.71956 13.995 6.73641 13.7592V12.0076C6.73641 11.7718 6.93851 11.5697 7.1743 11.5697H8.90904C9.14483 11.5697 9.34693 11.7718 9.34693 12.0076V13.7592C9.34693 13.995 9.14483 14.1971 8.90904 14.1971Z"
                                                    fill="#368796"></path>
                                            </svg>
                                            {{bot.ExpiryDateTime?.split(' ')[0]}}
                                      
                                            <svg xmlns="http://www.w3.org/2000/svg" *ngIf="bot.ExpiryDateTime != null"
                                                width="15" height="15" viewBox="0 0 16 17" fill="none">
                                                <path
                                                    d="M10.6374 10.7638H7.64835C7.15604 10.7638 6.76923 10.377 6.76923 9.88467V5.31324C6.76923 4.82093 7.15604 4.43412 7.64835 4.43412C8.14066 4.43412 8.52747 4.82093 8.52747 5.31324V9.00555H10.6374C11.1297 9.00555 11.5165 9.39236 11.5165 9.88467C11.5165 10.377 11.1297 10.7638 10.6374 10.7638Z"
                                                    fill="#368796"></path>
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M16 8.98132C16 13.3945 12.4132 16.9813 8 16.9813C3.58681 16.9813 0 13.3945 0 8.98132C0 4.56814 3.58681 0.981323 8 0.981323C12.4132 0.981323 16 4.56814 16 8.98132ZM14.2418 8.98132C14.2418 5.53517 11.4462 2.73956 8 2.73956C4.55385 2.73956 1.75824 5.53517 1.75824 8.98132C1.75824 12.4275 4.55385 15.2231 8 15.2231C11.4462 15.2231 14.2418 12.4275 14.2418 8.98132Z"
                                                    fill="#368796"></path>
                                            </svg>
                                            {{bot.ExpiryDateTime?.split(' ')[1]}}
                                        </div>
                                    </td>
                                    <td>
                                        {{bot.StorageTypeName}}
                                    </td>
                                    <td>
                                        <div class="d-flex align-items-center gap-2">
                                            <!-- <button class="btn btn-main-outline"
                                                (click)="FetchPrintBarCodeGenerAfterQty(bot)">Print</button> -->

                                                <button class="btn btn-secondary-outline fs-8 px-2"
                                                (click)="FetchPrintBarCodeGenerAfterQty(bot)">
                                                <svg width="20" height="20" viewBox="0 0 41 40" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <rect x="0.523438" width="40" height="40" rx="20" fill="#E2F0F2" />
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M29.3356 22.7725C29.3356 22.3493 29.6788 22.0059 30.1022 22.0059C30.5254 22.0059 30.8688 22.349 30.8688 22.7725V25.8327C30.8688 26.3418 30.6615 26.8034 30.3273 27.1377C29.993 27.472 29.5314 27.6792 29.0223 27.6792H25.9618C25.5386 27.6792 25.1952 27.336 25.1952 26.9126C25.1952 26.4894 25.5384 26.146 25.9618 26.146L29.0219 26.1462C29.1077 26.1462 29.1861 26.1106 29.2431 26.0539C29.3001 25.9968 29.3353 25.9186 29.3353 25.8327L29.3352 22.7726L29.3356 22.7725ZM13.6847 24.5622H14.1247L14.1249 20.7662H15.6578V24.5626H17.8208V20.7662H19.3537V24.5626H21.5168V20.7662H23.0497V24.5626H25.2128V20.7662H26.7456V24.5626H27.2051C27.469 24.5626 27.6842 24.3473 27.6842 24.0835V20.7663H31.2538C31.677 20.7663 32.0204 20.4232 32.0204 19.9997C32.0204 19.5765 31.6772 19.2331 31.2538 19.2331H9.79296C9.36975 19.2331 9.02637 19.5763 9.02637 19.9997C9.02637 20.4229 9.36959 20.7663 9.79296 20.7663H13.205V24.0835C13.2055 24.3472 13.4205 24.5622 13.6846 24.5622H13.6847ZM14.1249 17.7003V15.4371H13.6848C13.4209 15.4371 13.2057 15.6523 13.2057 15.9162V17.7005L14.1249 17.7007V17.7003ZM17.8208 17.7003V15.4371H15.6578V17.7003H17.8208ZM21.5169 17.7003V15.4371H19.3539V17.7003H21.5169ZM25.2129 17.7003V15.4371H23.0498V17.7003H25.2129ZM27.6843 17.7003V15.916C27.6843 15.6521 27.4691 15.4369 27.2052 15.4369H26.7458V17.7002H27.6844L27.6843 17.7003ZM15.0862 26.1466C15.5094 26.1466 15.8528 26.4899 15.8528 26.9132C15.8528 27.3364 15.5096 27.6798 15.0862 27.6798L12.0261 27.6797C11.5169 27.6797 11.0553 27.4723 10.721 27.1382C10.3867 26.8039 10.1796 26.3423 10.1796 25.8332V22.7726C10.1796 22.3494 10.5228 22.0061 10.9462 22.0061C11.3694 22.0061 11.7127 22.3491 11.7127 22.7726V25.8328C11.7127 25.9185 11.7483 25.997 11.805 26.0539C11.8621 26.111 11.9403 26.1462 12.0263 26.1462H15.0862L15.0862 26.1466ZM11.8073 17.227C11.8073 17.6502 11.464 17.9936 11.0407 17.9936C10.6174 17.9936 10.2741 17.6505 10.2741 17.227L10.2742 14.1668C10.2742 13.6577 10.4815 13.1961 10.8157 12.8618C11.15 12.5275 11.6116 12.3203 12.1207 12.3203H15.1809C15.6041 12.3203 15.9475 12.6635 15.9475 13.0869C15.9475 13.5101 15.6043 13.8535 15.1809 13.8535L12.1209 13.8533C12.0351 13.8533 11.9567 13.8889 11.8996 13.9456C11.8425 14.0027 11.8073 14.0808 11.8073 14.1669L11.8073 17.227ZM26.0561 13.853C25.6329 13.853 25.2895 13.5098 25.2895 13.0864C25.2895 12.6632 25.6328 12.3198 26.0561 12.3198H29.1163C29.6254 12.3198 30.087 12.5271 30.4213 12.8613C30.7556 13.1956 30.9628 13.6572 30.9628 14.1663V17.2265C30.9628 17.6497 30.6196 17.9931 30.1962 17.9931C29.773 17.9931 29.4296 17.65 29.4296 17.2265L29.4298 14.1668C29.4298 14.0811 29.3942 14.0026 29.3375 13.9457C29.2804 13.8886 29.2023 13.8534 29.1164 13.8534H26.0562L26.0561 13.853Z"
                                                        fill="#286571" />
                                                </svg>
                                                Print</button>

                                            <button class="btn btn-secondary-outline fs-8 px-2" (click)="openStorageChange(bot)" *ngIf="(bot.StorageTypeID != ''&&bot.StorageTypeID!='3'&&bot.StorageTypeID!='4')">Storeage
                                                change</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="barcodePdf">
    <div class="modal-dialog  modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{langData?.common?.radReport}}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="trustedUrl = ''"></button>
            </div>
            <div class="modal-body">
                <iframe *ngIf="trustedUrl" height="600" width="100%" [src]="(trustedUrl ? trustedUrl :'')| safeUrl"
                    frameborder="0"></iframe>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="milkextractionSavedMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>Saved Successfully </p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                       (click)="FetchActiveMilkBottlesInfo('beforeqty')" data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="storageChange" tabindex="-1" aria-labelledby="storageChange" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width: 35%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="cancelReasonsLabel">
                   Selected Milk Bottles
                </h5>
                <div class="d-flex gap-2 align-items-center justify-content-end">
                    <button class="btn btn-danger-outline" (click)="clearTempStorageType()">{{langData?.common?.Clear}}</button>
                    <button class="btn btn-main-outline" (click)="saveTempStorageType()">{{langData?.common?.Save}}</button>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <form [formGroup]="storageChangeForm">
                <div class="modal-body pb-5">
                    <div class="g-2 gy-3">
                        <div class="d-flex gap-3">
                            <div class="col-2">
                                <label for="" class="form-label m-0 text-nowrap">Quantity(ml)</label>
                                <input type="text" (keypress)="($event.charCode >= 48 && $event.charCode < 58)" formControlName="Quantity" class="form-control">
                            </div>                       
                            <div class="col-4">
                                <label for="" class="form-label m-0 text-nowrap">Extracted Date</label>
                                <input type="text" formControlName="ExtractedTime" class="form-control" [attr.disabled]="true">
                            </div>
                            <div class="col-4">
                                <label for="" class="form-label m-0 text-nowrap">Expiry Date</label>
                                <input type="text" formControlName="ExpiryDate" class="form-control" [attr.disabled]="true">
                            </div>     
                        </div>
                         
                        <div class="col-6">
                            <label for="" class="form-label m-0 text-nowrap">Storage Type</label>                        
                            <select class="form-select pe-5" id="StorageType" formControlName="StorageType"
                                (change)="onStorageTypeChange($event, 'temp')">
                                <option dir="ltr" value="0" selected>{{langData?.common?.Select}} </option>
                                <option dir="ltr" *ngFor="let sto of tempStorageTypes" [value]="sto.StorageTypeId">
                                    {{sto.StorageTypeName}}
                                </option>
                            </select>
                        </div>                       
                        <div class="col-6 w-100">
                            <label for="" class="form-label m-0 text-nowrap">Manual Entry Remarks</label>
                                <textarea name="" class="form-control resize-none" id="SelectedBottlemanualEntryRemarks"></textarea>                                
                        </div>                       
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal" id="motherMilkExtractionValidationMsgs" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p *ngIf="errorMessages.length === 1">{{errorMessages[0]}}</p>
                <ul *ngIf="errorMessages.length > 1">
                    <li *ngFor="let error of errorMessages; let i = index"> {{error}}</li>
                </ul>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal quick_info walkthrough_info_card walkthrough_info" data-bs-backdrop="static" id="quickaction_info" tab-index="-1">
    <div class="modal-dialog modal-dialog-scrollabel">
        <div class="modal-content h-100 overflow-auto">
            <div class="modal-header ps-0 d-none" style="background-color: #fcfaf7 !important;">
                <label for="" class="ssn_label bg-primary clr-light" id="lblSSN">SSN:
                    {{patinfo?.SSN}}</label>
                <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="clearPatientInfo()"
                    aria-label="Close"></button>
            </div>
            <div class="">
                <app-patient-quick-actions *ngIf="patinfo"
                    [patientInfo]="patinfo" (closeModal)="closeModal()"></app-patient-quick-actions>
            </div>
        </div>
    </div>
</div>