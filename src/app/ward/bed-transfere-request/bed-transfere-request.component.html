<app-generic-close *ngIf="readonly"></app-generic-close>
<!--Container-->
<div class="card card-style-1 h-100">
    <div class="card-header justify-content-between">
        <div class="d-flex align-items-center">
            <h2 class="card-heading">{{requestType}}</h2>
        </div>

        <div class="actions ms-auto d-flex gap-2">
            <button class="btn btn-main-fill" *ngIf="!readonly" (click)="navigatetoBedBoard()">Beds Board</button>
            <button class="btn btn-main-outline" *ngIf="!readonly" (click)="openviewNotemodal()">View</button>
            <button class="btn btn-main-outline" *ngIf="requestType === 'Discharge Request'" (click)="viewPendingOrders()">View Pending Orders</button>
            <button class="btn btn-main-outline" *ngIf="!enableDelete && !dischargeIntimationRiased" (click)="saveBedTransferRequest()">Save</button>
            <button class="btn btn-danger-outline" *ngIf="enableDelete" (click)="deleteRequestConfirmation()">Delete</button>
            <button class="btn btn-danger-outline" (click)="clearBedTransferRequest()">Clear</button>
            <!-- <button class="btn btn-main-outline">Transfer Request</button>
            <button class="btn btn-main-outline" data-bs-toggle="pill" data-bs-target="#update_tab" >Update Bed Status</button> -->

        </div>
    </div>
    <div class="container-body p-0">
        <!-- Patient Card -->
        <div class="m-2">
            <app-wardheader-summary></app-wardheader-summary>
        </div>

        <div class="card card-style-1 m-2 mt-3">
            <div class="card-header">
                <h5 class="card-heading">{{requestType}}</h5>
                <div class="ms-auto d-flex align-items-center gap-2">    
                    <!-- <button class="btn btn-main-outline">Save</button>  -->
                    <h6 class="modal-title mx-4 text-danger" *ngIf="dischargeIntimationRiased" style="font-size:0.96rem;">
                        Discharge Request already raised, no modification is allowed.</h6>
                     
                        <h6 class="modal-title mx-4 text-danger" style="font-size:0.96rem;">{{bedsListCount}}
                            </h6>
                </div>
                <div class="ms-auto actions">
                    <!-- <div class="clinical_toggle toggle__switch switch-sm d-inline-flex align-self-start">
                        <button id="" class="fs-7 btn selected">Transfer Request</button>
                        <button id="" class="fs-7 btn">Discharge Request</button>
                    </div> -->
                    <ul class="nav nav-pills nav-pills-sm tab-pills me-3" id="" role="tablist" *ngIf="!readonly">
                        <li class="nav-item" role="presentation" (click)="navigate('transfer')">
                            <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#transfer_req_tab"
                                type="button" role="tab" aria-selected="true">
                                Transfer Request
                            </button>
                        </li>
                        <li class="nav-item" role="presentation" (click)="navigate('discharge')">
                            <button class="nav-link" data-bs-toggle="pill" data-bs-target="#discharge_req_tab"
                                type="button" role="tab" aria-selected="false">
                                Discharge Request
                            </button>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="tab-content mb-3" *ngIf="!readonly">
                <div class="tab-pane fade active show" id="transfer_req_tab">
                    <form [formGroup]="transferRequestForm">
                        <!-- TRANSFER REQUEST -->
                        <div class="mt-3 row mx-0">
                            <!-- <div class="col-md-3">
                                <label for="" class="form-label">Bed</label>
                                <input type="text" [value]="this.selectedView.Bed" class="form-control">
                            </div>   -->
                            <!-- <div class="col-md-3">
                                <label for="" class="form-label">Order No</label>
                                <input type="text" class="form-control" disabled>
                            </div> -->
                            <!-- <div class="col-md-3">
                                <label for="" class="form-label">Date Time</label>
                                <input type="text" [value]="currentdate" class="form-control">
                            </div> -->
                            <div class="col-md-4">
                                <label for="" class="form-label" required>Request Type</label>
                                <select class="form-select pe-5" id="RequestType" [attr.disabled]="true"
                                    formControlName="RequestType">
                                    <option dir="ltr" value="0" translate>{{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let req of requestTypeList" [value]="req.ID">
                                        {{req.Name}}
                                    </option>
                                </select>
                                <span class="bottom-0"
                                    *ngIf="(isTranReqSubmitted && this.transferRequestForm.get('RequestType')?.value ==='0')">
                                    <div class="text-danger fs-8">
                                        Please select Request Type</div>
                                </span>
                            </div>
                            <!-- <div class="col-md-3">
                                <label for="" class="form-label">Operator</label>
                                <input type="text" class="form-control">
                            </div> -->
                            <!-- <div class="col-md-3">
                                <label for="" class="form-label" required>Priority</label>
                                <select class="form-select pe-5" id="PriorityID"
                                    formControlName="PriorityID">
                                    <option dir="ltr" value="0" translate>{{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let req of wardPriorityList" [value]="req.Id">
                                        {{req.Names}}
                                    </option>
                                </select>
                                <span class="bottom-0"
                                    *ngIf="(isTranReqSubmitted && this.transferRequestForm.get('PriorityID')?.value ==='0')">
                                    <div class="text-danger fs-8">
                                        Please select Priority</div>
                                </span>
                            </div> -->
                            <div class="col-md-4">
                                <label for="" class="form-label" required>Ward</label>
                                <select class="form-select pe-5" id="WardID" (change)="onWardChange($event)"
                                    formControlName="WardID">
                                    <option dir="ltr" value="0" translate>{{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let emp of wardsList" [value]="emp.WardID">
                                        {{emp.WardName}}
                                    </option>
                                    <!-- <option dir="ltr" value="2089"> EMERGENCY WARD </option> -->
                                </select>
                                <span class="bottom-0"
                                    *ngIf="(isTranReqSubmitted && this.transferRequestForm.get('WardID')?.value ==='0')">
                                    <div class="text-danger fs-8">
                                        Please select Ward</div>
                                </span>
                            </div>
                            <div class="col-md-4">
                                <label for="" class="form-label">Bed Type</label>
                                <select class="form-select pe-5" id="BedTypeID" formControlName="BedTypeID">
                                    <option dir="ltr" value="0" translate>{{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let emp of bedTypesList" [value]="emp.BedTypeID">
                                        {{emp.BedType}}
                                    </option>
                                </select>
                                <span class="bottom-0"
                                    *ngIf="(isTranReqSubmitted && this.transferRequestForm.get('BedTypeID')?.value ==='0')">
                                    <div class="text-danger fs-8">
                                        Please select Bed Type</div>
                                </span>
                            </div>
                            <div class="col-md-12">
                                <label for="" class="form-label">Remarks</label>
                                <textarea name="" class="form-control resize-none" formControlName="Remarks" id=""
                                    cols="30" rows="4"></textarea>
                            </div>
                            <!-- <div class="col-md-12 mt-3">
                                <div class="d-flex align-items-center justify-content-end gap-2">
                                    <button class="btn btn-main-fill" (click)="openviewNotemodal()">View</button>
                                    <button class="btn btn-main-outline" (click)="saveBedTransferRequest()">Save</button>
                                    <button class="btn btn-danger-outline">Delete</button>
                                    <button class="btn btn-danger-outline" (click)="clearBedTransferRequest()">Clear</button>
                                </div>
                            </div> -->
                        </div>
                    </form>
                </div>
                <div class="tab-pane fade" id="discharge_req_tab">
                    <!-- Discharge REQUEST -->
                    <form [formGroup]="dischargeRequestForm">
                        <div class="mt-3 mx-0 row">

                            <div class="col-md-3">
                                <label for="" class="form-label" required>Request Type</label>
                                <select class="form-select pe-5" id="RequestType" [attr.disabled]="true"
                                    formControlName="RequestType">
                                    <option dir="ltr" value="0" translate>{{langData?.common?.Select}}</option>
                                    <option dir="ltr" value="1">Discharge</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="" class="form-label" required>Discharge Status</label>
                                <select class="form-select pe-5" id="DischargeStatusID"
                                    formControlName="DischargeStatusID">
                                    <option dir="ltr" value="0" translate>{{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let sta of dischargeStatus" [value]="sta.id">
                                        {{sta.name}}
                                    </option>
                                </select>
                                <span class="bottom-0"
                                    *ngIf="(isDisReqSubmitted && this.dischargeRequestForm.get('DischargeStatusID')?.value ==='0')">
                                    <div class="text-danger fs-8">
                                        Please select Discharge Status</div>
                                </span>
                            </div>
                            <div class="col-md-3">
                                <label for="" class="form-label" required>Discharge Reason</label>
                                <select class="form-select pe-5" id="DischargeStatusID"
                                    formControlName="DischargeReasonID">
                                    <option dir="ltr" value="0" translate>{{langData?.common?.Select}}</option>
                                    <option dir="ltr" *ngFor="let rea of dischargeReasons" [value]="rea.id">
                                        {{rea.name}}
                                    </option>
                                </select>
                                <span class="bottom-0"
                                    *ngIf="(isDisReqSubmitted && this.dischargeRequestForm.get('DischargeReasonID')?.value ==='0')">
                                    <div class="text-danger fs-8">
                                        Please select Discharge Reason</div>
                                </span>
                            </div>
                            <div class="col-md-2">
                                <label for="" class="form-label text-nowrap">Discharge Date :</label>
                                    <mat-form-field appearance="fill">
                                        <mat-label translate>dd-MMM-yyyy</mat-label>
                                        <input matInput class="" formControlName="DischargeDate"
                                            [matDatepicker]="DischargeDate" (click)="DischargeDate.open()">
                                        <mat-datepicker-toggle matSuffix [for]="DischargeDate">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #DischargeDate></mat-datepicker>
                                    </mat-form-field>
                            </div>
                            <div class="col-md-1">
                                <label for="" class="form-label text-nowrap">Time :</label>
                                <input type="time" formControlName="DischargeTime" class="form-control">
                            </div>
                            <div class="col-md-12">
                                <label for="" class="form-label">Remarks</label>
                                <textarea name="" class="form-control resize-none" formControlName="Remarks" id=""
                                    cols="30" rows="4"></textarea>
                            </div>
                            <!-- <div class="col-md-12 mt-3">
                            <div class="d-flex align-items-center justify-content-end gap-2">
                                <button class="btn btn-main-fill">View</button>
                                <button class="btn btn-main-outline">Save</button>
                                <button class="btn btn-danger-outline">Delete</button>
                                <button class="btn btn-danger-outline">Clear</button>
                            </div>
                        </div> -->
                        </div>
                    </form>
                </div>
                <div class="tab-pane fade" id="update_tab">
                    <!-- UPDATE BED STATUS -->
                    <div class="mt-3 d-flex align-items-center gap-3">
                        <div class="d-flex align-items-center gap-2">
                            <input type="radio" class="form-check-input m-0">
                            <label for="" class="form-label m-0">Not Occupied / Vacated</label>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <input type="radio" class="form-check-input m-0">
                            <label for="" class="form-label m-0">Vacant / Not in use</label>
                        </div>
                    </div>
                    <div class="mt-3 row mx-0">
                        <div class="col-md-3">
                            <label for="" class="form-label" required>Bed Name</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-3">
                            <label for="" class="form-label">Current Status</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-3">
                            <label for="" class="form-label" required>Change to status</label>
                            <select name="" class="form-select pe-5" id="">
                                <option value="">--Select--</option>
                                <option value="">--Select--</option>
                            </select>
                        </div>
                        <div class="col-md-12 mt-3">
                            <div class="d-flex align-items-center justify-content-end gap-2">
                                <button class="btn btn-main-outline">Save</button>
                                <button class="btn btn-danger-outline">Clear</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-content mb-3" *ngIf="readonly">
                <div class="mt-3 mx-0 row">
                    <div class="col-md-3">
                        <label for="" class="form-label" required>Transfer To</label>
                        <div class="d-flex gap-2 clin_imp align-items-center">
                            <button class="btn btn-secondary-outline min-width-unset fs-8 px-2">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path opacity="0.4" d="M10 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10C18.3334 5.39752 14.6025 1.66669 10 1.66669C5.39752 1.66669 1.66669 5.39752 1.66669 10C1.66669 14.6025 5.39752 18.3334 10 18.3334Z" fill="#B4DDE4"/>
                                    <path d="M8.81668 12.985C8.65098 12.9849 8.49212 12.9189 8.37502 12.8017L6.01668 10.4433C5.90045 10.3257 5.83527 10.167 5.83527 10.0017C5.83527 9.83631 5.90045 9.67762 6.01668 9.56C6.25835 9.31833 6.65835 9.31833 6.90002 9.56L8.81668 11.4767L13.1 7.19333C13.3417 6.95167 13.7417 6.95167 13.9834 7.19333C14.225 7.435 14.225 7.835 13.9834 8.07667L9.25835 12.8017C9.14125 12.9189 8.98239 12.9849 8.81668 12.985Z" fill="#8ECBD7"/>
                                </svg>                                            
                                Main-OR
                            </button> 
                            <button class="btn btn-secondary-outline min-width-unset fs-8 px-2">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path opacity="0.4" d="M10 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10C18.3334 5.39752 14.6025 1.66669 10 1.66669C5.39752 1.66669 1.66669 5.39752 1.66669 10C1.66669 14.6025 5.39752 18.3334 10 18.3334Z" fill="#B4DDE4"/>
                                    <path d="M8.81668 12.985C8.65098 12.9849 8.49212 12.9189 8.37502 12.8017L6.01668 10.4433C5.90045 10.3257 5.83527 10.167 5.83527 10.0017C5.83527 9.83631 5.90045 9.67762 6.01668 9.56C6.25835 9.31833 6.65835 9.31833 6.90002 9.56L8.81668 11.4767L13.1 7.19333C13.3417 6.95167 13.7417 6.95167 13.9834 7.19333C14.225 7.435 14.225 7.835 13.9834 8.07667L9.25835 12.8017C9.14125 12.9189 8.98239 12.9849 8.81668 12.985Z" fill="#8ECBD7"/>
                                </svg>                                            
                                OB-OR
                            </button> 
                            <button class="btn btn-secondary-outline min-width-unset fs-8 px-2">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path opacity="0.4" d="M10 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10C18.3334 5.39752 14.6025 1.66669 10 1.66669C5.39752 1.66669 1.66669 5.39752 1.66669 10C1.66669 14.6025 5.39752 18.3334 10 18.3334Z" fill="#B4DDE4"/>
                                    <path d="M8.81668 12.985C8.65098 12.9849 8.49212 12.9189 8.37502 12.8017L6.01668 10.4433C5.90045 10.3257 5.83527 10.167 5.83527 10.0017C5.83527 9.83631 5.90045 9.67762 6.01668 9.56C6.25835 9.31833 6.65835 9.31833 6.90002 9.56L8.81668 11.4767L13.1 7.19333C13.3417 6.95167 13.7417 6.95167 13.9834 7.19333C14.225 7.435 14.225 7.835 13.9834 8.07667L9.25835 12.8017C9.14125 12.9189 8.98239 12.9849 8.81668 12.985Z" fill="#8ECBD7"/>
                                </svg>                                            
                                L AND D
                            </button> 
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- view Trasfer Requests-->
<div class="modal fade viewNotemodal" id="viewNotemodal" tabindex="-1" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollabel modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="View Notes">View Requests</h5>
                <div class="d-flex align-items-center flex-row-reverse">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>

            <div class="modal-body">
                <div class="choose_type mb-3">
                    <div class="row justify-content-between align-items-center">
                        <div class="col-xl-8 col-md-6 filterdates d-flex align-items-center">

                            <div class="d-flex align-items-center me-3 my-2">
                                <label for="" class="form-label text-nowrap">Date :</label>
                                <div class="d-flex align-items-center gap-2 justify-content-end">
                                    <button class="date_range_calendar p-0 position-relative" style="width: 227px;">
                                        <mat-date-range-input class="btn btn-main-outline" [formGroup]="datesForm"
                                            [rangePicker]="picker">
                                            <input matStartDate formControlName="fromdate">
                                            <input matEndDate formControlName="todate"
                                                (dateChange)="fetchBedTransferRequests()">
                                        </mat-date-range-input>
                                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-date-range-picker #picker></mat-date-range-picker>
                                    </button>
                                </div>
                            </div>

                        </div>
                        <div class="searchfilter text-end col-xl-1 col-md-2">
                            <button class="btn btn-main-fill" (click)="fetchBedTransferRequests()">Search</button>
                        </div>
                    </div>

                </div>

                <div class="viewTable">
                    <table class="table">
                        <thead>
                            <tr>
                                <th translate>Sl.No</th>
                                <th translate>Patient Name</th>
                                <th translate>Date</th>
                                <th translate>Request Type Name</th>
                                <th translate>Ward Name</th>
                                <th translate>Status</th>
                                <th translate>Remarks</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of viewTransReqs; let i = index">
                                <td>{{ i + 1 }}</td>
                                <td (click)="viewBedTransReq(item)"><a class="nav_link cursor-pointer"> {{
                                        item.PatientName }}</a></td>
                                <td>{{item.RequestedDate}}</td>
                                <td>{{item.ReqTypeName}}</td>
                                <td>{{item.WardName}}</td>
                                <td>{{item.StatusText}}</td>
                                <td>{{item.Remarks}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- view Discharge Requests-->
<div class="modal fade viewNotemodal" id="viewDischargeRequests" tabindex="-1" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollabel modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="View Notes">View Discharge Requests</h5>
                <div class="d-flex align-items-center gap-2">
                    <div class="d-flex align-items-center gap-2">
                        <label for="" class="form-label text-nowrap">Date :</label>
                        <div class="d-flex align-items-center gap-2 justify-content-end">
                            <button class="date_range_calendar p-0 position-relative" style="width: 227px;">
                                <mat-date-range-input class="btn btn-main-outline" [formGroup]="disdatesForm"
                                    [rangePicker]="picker1">
                                    <input matStartDate formControlName="fromdate">
                                    <input matEndDate formControlName="todate"
                                        (dateChange)="fetchBedDischargeRequests()">
                                </mat-date-range-input>
                                <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-date-range-picker #picker1></mat-date-range-picker>
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-main-fill" (click)="fetchBedDischargeRequests()">Search</button>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>

            <div class="modal-body">
                <!-- <div class="choose_type mb-3">
                    <div class="row justify-content-between align-items-center">
                        <div class="col-xl-8 col-md-6 filterdates d-flex align-items-center">


                        </div>
                        <div class="searchfilter text-end col-xl-1 col-md-2">
                        </div>
                    </div>

                </div> -->

                <div class="viewTable">
                    <div class="card-3d p-2 mb-3" *ngFor="let item of viewDischargeReqs; let i = index">
                        <div class="row mx-0">
                            <div class="col-md-1">
                                <p class="label text-nowrap">Sl.No</p>
                                <p class="text-break">{{ i + 1 }}</p>
                            </div>
                            <div class="col-md-2">
                                <p class="label text-nowrap">SSN</p>
                                <p class="text-break">{{ item.SSN }}</p>
                            </div>
                            <div class="col-md-2">
                                <p class="label text-nowrap">Patient Name</p>
                                <p class="text-break" (click)="viewBedDischargeReq(item)"><a class="nav_link cursor-pointer">{{ item.PatientName }}</a></p>
                            </div>
                            <div class="col-md-2">
                                <p class="label text-nowrap">Discharge Requested Date</p>
                                <p class="text-break">{{item.RequestedDate}}</p>
                                <!-- <div class="d-flex align-items-center gap-1">
                                    <svg width="14" height="14" viewBox="0 0 10 11" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600 text-nowrap">{{item.RequestedDate}}</p>
                                    <svg class="ms-3" width="14" height="14" viewBox="0 0 10 11" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                            fill="#368796" />
                                        <path
                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600  text-nowrap">{{item.RequestedDate}}</p>
                                </div> -->
                            </div>
                            <div class="col-md-2">
                                <p class="label text-nowrap">Request Type Name</p>
                                <p class="text-break">{{item.ReqTypeName}}</p>
                            </div>
                            <div class="col-md-3">
                                <p class="label text-nowrap">Ward Name</p>
                                <p class="text-break">{{item.WardName}}</p>
                            </div>
                        </div>

                    </div>

                    <!-- <table class="table d-none">
                        <thead>
                            <tr>
                                <th translate>Sl.No</th>
                                <th translate>Patient Name</th>
                                <th translate>Discharge Requested Date</th>
                                <th translate>Request Type Name</th>
                                <th translate>Ward Name</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of viewDischargeReqs; let i = index">
                                <td>{{ i + 1 }}</td>
                                <td (click)="viewBedDischargeReq(item)"><a class="nav_link cursor-pointer"> {{
                                        item.PatientName }}</a></td>
                                <td>{{item.RequestedDate}}</td>
                                <td>{{item.ReqTypeName}}</td>
                                <td>{{item.WardName}}</td>
                            </tr>
                        </tbody>
                    </table> -->
                </div>
            </div>

        </div>
    </div>
</div>

<!-- view Pending Orders-->
<div class="modal fade viewNotemodal" id="viewPendingOrders" tabindex="-1" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollabel modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="View Notes">View Pending Orders</h5>
                <div class="d-flex align-items-center flex-row-reverse">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>

            <div class="modal-body">
                <div class="choose_type mb-3">
                    

                </div>

                <div class="viewTable">
                    <table class="table d-none">
                        <thead>
                            <tr>
                                <!-- <th translate>Sl.No</th> -->
                                <th translate>Service Name</th>
                                <th translate>Item Name</th>
                                <th translate>Order No</th>
                                <th translate>Order Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of FetchIPOrdersForOrderStatusData1List; let i = index">
                                <td>{{item.ServiceName }}</td>
                                <td>{{item.ItemName}}</td>
                                <td>{{item.ORDERNO}}</td>
                                <td>{{item.OrderDate}}</td>
                            </tr>
                            <!-- <tr *ngFor="let item of FetchIPOrdersForOrderStatusData2List; let i = index">
                                <td>{{item.ServiceName }}</a></td>
                                <td>{{item.ItemName}}</td>
                                <td>{{item.ReqTypeName}}</td>
                                <td>{{item.OrderDate}}</td>
                            </tr> -->
                        </tbody>
                    </table>

                    <div class="card-3d p-2 mb-3" *ngFor="let item of FetchIPOrdersForOrderStatusData1List; let i = index">
                        <div class="row mx-0">
                            <div class="col-md-1">
                                <p class="label text-nowrap">Service Name</p>
                                <p class="text-break">{{item.ServiceName }}</p>
                            </div>
                            <div class="col-md-3">
                                <p class="label text-nowrap">Item Name</p>
                                <p class="text-break">{{ item.ItemName }}</p>
                            </div>
                            <div class="col-md-2">
                                <p class="label text-nowrap">Order No</p>
                                <p class="text-break">{{item.ORDERNO}}</p>
                                <!-- <div class="d-flex align-items-center gap-1">
                                    <svg width="14" height="14" viewBox="0 0 10 11" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600 text-nowrap">{{item.RequestedDate}}</p>
                                    <svg class="ms-3" width="14" height="14" viewBox="0 0 10 11" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                            fill="#368796" />
                                        <path
                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                            fill="#368796" />
                                    </svg>
                                    <p class="m-0 clr-dark-600  text-nowrap">{{item.RequestedDate}}</p>
                                </div> -->
                            </div>
                            <div class="col-md-2">
                                <p class="label text-nowrap">Order Date</p>
                                <p class="text-break">{{item.OrderDate}}</p>
                            </div>
                        </div>

                    </div>

                </div>
            </div>

        </div>
    </div>
</div>

<div class="modal" id="saveTransferRequestMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>{{saveSuccessMsg}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.Ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="pendingOrdersYesNo" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>Order(s) are pending for the patient.Do you want to continue with Discharge Request.</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="saveBedDischargeRequest()">{{langData?.common?.yes}}</a>
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.no}}</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="deleteDisReqYesNo" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>Do you want to delete Discharge Request ?</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="deleteRequest()">{{langData?.common?.yes}}</a>
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.no}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="deleteTranReqYesNo" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>Do you want to delete Transfer Request ?</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline" data-bs-dismiss="modal"
                        (click)="deleteRequest()">{{langData?.common?.yes}}</a>
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.no}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" data-bs-abackdrop="static" data-bs-keyboard="false" id="nopendingOrders" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>No Pending Order to View</p>
                <div class="modal-footer">
                    
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">Ok</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="errorMessagesModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{error}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>