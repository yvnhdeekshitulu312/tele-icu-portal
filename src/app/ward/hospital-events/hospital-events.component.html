<app-header [InputHome]="true" [IsSwitchWard]="false" [showAlert]="true"></app-header>
<div>
    <div class="page-header sticky-top justify-content-between">
        <div class="d-flex align-items-center gap-3 w-100">
            <h2 class="page-heading text-nowrap">Hospital-Acquired Events/ Reportable Event Form</h2>
        </div>

        <div class="actions ms-auto">
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-main-fill" (click)="navigatetoBedBoard()">Beds Board</button>
                <button class="btn btn-main-outline" (click)="openQuickActions()">Quick Actions</button>
                <button class="btn btn-danger-outline" (click)="clearForm()">Clear</button>
                <button class="btn btn-main-outline" (click)="saveData()">Save</button>
            </div>
        </div>
    </div>
    <!-- Patient Card -->
    <div class="m-2">
        <app-wardheader-summary></app-wardheader-summary>
    </div>

    <div class="container-body p-2">
        <div role="tablist" class="nav nav-pills style-1 advice_assessments hospitalEvents_tabs gap-1">
            <li role="presentation" class="nav-item">
                <button type="button" [class.active]="activeTab === 'Pressure_Ulcer'"
                    (click)="activeTab = 'Pressure_Ulcer'"
                    class="nav-link fs-8 p-2 text-wrap active d-flex gap-1 justify-content-between">
                    Hospital Acquired Pressure Ulcer
                    <div class="custom_check d-flex align-items-center gap-1" [class.active]="!isPressureUlcerEmpty">
                        <svg class="check_svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink" role="img">
                        <path  d="M12.0572 1.75H12.0572H11.9428H11.9428C9.75212 1.74999 8.03144 1.74998 6.68802 1.93059C5.31137 2.11568 4.21911 2.50272 3.36091 3.36091C2.50272 4.21911 2.11568 5.31137 1.93059 6.68802C1.74998 8.03144 1.74999 9.75211 1.75 11.9428V11.9428V12.0572V12.0572C1.74999 14.2479 1.74998 15.9686 1.93059 17.312C2.11568 18.6886 2.50272 19.7809 3.36091 20.6391C4.21911 21.4973 5.31137 21.8843 6.68802 22.0694C8.03144 22.25 9.7521 22.25 11.9428 22.25H12.0572C14.2479 22.25 15.9686 22.25 17.312 22.0694C18.6886 21.8843 19.7809 21.4973 20.6391 20.6391C21.4973 19.7809 21.8843 18.6886 22.0694 17.312C22.25 15.9686 22.25 14.2479 22.25 12.0572V11.9428C22.25 9.75214 22.25 8.03144 22.0694 6.68802C21.8843 5.31137 21.4973 4.21911 20.6391 3.36091C19.7809 2.50272 18.6886 2.11568 17.312 1.93059C15.9686 1.74998 14.2479 1.74999 12.0572 1.75Z" fill="#368796"></path>
                        <path d="M22.4375 3.65241C22.6297 4.1702 22.3657 4.7457 21.8479 4.93782C20.7962 5.32801 19.6693 6.1399 18.5438 7.21544C17.4286 8.28114 16.3699 9.55194 15.4483 10.7861C14.5287 12.0176 13.7581 13.1958 13.2172 14.0669C12.9276 14.5332 12.6421 15.0027 12.3758 15.4829C12.2011 15.7993 11.8689 15.9976 11.5074 16.0002C11.1459 16.0029 10.8111 15.8103 10.6318 15.4964C9.68252 13.8352 8.89836 13.0873 8.42654 12.757C8.13674 12.5541 7.96606 12.5072 7.92605 12.4976C7.4083 12.4597 7 12.0277 7 11.5003C7 10.948 7.44772 10.5003 8 10.5003C8.56627 10.5042 9.12266 10.803 9.57346 11.1185C10.1234 11.5035 10.767 12.1168 11.4681 13.0925C12.0322 12.1802 12.8541 10.9175 13.8458 9.58946C14.8066 8.30277 15.9391 6.93815 17.1621 5.76948C18.3748 4.61064 19.7332 3.5892 21.1521 3.06272C21.6699 2.87061 22.2454 3.13462 22.4375 3.65241Z" fill="#fff"></path>
                        </svg>
                    </div>
                </button>
            </li>
            <li role="presentation" class="nav-item">
                <button type="button" [class.active]="activeTab === 'Falls'" (click)="activeTab = 'Falls'"
                    class="nav-link fs-8 p-2 text-wrap d-flex gap-1 justify-content-between">
                    Falls in hospitalized patients
                    <div class="custom_check d-flex align-items-center gap-1" [class.active]="!isFallEmpty">
                        <svg class="check_svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink" role="img">
                        <path  d="M12.0572 1.75H12.0572H11.9428H11.9428C9.75212 1.74999 8.03144 1.74998 6.68802 1.93059C5.31137 2.11568 4.21911 2.50272 3.36091 3.36091C2.50272 4.21911 2.11568 5.31137 1.93059 6.68802C1.74998 8.03144 1.74999 9.75211 1.75 11.9428V11.9428V12.0572V12.0572C1.74999 14.2479 1.74998 15.9686 1.93059 17.312C2.11568 18.6886 2.50272 19.7809 3.36091 20.6391C4.21911 21.4973 5.31137 21.8843 6.68802 22.0694C8.03144 22.25 9.7521 22.25 11.9428 22.25H12.0572C14.2479 22.25 15.9686 22.25 17.312 22.0694C18.6886 21.8843 19.7809 21.4973 20.6391 20.6391C21.4973 19.7809 21.8843 18.6886 22.0694 17.312C22.25 15.9686 22.25 14.2479 22.25 12.0572V11.9428C22.25 9.75214 22.25 8.03144 22.0694 6.68802C21.8843 5.31137 21.4973 4.21911 20.6391 3.36091C19.7809 2.50272 18.6886 2.11568 17.312 1.93059C15.9686 1.74998 14.2479 1.74999 12.0572 1.75Z" fill="#368796"></path>
                        <path d="M22.4375 3.65241C22.6297 4.1702 22.3657 4.7457 21.8479 4.93782C20.7962 5.32801 19.6693 6.1399 18.5438 7.21544C17.4286 8.28114 16.3699 9.55194 15.4483 10.7861C14.5287 12.0176 13.7581 13.1958 13.2172 14.0669C12.9276 14.5332 12.6421 15.0027 12.3758 15.4829C12.2011 15.7993 11.8689 15.9976 11.5074 16.0002C11.1459 16.0029 10.8111 15.8103 10.6318 15.4964C9.68252 13.8352 8.89836 13.0873 8.42654 12.757C8.13674 12.5541 7.96606 12.5072 7.92605 12.4976C7.4083 12.4597 7 12.0277 7 11.5003C7 10.948 7.44772 10.5003 8 10.5003C8.56627 10.5042 9.12266 10.803 9.57346 11.1185C10.1234 11.5035 10.767 12.1168 11.4681 13.0925C12.0322 12.1802 12.8541 10.9175 13.8458 9.58946C14.8066 8.30277 15.9391 6.93815 17.1621 5.76948C18.3748 4.61064 19.7332 3.5892 21.1521 3.06272C21.6699 2.87061 22.2454 3.13462 22.4375 3.65241Z" fill="#fff"></path>
                        </svg>
                    </div>
                </button>
            </li>
            <li role="presentation" class="nav-item">
                <button type="button" [class.active]="activeTab === 'VTE'" (click)="activeTab = 'VTE'"
                    class="nav-link fs-8 p-2 text-wrap d-flex gap-1 justify-content-between">
                    Venous thromboembolism (VTE)
                    <div class="custom_check d-flex align-items-center gap-1" [class.active]="!isVteEmpty">
                        <svg class="check_svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink" role="img">
                        <path  d="M12.0572 1.75H12.0572H11.9428H11.9428C9.75212 1.74999 8.03144 1.74998 6.68802 1.93059C5.31137 2.11568 4.21911 2.50272 3.36091 3.36091C2.50272 4.21911 2.11568 5.31137 1.93059 6.68802C1.74998 8.03144 1.74999 9.75211 1.75 11.9428V11.9428V12.0572V12.0572C1.74999 14.2479 1.74998 15.9686 1.93059 17.312C2.11568 18.6886 2.50272 19.7809 3.36091 20.6391C4.21911 21.4973 5.31137 21.8843 6.68802 22.0694C8.03144 22.25 9.7521 22.25 11.9428 22.25H12.0572C14.2479 22.25 15.9686 22.25 17.312 22.0694C18.6886 21.8843 19.7809 21.4973 20.6391 20.6391C21.4973 19.7809 21.8843 18.6886 22.0694 17.312C22.25 15.9686 22.25 14.2479 22.25 12.0572V11.9428C22.25 9.75214 22.25 8.03144 22.0694 6.68802C21.8843 5.31137 21.4973 4.21911 20.6391 3.36091C19.7809 2.50272 18.6886 2.11568 17.312 1.93059C15.9686 1.74998 14.2479 1.74999 12.0572 1.75Z" fill="#368796"></path>
                        <path d="M22.4375 3.65241C22.6297 4.1702 22.3657 4.7457 21.8479 4.93782C20.7962 5.32801 19.6693 6.1399 18.5438 7.21544C17.4286 8.28114 16.3699 9.55194 15.4483 10.7861C14.5287 12.0176 13.7581 13.1958 13.2172 14.0669C12.9276 14.5332 12.6421 15.0027 12.3758 15.4829C12.2011 15.7993 11.8689 15.9976 11.5074 16.0002C11.1459 16.0029 10.8111 15.8103 10.6318 15.4964C9.68252 13.8352 8.89836 13.0873 8.42654 12.757C8.13674 12.5541 7.96606 12.5072 7.92605 12.4976C7.4083 12.4597 7 12.0277 7 11.5003C7 10.948 7.44772 10.5003 8 10.5003C8.56627 10.5042 9.12266 10.803 9.57346 11.1185C10.1234 11.5035 10.767 12.1168 11.4681 13.0925C12.0322 12.1802 12.8541 10.9175 13.8458 9.58946C14.8066 8.30277 15.9391 6.93815 17.1621 5.76948C18.3748 4.61064 19.7332 3.5892 21.1521 3.06272C21.6699 2.87061 22.2454 3.13462 22.4375 3.65241Z" fill="#fff"></path>
                        </svg>
                    </div>
                </button>
            </li>
            <li role="presentation" class="nav-item">
                <button type="button" [class.active]="activeTab === 'ADR'" (click)="activeTab = 'ADR'"
                    class="nav-link fs-8 p-2 text-wrap d-flex gap-1 justify-content-between">
                    Adverse Drug Reaction (ADR)
                    <div class="custom_check d-flex align-items-center gap-1" [class.active]="!isAdrEmpty">
                        <svg class="check_svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink" role="img">
                        <path  d="M12.0572 1.75H12.0572H11.9428H11.9428C9.75212 1.74999 8.03144 1.74998 6.68802 1.93059C5.31137 2.11568 4.21911 2.50272 3.36091 3.36091C2.50272 4.21911 2.11568 5.31137 1.93059 6.68802C1.74998 8.03144 1.74999 9.75211 1.75 11.9428V11.9428V12.0572V12.0572C1.74999 14.2479 1.74998 15.9686 1.93059 17.312C2.11568 18.6886 2.50272 19.7809 3.36091 20.6391C4.21911 21.4973 5.31137 21.8843 6.68802 22.0694C8.03144 22.25 9.7521 22.25 11.9428 22.25H12.0572C14.2479 22.25 15.9686 22.25 17.312 22.0694C18.6886 21.8843 19.7809 21.4973 20.6391 20.6391C21.4973 19.7809 21.8843 18.6886 22.0694 17.312C22.25 15.9686 22.25 14.2479 22.25 12.0572V11.9428C22.25 9.75214 22.25 8.03144 22.0694 6.68802C21.8843 5.31137 21.4973 4.21911 20.6391 3.36091C19.7809 2.50272 18.6886 2.11568 17.312 1.93059C15.9686 1.74998 14.2479 1.74999 12.0572 1.75Z" fill="#368796"></path>
                        <path d="M22.4375 3.65241C22.6297 4.1702 22.3657 4.7457 21.8479 4.93782C20.7962 5.32801 19.6693 6.1399 18.5438 7.21544C17.4286 8.28114 16.3699 9.55194 15.4483 10.7861C14.5287 12.0176 13.7581 13.1958 13.2172 14.0669C12.9276 14.5332 12.6421 15.0027 12.3758 15.4829C12.2011 15.7993 11.8689 15.9976 11.5074 16.0002C11.1459 16.0029 10.8111 15.8103 10.6318 15.4964C9.68252 13.8352 8.89836 13.0873 8.42654 12.757C8.13674 12.5541 7.96606 12.5072 7.92605 12.4976C7.4083 12.4597 7 12.0277 7 11.5003C7 10.948 7.44772 10.5003 8 10.5003C8.56627 10.5042 9.12266 10.803 9.57346 11.1185C10.1234 11.5035 10.767 12.1168 11.4681 13.0925C12.0322 12.1802 12.8541 10.9175 13.8458 9.58946C14.8066 8.30277 15.9391 6.93815 17.1621 5.76948C18.3748 4.61064 19.7332 3.5892 21.1521 3.06272C21.6699 2.87061 22.2454 3.13462 22.4375 3.65241Z" fill="#fff"></path>
                        </svg>
                    </div>
                </button>
            </li>
            <li role="presentation" class="nav-item">
                <button type="button" [class.active]="activeTab === 'Blood_Product'"
                    (click)="activeTab = 'Blood_Product'"
                    class="nav-link fs-8 p-2 text-wrap d-flex gap-1 justify-content-between">
                    Blood / Blood Product Reaction
                    <div class="custom_check d-flex align-items-center gap-1" [class.active]="!isBloodEmpty">
                        <svg class="check_svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink" role="img">
                        <path  d="M12.0572 1.75H12.0572H11.9428H11.9428C9.75212 1.74999 8.03144 1.74998 6.68802 1.93059C5.31137 2.11568 4.21911 2.50272 3.36091 3.36091C2.50272 4.21911 2.11568 5.31137 1.93059 6.68802C1.74998 8.03144 1.74999 9.75211 1.75 11.9428V11.9428V12.0572V12.0572C1.74999 14.2479 1.74998 15.9686 1.93059 17.312C2.11568 18.6886 2.50272 19.7809 3.36091 20.6391C4.21911 21.4973 5.31137 21.8843 6.68802 22.0694C8.03144 22.25 9.7521 22.25 11.9428 22.25H12.0572C14.2479 22.25 15.9686 22.25 17.312 22.0694C18.6886 21.8843 19.7809 21.4973 20.6391 20.6391C21.4973 19.7809 21.8843 18.6886 22.0694 17.312C22.25 15.9686 22.25 14.2479 22.25 12.0572V11.9428C22.25 9.75214 22.25 8.03144 22.0694 6.68802C21.8843 5.31137 21.4973 4.21911 20.6391 3.36091C19.7809 2.50272 18.6886 2.11568 17.312 1.93059C15.9686 1.74998 14.2479 1.74999 12.0572 1.75Z" fill="#368796"></path>
                        <path d="M22.4375 3.65241C22.6297 4.1702 22.3657 4.7457 21.8479 4.93782C20.7962 5.32801 19.6693 6.1399 18.5438 7.21544C17.4286 8.28114 16.3699 9.55194 15.4483 10.7861C14.5287 12.0176 13.7581 13.1958 13.2172 14.0669C12.9276 14.5332 12.6421 15.0027 12.3758 15.4829C12.2011 15.7993 11.8689 15.9976 11.5074 16.0002C11.1459 16.0029 10.8111 15.8103 10.6318 15.4964C9.68252 13.8352 8.89836 13.0873 8.42654 12.757C8.13674 12.5541 7.96606 12.5072 7.92605 12.4976C7.4083 12.4597 7 12.0277 7 11.5003C7 10.948 7.44772 10.5003 8 10.5003C8.56627 10.5042 9.12266 10.803 9.57346 11.1185C10.1234 11.5035 10.767 12.1168 11.4681 13.0925C12.0322 12.1802 12.8541 10.9175 13.8458 9.58946C14.8066 8.30277 15.9391 6.93815 17.1621 5.76948C18.3748 4.61064 19.7332 3.5892 21.1521 3.06272C21.6699 2.87061 22.2454 3.13462 22.4375 3.65241Z" fill="#fff"></path>
                        </svg>
                    </div>
                </button>
            </li>
            <li role="presentation" class="nav-item">
                <button type="button" [class.active]="activeTab === 'HAI'" (click)="activeTab = 'HAI'"
                    class="nav-link fs-8 p-2 text-wrap d-flex gap-1 justify-content-between">
                    Healthcare-Associated Infection (HAI)
                    <div class="custom_check d-flex align-items-center gap-1" [class.active]="!isHaiEmpty">
                        <svg class="check_svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink" role="img">
                        <path  d="M12.0572 1.75H12.0572H11.9428H11.9428C9.75212 1.74999 8.03144 1.74998 6.68802 1.93059C5.31137 2.11568 4.21911 2.50272 3.36091 3.36091C2.50272 4.21911 2.11568 5.31137 1.93059 6.68802C1.74998 8.03144 1.74999 9.75211 1.75 11.9428V11.9428V12.0572V12.0572C1.74999 14.2479 1.74998 15.9686 1.93059 17.312C2.11568 18.6886 2.50272 19.7809 3.36091 20.6391C4.21911 21.4973 5.31137 21.8843 6.68802 22.0694C8.03144 22.25 9.7521 22.25 11.9428 22.25H12.0572C14.2479 22.25 15.9686 22.25 17.312 22.0694C18.6886 21.8843 19.7809 21.4973 20.6391 20.6391C21.4973 19.7809 21.8843 18.6886 22.0694 17.312C22.25 15.9686 22.25 14.2479 22.25 12.0572V11.9428C22.25 9.75214 22.25 8.03144 22.0694 6.68802C21.8843 5.31137 21.4973 4.21911 20.6391 3.36091C19.7809 2.50272 18.6886 2.11568 17.312 1.93059C15.9686 1.74998 14.2479 1.74999 12.0572 1.75Z" fill="#368796"></path>
                        <path d="M22.4375 3.65241C22.6297 4.1702 22.3657 4.7457 21.8479 4.93782C20.7962 5.32801 19.6693 6.1399 18.5438 7.21544C17.4286 8.28114 16.3699 9.55194 15.4483 10.7861C14.5287 12.0176 13.7581 13.1958 13.2172 14.0669C12.9276 14.5332 12.6421 15.0027 12.3758 15.4829C12.2011 15.7993 11.8689 15.9976 11.5074 16.0002C11.1459 16.0029 10.8111 15.8103 10.6318 15.4964C9.68252 13.8352 8.89836 13.0873 8.42654 12.757C8.13674 12.5541 7.96606 12.5072 7.92605 12.4976C7.4083 12.4597 7 12.0277 7 11.5003C7 10.948 7.44772 10.5003 8 10.5003C8.56627 10.5042 9.12266 10.803 9.57346 11.1185C10.1234 11.5035 10.767 12.1168 11.4681 13.0925C12.0322 12.1802 12.8541 10.9175 13.8458 9.58946C14.8066 8.30277 15.9391 6.93815 17.1621 5.76948C18.3748 4.61064 19.7332 3.5892 21.1521 3.06272C21.6699 2.87061 22.2454 3.13462 22.4375 3.65241Z" fill="#fff"></path>
                        </svg>
                    </div>
                </button>
            </li>
            <li role="presentation" class="nav-item">
                <button type="button" [class.active]="activeTab === 'FoodPoisoning'"
                    (click)="activeTab = 'FoodPoisoning'"
                    class="nav-link fs-8 p-2 text-wrap d-flex gap-1 justify-content-between">
                    Reporting communicable diseases/Food Poisoning
                    <div class="custom_check d-flex align-items-center gap-1" [class.active]="!isFoodPoisoningEmpty">
                        <svg class="check_svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink" role="img">
                        <path  d="M12.0572 1.75H12.0572H11.9428H11.9428C9.75212 1.74999 8.03144 1.74998 6.68802 1.93059C5.31137 2.11568 4.21911 2.50272 3.36091 3.36091C2.50272 4.21911 2.11568 5.31137 1.93059 6.68802C1.74998 8.03144 1.74999 9.75211 1.75 11.9428V11.9428V12.0572V12.0572C1.74999 14.2479 1.74998 15.9686 1.93059 17.312C2.11568 18.6886 2.50272 19.7809 3.36091 20.6391C4.21911 21.4973 5.31137 21.8843 6.68802 22.0694C8.03144 22.25 9.7521 22.25 11.9428 22.25H12.0572C14.2479 22.25 15.9686 22.25 17.312 22.0694C18.6886 21.8843 19.7809 21.4973 20.6391 20.6391C21.4973 19.7809 21.8843 18.6886 22.0694 17.312C22.25 15.9686 22.25 14.2479 22.25 12.0572V11.9428C22.25 9.75214 22.25 8.03144 22.0694 6.68802C21.8843 5.31137 21.4973 4.21911 20.6391 3.36091C19.7809 2.50272 18.6886 2.11568 17.312 1.93059C15.9686 1.74998 14.2479 1.74999 12.0572 1.75Z" fill="#368796"></path>
                        <path d="M22.4375 3.65241C22.6297 4.1702 22.3657 4.7457 21.8479 4.93782C20.7962 5.32801 19.6693 6.1399 18.5438 7.21544C17.4286 8.28114 16.3699 9.55194 15.4483 10.7861C14.5287 12.0176 13.7581 13.1958 13.2172 14.0669C12.9276 14.5332 12.6421 15.0027 12.3758 15.4829C12.2011 15.7993 11.8689 15.9976 11.5074 16.0002C11.1459 16.0029 10.8111 15.8103 10.6318 15.4964C9.68252 13.8352 8.89836 13.0873 8.42654 12.757C8.13674 12.5541 7.96606 12.5072 7.92605 12.4976C7.4083 12.4597 7 12.0277 7 11.5003C7 10.948 7.44772 10.5003 8 10.5003C8.56627 10.5042 9.12266 10.803 9.57346 11.1185C10.1234 11.5035 10.767 12.1168 11.4681 13.0925C12.0322 12.1802 12.8541 10.9175 13.8458 9.58946C14.8066 8.30277 15.9391 6.93815 17.1621 5.76948C18.3748 4.61064 19.7332 3.5892 21.1521 3.06272C21.6699 2.87061 22.2454 3.13462 22.4375 3.65241Z" fill="#fff"></path>
                        </svg>
                    </div>
                </button>
            </li>
        </div>

        <div class="tab-content hsptl_events_content">
            <div class="tab-pane fade show active" *ngIf="activeTab === 'Pressure_Ulcer'">
                <div class="card card-style-1 rounded mt-2">
                    <div class="card-header rounded-top justify-content-between py-2 min-height-unset">
                        <h5 class="card-heading">Hospital Acquired Pressure Ulcer </h5>
                        <button class="btn btn-main-outline" (click)="addPressureUlcerRow()">Add</button>
                    </div>
                    <div class="p-2 overflow-auto d-flex flex-column gap-2"
                        style="background-color: #F5F7FA;height: calc(100vh - 24.2rem);">
                        <div class="bg-white doctor_worklist worklist_patientcard p-2 rounded shadow-sm"
                            *ngFor="let item of pressureUlcerCollection; let i = index;">
                            <div class="d-flex align-items-center gap-2 justify-content-between">
                                <div class="d-flex align-items-center gap-2">
                                    <h6 class="m-0 clr-grey text-nowrap">Event <span>{{i + 1}}</span></h6>
                                    <div class="d-flex">
                                        <mat-form-field appearance="fill" *ngIf="item.editable">
                                            <mat-label>dd-MMM-yyyy</mat-label>
                                            <input matInput (click)="DOEPicker.open()" [matDatepicker]="DOEPicker"
                                                [(ngModel)]="item.DOE" name="doe{{i}}">
                                            <mat-datepicker-toggle matSuffix [for]="DOEPicker"></mat-datepicker-toggle>
                                            <mat-datepicker #DOEPicker></mat-datepicker>
                                        </mat-form-field>
                                        <p class="fs-7 text-nowrap" *ngIf="!item.editable">{{item.DOE | date: 'dd-MMM-yyyy'}}</p>
                                    </div>
                                    <div class="d-flex align-items-center gap-1">
                                        <p class="fs-7 text-nowrap">Clinical Area :</p>
                                        <p class="color-highlight fw-semibold fs-7 text-nowrap">{{item.CLAREA}}</p>
                                    </div>
                                    
                                </div>
                                <div class="d-flex align-items-center gap-2">
                                    <div class="me-3" *ngIf="item.SavedEmpNo!=''&& !isPressureUlcerEmpty">
                                        <p class="m-0 fs-8 text-nowrap fw-bold">Saved by : {{item.SavedEmpNo}}-{{item.SavedEmpFullName}}/{{item.SavedEmpDesignation}} on {{item.Moddate}}</p>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left" *ngIf="item.HAEPUID"
                                        (click)="item.editable = !item.editable">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 18 17"
                                            fill="none">
                                            <path
                                                d="M3.16669 13.5024H6.70002C6.80969 13.503 6.91841 13.482 7.01994 13.4406C7.12147 13.3991 7.21382 13.338 7.29169 13.2607L13.0584 7.48574L15.425 5.16908C15.5031 5.09161 15.5651 4.99944 15.6074 4.89789C15.6497 4.79634 15.6715 4.68742 15.6715 4.57741C15.6715 4.4674 15.6497 4.35848 15.6074 4.25693C15.5651 4.15538 15.5031 4.06321 15.425 3.98574L11.8917 0.410744C11.8142 0.332637 11.7221 0.270642 11.6205 0.228335C11.519 0.186027 11.41 0.164246 11.3 0.164246C11.19 0.164246 11.0811 0.186027 10.9795 0.228335C10.878 0.270642 10.7858 0.332637 10.7084 0.410744L8.35835 2.76908L2.57502 8.54408C2.49779 8.62195 2.43668 8.71429 2.39521 8.81582C2.35374 8.91735 2.33272 9.02607 2.33335 9.13575V12.6691C2.33335 12.8901 2.42115 13.1021 2.57743 13.2583C2.73371 13.4146 2.94567 13.5024 3.16669 13.5024ZM11.3 2.17741L13.6584 4.53574L12.475 5.71908L10.1167 3.36074L11.3 2.17741ZM4.00002 9.47741L8.94169 4.53574L11.3 6.89408L6.35835 11.8357H4.00002V9.47741ZM16.5 15.1691H1.50002C1.27901 15.1691 1.06705 15.2569 0.910765 15.4132C0.754484 15.5694 0.666687 15.7814 0.666687 16.0024C0.666687 16.2234 0.754484 16.4354 0.910765 16.5917C1.06705 16.7479 1.27901 16.8357 1.50002 16.8357H16.5C16.721 16.8357 16.933 16.7479 17.0893 16.5917C17.2456 16.4354 17.3334 16.2234 17.3334 16.0024C17.3334 15.7814 17.2456 15.5694 17.0893 15.4132C16.933 15.2569 16.721 15.1691 16.5 15.1691Z"
                                                fill="#FFAD0E" />
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Modify</p>
                                        </div>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        (click)="removeItem(item)">
                                        <svg width="20" height="20" viewBox="0 0 23 22" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z"
                                                fill="#EB6247"></path>
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Delete</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-3">
                                <div class="row mx-0 gx-2">
                                    <div class="col-9 border rounded p-0">
                                        <h6
                                            class="clr-primary-600 m-0 fs-5 p-2 pb-0 fw-semibold bg-primary-20 rounded-top">
                                            Ulcer Location</h6>
                                        <div class="row mx-0 gx-0">
                                            <div class="col-4">
                                                <div class="p-2 h-100">
                                                    <div class="d-flex align-items-center gap-2">
                                                        <svg width="25" height="15" viewBox="0 0 20 11" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M19.9209 4.70887C19.8733 4.58612 19.8019 4.47397 19.7109 4.37887L17.2109 1.87887C17.0226 1.69056 16.7672 1.58478 16.5009 1.58478C16.2346 1.58478 15.9792 1.69056 15.7909 1.87887C15.6026 2.06717 15.4968 2.32257 15.4968 2.58887C15.4968 2.85517 15.6026 3.11056 15.7909 3.29887L16.5909 4.08887H14.0009C13.7357 4.08887 13.4813 4.19422 13.2938 4.38176C13.1062 4.5693 13.0009 4.82365 13.0009 5.08887C13.0009 5.35408 13.1062 5.60844 13.2938 5.79597C13.4813 5.98351 13.7357 6.08887 14.0009 6.08887H16.5909L15.7909 6.87887C15.6971 6.97183 15.6227 7.08243 15.572 7.20429C15.5212 7.32615 15.4951 7.45686 15.4951 7.58887C15.4951 7.72088 15.5212 7.85158 15.572 7.97344C15.6227 8.0953 15.6971 8.2059 15.7909 8.29887C15.8838 8.3926 15.9944 8.46699 16.1163 8.51776C16.2382 8.56853 16.3689 8.59467 16.5009 8.59467C16.6329 8.59467 16.7636 8.56853 16.8855 8.51776C17.0073 8.46699 17.1179 8.3926 17.2109 8.29887L19.7109 5.79887C19.8019 5.70376 19.8733 5.59162 19.9209 5.46887C20.0209 5.22541 20.0209 4.95233 19.9209 4.70887ZM6.00087 4.08887H3.41087L4.21087 3.29887C4.39918 3.11056 4.50496 2.85517 4.50496 2.58887C4.50496 2.32257 4.39918 2.06717 4.21087 1.87887C4.02257 1.69056 3.76717 1.58478 3.50087 1.58478C3.23457 1.58478 2.97918 1.69056 2.79087 1.87887L0.290873 4.37887C0.199832 4.47397 0.128467 4.58612 0.0808729 4.70887C-0.0191451 4.95233 -0.0191451 5.22541 0.0808729 5.46887C0.128467 5.59162 0.199832 5.70376 0.290873 5.79887L2.79087 8.29887C2.88384 8.3926 2.99444 8.46699 3.1163 8.51776C3.23816 8.56853 3.36886 8.59467 3.50087 8.59467C3.63288 8.59467 3.76359 8.56853 3.88545 8.51776C4.00731 8.46699 4.11791 8.3926 4.21087 8.29887C4.3046 8.2059 4.379 8.0953 4.42976 7.97344C4.48053 7.85158 4.50667 7.72088 4.50667 7.58887C4.50667 7.45686 4.48053 7.32615 4.42976 7.20429C4.379 7.08243 4.3046 6.97183 4.21087 6.87887L3.41087 6.08887H6.00087C6.26609 6.08887 6.52044 5.98351 6.70798 5.79597C6.89552 5.60844 7.00087 5.35408 7.00087 5.08887C7.00087 4.82365 6.89552 4.5693 6.70798 4.38176C6.52044 4.19422 6.26609 4.08887 6.00087 4.08887ZM10.0009 0.0888672C9.73566 0.0888672 9.4813 0.194224 9.29377 0.381761C9.10623 0.569297 9.00087 0.823651 9.00087 1.08887V9.08887C9.00087 9.35408 9.10623 9.60844 9.29377 9.79597C9.4813 9.98351 9.73566 10.0889 10.0009 10.0889C10.2661 10.0889 10.5204 9.98351 10.708 9.79597C10.8955 9.60844 11.0009 9.35408 11.0009 9.08887V1.08887C11.0009 0.823651 10.8955 0.569297 10.708 0.381761C10.5204 0.194224 10.2661 0.0888672 10.0009 0.0888672Z"
                                                                fill="#368796" />
                                                        </svg>
                                                        <h6 class="clr-grey m-0 fs-6 mb-1">Midline</h6>
                                                    </div>
                                                    <div class="mt-1">
                                                        <mat-form-field class="w-100" appearance="outline"
                                                            *ngIf="item.editable">
                                                            <input type="text" matInput [matAutocomplete]="midline" />
                                                            <mat-autocomplete #midline="matAutocomplete">
                                                                <mat-option *ngFor="let option of item.midlineData"
                                                                    [value]="option.ItemName">
                                                                    <div
                                                                        (click)="midlineOptionClicked($event, option, item)">
                                                                        <mat-checkbox [checked]="option.selected"
                                                                            (change)="midlineOptionSelection(option, item)"
                                                                            (click)="$event.stopPropagation()">
                                                                            {{ option.ItemName }}
                                                                        </mat-checkbox>
                                                                    </div>
                                                                </mat-option>
                                                            </mat-autocomplete>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="select_tags row align-items-center g-2">
                                                        <div class="col-6" *ngFor="let subItem of item.MID">
                                                            <p class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                                [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                                >
                                                                {{subItem.ItemName}}
                                                                <span class="cursor-pointer" *ngIf="item.editable"
                                                                    (click)="removeMidlineOption(subItem, item)">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16"
                                                                        height="16" viewBox="0 0 24 24" fill="none"
                                                                        class="injected-svg" data-src=""
                                                                        xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                        role="img" color="#000000">
                                                                        <path
                                                                            d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                            stroke="#000000" stroke-width="1.5"
                                                                            stroke-linecap="round" stroke-linejoin="round">
                                                                        </path>
                                                                        <path d="M14.9994 15L9 9M9.00064 15L15 9"
                                                                            stroke="#000000" stroke-width="1.5"
                                                                            stroke-linecap="round" stroke-linejoin="round">
                                                                        </path>
                                                                    </svg>
                                                                </span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-4">
                                                <div class="p-2 h-100">
                                                    <div class="d-flex align-items-center gap-2">
                                                        <svg width="25" height="15" viewBox="0 0 18 19" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M16.5 18.0889V0.0888672H18V18.0889H16.5ZM0 2.33887C0 2.13995 0.0790178 1.94919 0.21967 1.80854C0.360322 1.66788 0.551088 1.58887 0.75 1.58887H14.25C14.4489 1.58887 14.6397 1.66788 14.7803 1.80854C14.921 1.94919 15 2.13995 15 2.33887V6.83887C15 7.03778 14.921 7.22854 14.7803 7.3692C14.6397 7.50985 14.4489 7.58887 14.25 7.58887H0.75C0.551088 7.58887 0.360322 7.50985 0.21967 7.3692C0.0790178 7.22854 0 7.03778 0 6.83887V2.33887ZM3 11.3389C3 11.14 3.07902 10.9492 3.21967 10.8085C3.36032 10.6679 3.55109 10.5889 3.75 10.5889H14.25C14.4489 10.5889 14.6397 10.6679 14.7803 10.8085C14.921 10.9492 15 11.14 15 11.3389V15.8389C15 16.0378 14.921 16.2285 14.7803 16.3692C14.6397 16.5098 14.4489 16.5889 14.25 16.5889H3.75C3.55109 16.5889 3.36032 16.5098 3.21967 16.3692C3.07902 16.2285 3 16.0378 3 15.8389V11.3389Z"
                                                                fill="#368796" />
                                                        </svg>
                                                        <h6 class="clr-grey m-0 fs-6 mb-1">Right Side</h6>
                                                    </div>
                                                    <div class="mt-1">
                                                        <mat-form-field class="w-100" appearance="outline"
                                                            *ngIf="item.editable">
                                                            <input type="text" matInput [matAutocomplete]="uright" />
                                                            <mat-autocomplete #uright="matAutocomplete">
                                                                <mat-option *ngFor="let option of item.rightSideData"
                                                                    [value]="option.ItemName">
                                                                    <div
                                                                        (click)="urightOptionClicked($event, option, item)">
                                                                        <mat-checkbox [checked]="option.selected"
                                                                            (change)="urightOptionSelection(option, item)"
                                                                            (click)="$event.stopPropagation()">
                                                                            {{ option.ItemName }}
                                                                        </mat-checkbox>
                                                                    </div>
                                                                </mat-option>
                                                            </mat-autocomplete>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="select_tags row align-items-center g-2">
                                                        <div class="col-6" *ngFor="let subItem of item.URIGHT">
                                                            <p class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                                [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                                >
                                                                {{subItem.ItemName}}
                                                                <span class="cursor-pointer" *ngIf="item.editable"
                                                                    (click)="removeURightOption(subItem, item)">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16"
                                                                        height="16" viewBox="0 0 24 24" fill="none"
                                                                        class="injected-svg" data-src=""
                                                                        xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                        role="img" color="#000000">
                                                                        <path
                                                                            d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                            stroke="#000000" stroke-width="1.5"
                                                                            stroke-linecap="round" stroke-linejoin="round">
                                                                        </path>
                                                                        <path d="M14.9994 15L9 9M9.00064 15L15 9"
                                                                            stroke="#000000" stroke-width="1.5"
                                                                            stroke-linecap="round" stroke-linejoin="round">
                                                                        </path>
                                                                    </svg>
                                                                </span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-4">
                                                <div class="p-2 h-100">
                                                    <div class="d-flex align-items-center gap-2">
                                                        <svg width="25" height="15" viewBox="0 0 18 19" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M0 18.0889V0.0888672H1.5V18.0889H0ZM3 2.33887C3 2.13995 3.07902 1.94919 3.21967 1.80854C3.36032 1.66788 3.55109 1.58887 3.75 1.58887H17.25C17.4489 1.58887 17.6397 1.66788 17.7803 1.80854C17.921 1.94919 18 2.13995 18 2.33887V6.83887C18 7.03778 17.921 7.22854 17.7803 7.3692C17.6397 7.50985 17.4489 7.58887 17.25 7.58887H3.75C3.55109 7.58887 3.36032 7.50985 3.21967 7.3692C3.07902 7.22854 3 7.03778 3 6.83887V2.33887ZM3 11.3389C3 11.14 3.07902 10.9492 3.21967 10.8085C3.36032 10.6679 3.55109 10.5889 3.75 10.5889H14.25C14.4489 10.5889 14.6397 10.6679 14.7803 10.8085C14.921 10.9492 15 11.14 15 11.3389V15.8389C15 16.0378 14.921 16.2285 14.7803 16.3692C14.6397 16.5098 14.4489 16.5889 14.25 16.5889H3.75C3.55109 16.5889 3.36032 16.5098 3.21967 16.3692C3.07902 16.2285 3 16.0378 3 15.8389V11.3389Z"
                                                                fill="#368796" />
                                                        </svg>
                                                        <h6 class="clr-grey m-0 fs-6 mb-1">Left side</h6>
                                                    </div>
                                                    <div class="mt-1">
                                                        <mat-form-field class="w-100" appearance="outline"
                                                            *ngIf="item.editable">
                                                            <input type="text" matInput [matAutocomplete]="uleft" />
                                                            <mat-autocomplete #uleft="matAutocomplete">
                                                                <mat-option *ngFor="let option of item.leftSideData"
                                                                    [value]="option.ItemName">
                                                                    <div
                                                                        (click)="uleftOptionClicked($event, option, item)">
                                                                        <mat-checkbox [checked]="option.selected"
                                                                            (change)="uleftOptionSelection(option, item)"
                                                                            (click)="$event.stopPropagation()">
                                                                            {{ option.ItemName }}
                                                                        </mat-checkbox>
                                                                    </div>
                                                                </mat-option>
                                                            </mat-autocomplete>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="select_tags row align-items-center g-2">
                                                        <div class="col-6" *ngFor="let subItem of item.ULEFT">
                                                            <p class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                                [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                                >
                                                                {{subItem.ItemName}}
                                                                <span class="cursor-pointer" *ngIf="item.editable"
                                                                    (click)="removeULeftOption(subItem, item)">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16"
                                                                        height="16" viewBox="0 0 24 24" fill="none"
                                                                        class="injected-svg" data-src=""
                                                                        xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                        role="img" color="#000000">
                                                                        <path
                                                                            d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                            stroke="#000000" stroke-width="1.5"
                                                                            stroke-linecap="round" stroke-linejoin="round">
                                                                        </path>
                                                                        <path d="M14.9994 15L9 9M9.00064 15L15 9"
                                                                            stroke="#000000" stroke-width="1.5"
                                                                            stroke-linecap="round" stroke-linejoin="round">
                                                                        </path>
                                                                    </svg>
                                                                </span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="border rounded h-100">
                                            <h6 class="clr-primary-600 m-0 fs-5 p-2 pb-0 fw-semibold bg-primary-20 rounded-top">
                                                <br/>
                                            </h6>
                                            <div class="p-2">
                                                <div class="d-flex align-items-center gap-2">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="20"
                                                        viewBox="0 0 24 24" fill="none" class="injected-svg"
                                                        data-src="https://cdn.hugeicons.com/icons/file-01-twotone-rounded.svg?v=3.0"
                                                        xmlns:xlink="http://www.w3.org/1999/xlink" role="img"
                                                        color="#000000">
                                                        <path opacity="1" d="M8 7L16 7" stroke="#368796"
                                                            stroke-width="1.5" stroke-linecap="round"
                                                            stroke-linejoin="round"></path>
                                                        <path opacity="1" d="M8 11L12 11" stroke="#368796"
                                                            stroke-width="1.5" stroke-linecap="round"
                                                            stroke-linejoin="round"></path>
                                                        <path
                                                            d="M13 21.5V21C13 18.1716 13 16.7574 13.8787 15.8787C14.7574 15 16.1716 15 19 15H19.5M20 13.3431V10C20 6.22876 20 4.34315 18.8284 3.17157C17.6569 2 15.7712 2 12 2C8.22877 2 6.34315 2 5.17157 3.17157C4 4.34314 4 6.22876 4 10L4 14.5442C4 17.7892 4 19.4117 4.88607 20.5107C5.06508 20.7327 5.26731 20.9349 5.48933 21.1139C6.58831 22 8.21082 22 11.4558 22C12.1614 22 12.5141 22 12.8372 21.886C12.9044 21.8623 12.9702 21.835 13.0345 21.8043C13.3436 21.6564 13.593 21.407 14.0919 20.9081L18.8284 16.1716C19.4065 15.5935 19.6955 15.3045 19.8478 14.9369C20 14.5694 20 14.1606 20 13.3431Z"
                                                            stroke="#368796" stroke-width="1.5" stroke-linecap="round"
                                                            stroke-linejoin="round"></path>
                                                    </svg>
                                                    <h6 class="clr-grey m-0 fs-6 mb-1">Grade</h6>
                                                </div>
                                                <div class="mt-1">
                                                    <mat-form-field class="w-100" appearance="outline"
                                                        *ngIf="item.editable">
                                                        <input type="text" matInput [matAutocomplete]="grade" />
                                                        <mat-autocomplete #grade="matAutocomplete">
                                                            <mat-option *ngFor="let option of item.gradeData"
                                                                [value]="option.ItemName">
                                                                <div (click)="gradeOptionClicked($event, option, item)">
                                                                    <mat-checkbox [checked]="option.selected"
                                                                        (change)="gradeOptionSelection(option, item)"
                                                                        (click)="$event.stopPropagation()">
                                                                        {{ option.ItemName }}
                                                                    </mat-checkbox>
                                                                </div>
                                                            </mat-option>
                                                        </mat-autocomplete>
                                                    </mat-form-field>
                                                </div>
                                                <div class="select_tags row align-items-center g-2">
                                                    <div class="col-6" *ngFor="let subItem of item.GRADE">
                                                        <p class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                            [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                            >
                                                            {{subItem.ItemName}}
                                                            <span class="cursor-pointer" *ngIf="item.editable"
                                                                (click)="removeGradeOption(subItem, item)">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16"
                                                                    height="16" viewBox="0 0 24 24" fill="none"
                                                                    class="injected-svg" data-src=""
                                                                    xmlns:xlink="http://www.w3.org/1999/xlink" role="img"
                                                                    color="#000000">
                                                                    <path
                                                                        d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                        stroke="#000000" stroke-width="1.5"
                                                                        stroke-linecap="round" stroke-linejoin="round">
                                                                    </path>
                                                                    <path d="M14.9994 15L9 9M9.00064 15L15 9"
                                                                        stroke="#000000" stroke-width="1.5"
                                                                        stroke-linecap="round" stroke-linejoin="round">
                                                                    </path>
                                                                </svg>
                                                            </span>
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3" [ngClass]="{'border p-2 rounded': !item.editable, 'border-0 p-0 rounded-0': item.editable}">
                                    <h6 class="m-0 clr-grey text-nowrap">Remarks</h6>
                                    <span
                                        class="textarea_box_single bg-transparent p-2 rounded-2 d-block w-100"
                                        [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                        [attr.contenteditable]="item.editable ? 'true' : 'false'" [(ngModel)]="item.RMK"
                                        contenteditableModel></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade show active" *ngIf="activeTab === 'Falls'">
                <div class="card card-style-1 rounded mt-2">
                    <div class="card-header rounded-top justify-content-between py-2 min-height-unset">
                        <h5 class="card-heading">Falls in hospitalized patients </h5>
                        <button class="btn btn-main-outline" (click)="addFallRow()">Add</button>

                    </div>
                    <div class="p-2 overflow-auto d-flex flex-column gap-2"
                        style="background-color: #F5F7FA;height: calc(100vh - 24.2rem);">
                        <div class="bg-white doctor_worklist worklist_patientcard p-2 rounded shadow-sm position-relative"
                            *ngFor="let item of fallCollection; let i = index;">
                            <div class="d-flex align-items-center justify-content-between gap-2">
                                <div class="d-flex align-items-center gap-2">
                                    <h6 class="m-0 clr-grey text-nowrap">Event <span>{{i + 1}}</span></h6>
                                    <div class="d-flex w-max-content">
                                        <mat-form-field appearance="fill" *ngIf="item.editable">
                                            <mat-label>dd-MMM-yyyy</mat-label>
                                            <input matInput (click)="DOEPicker.open()" [matDatepicker]="DOEPicker"
                                                [(ngModel)]="item.DOE" name="doe{{i}}">
                                            <mat-datepicker-toggle matSuffix [for]="DOEPicker"></mat-datepicker-toggle>
                                            <mat-datepicker #DOEPicker></mat-datepicker>
                                        </mat-form-field>
                                        <p class="fs-7 text-nowrap" *ngIf="!item.editable">{{item.DOE | date: 'dd-MMM-yyyy'}}</p>
                                    </div>
                                </div>
                                
                                <div class="d-flex align-items-center gap-2">
                                    <div class="me-3" *ngIf="item.SavedEmpNo!=''&& !isFallEmpty">
                                        <p class="m-0 fs-8 text-nowrap fw-bold">Saved by : {{item.SavedEmpNo}}-{{item.SavedEmpFullName}}/{{item.SavedEmpDesignation}} on {{item.Moddate}}</p>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        *ngIf="item.HAEFALLID" (click)="item.editable = !item.editable">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23"
                                            viewBox="0 0 18 17" fill="none">
                                            <path
                                                d="M3.16669 13.5024H6.70002C6.80969 13.503 6.91841 13.482 7.01994 13.4406C7.12147 13.3991 7.21382 13.338 7.29169 13.2607L13.0584 7.48574L15.425 5.16908C15.5031 5.09161 15.5651 4.99944 15.6074 4.89789C15.6497 4.79634 15.6715 4.68742 15.6715 4.57741C15.6715 4.4674 15.6497 4.35848 15.6074 4.25693C15.5651 4.15538 15.5031 4.06321 15.425 3.98574L11.8917 0.410744C11.8142 0.332637 11.7221 0.270642 11.6205 0.228335C11.519 0.186027 11.41 0.164246 11.3 0.164246C11.19 0.164246 11.0811 0.186027 10.9795 0.228335C10.878 0.270642 10.7858 0.332637 10.7084 0.410744L8.35835 2.76908L2.57502 8.54408C2.49779 8.62195 2.43668 8.71429 2.39521 8.81582C2.35374 8.91735 2.33272 9.02607 2.33335 9.13575V12.6691C2.33335 12.8901 2.42115 13.1021 2.57743 13.2583C2.73371 13.4146 2.94567 13.5024 3.16669 13.5024ZM11.3 2.17741L13.6584 4.53574L12.475 5.71908L10.1167 3.36074L11.3 2.17741ZM4.00002 9.47741L8.94169 4.53574L11.3 6.89408L6.35835 11.8357H4.00002V9.47741ZM16.5 15.1691H1.50002C1.27901 15.1691 1.06705 15.2569 0.910765 15.4132C0.754484 15.5694 0.666687 15.7814 0.666687 16.0024C0.666687 16.2234 0.754484 16.4354 0.910765 16.5917C1.06705 16.7479 1.27901 16.8357 1.50002 16.8357H16.5C16.721 16.8357 16.933 16.7479 17.0893 16.5917C17.2456 16.4354 17.3334 16.2234 17.3334 16.0024C17.3334 15.7814 17.2456 15.5694 17.0893 15.4132C16.933 15.2569 16.721 15.1691 16.5 15.1691Z"
                                                fill="#FFAD0E" />
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Modify</p>
                                        </div>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        (click)="removeItem(item)">
                                        <svg width="20" height="20" viewBox="0 0 23 22" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z"
                                                fill="#EB6247"></path>
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Delete</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mx-0 gx-0">
                                <div class="col-3">
                                    <div class="d-flex flex-column gap-1 p-2 pe-3 border-end h-100">
                                        <div class="d-flex align-items-center gap-3 mt-2">
                                            <div class="d-flex gap-1 flex-column">
                                                <p class="fs-7 text-nowrap">Clinical Area :</p>
                                                <p class="color-highlight fw-semibold fs-7 text-nowrap">{{item.CLAREA}}
                                                </p>
                                            </div>
                                            <div class="d-flex gap-1 flex-column">
                                                <label for="" class="form-label text-nowrap m-0">Injuries
                                                    Sustained</label>
                                                <div class="clinical_toggle toggle__switch switch-sm d-inline-flex align-self-start"
                                                    [class.disabled]="!item.editable">
                                                    <button *ngFor="let subItem of injuriesData" class="btn"
                                                        (click)="item.INJSUST = subItem.HospitalAcquiredEventID"
                                                        [class.selected]="item.INJSUST === subItem.HospitalAcquiredEventID">{{subItem.ItemName}}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 border-end h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Fall Type</h6>
                                        <div class="mt-1">
                                            <mat-form-field class="w-100" appearance="outline" *ngIf="item.editable">
                                                <input type="text" matInput [matAutocomplete]="falltype" />
                                                <mat-autocomplete #falltype="matAutocomplete">
                                                    <mat-option *ngFor="let option of item.fallTypeData"
                                                        [value]="option.ItemName">
                                                        <div (click)="fallTypeOptionClicked($event, option, item)">
                                                            <mat-checkbox [checked]="option.selected"
                                                                (change)="fallTypeOptionSelection(option, item)"
                                                                (click)="$event.stopPropagation()">
                                                                {{ option.ItemName }}
                                                            </mat-checkbox>
                                                        </div>
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="select_tags row align-items-start g-2">
                                            <div class="col-6" *ngFor="let subItem of item.FTYPE">
                                                <ng-container>
                                                    <p
                                                        class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                            [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                        >
                                                        {{subItem.ItemName}}
                                                        <span class="cursor-pointer" *ngIf="item.editable"
                                                            (click)="removeFallTypeOption(subItem, item)">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                                viewBox="0 0 24 24" fill="none" class="injected-svg"
                                                                data-src="" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                role="img" color="#000000">
                                                                <path
                                                                    d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                    stroke="#000000" stroke-width="1.5"
                                                                    stroke-linecap="round" stroke-linejoin="round">
                                                                </path>
                                                                <path d="M14.9994 15L9 9M9.00064 15L15 9" stroke="#000000"
                                                                    stroke-width="1.5" stroke-linecap="round"
                                                                    stroke-linejoin="round">
                                                                </path>
                                                            </svg>
                                                        </span>
                                                    </p>
                                                    <span *ngIf="isFTYPEOtherSelected(subItem, item)"
                                                        class="textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 mt-2"
                                                        [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                                        [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                                        [(ngModel)]="item.FTYPE_OTHER_TEXT" contenteditableModel></span>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 d-flex flex-column gap-1 border-end h-100">
                                        <h6 class="m-0 clr-grey text-nowrap m-0">Injury specification</h6>
                                        <span
                                            class="textarea_box_single bg-white p-2 rounded-2 d-block w-100 min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.INJSPEC" contenteditableModel></span>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 d-flex flex-column gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap m-0">Remarks</h6>
                                        <span
                                            class="textarea_box_single bg-white p-2 rounded-2 d-block w-100 min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.RMK" contenteditableModel></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade show active" *ngIf="activeTab === 'VTE'">
                <div class="card card-style-1 rounded mt-2">
                    <div class="card-header rounded-top justify-content-between py-2 min-height-unset">
                        <h5 class="card-heading">Venous thromboembolism (VTE)</h5>
                        <button class="btn btn-main-outline" (click)="addVteRow()">Add</button>
                    </div>
                    <div class="p-2 overflow-auto d-flex flex-column gap-2"
                        style="background-color: #F5F7FA;height: calc(100vh - 24.2rem);">
                        <div class="bg-white doctor_worklist worklist_patientcard p-2 rounded shadow-sm" *ngFor="let item of vteCollection; let i = index;">
                            <div class="d-flex align-items-center justify-content-between gap-2">
                                <div class="d-flex align-items-center gap-2">
                                    <h6 class="m-0 clr-grey text-nowrap">Event <span>{{i + 1}}</span></h6>
                                    <div class="d-flex">
                                        <mat-form-field appearance="fill" *ngIf="item.editable">
                                            <mat-label>dd-MMM-yyyy</mat-label>
                                            <input matInput (click)="DOEPicker.open()" [matDatepicker]="DOEPicker"
                                                [(ngModel)]="item.DOE" name="doe{{i}}">
                                            <mat-datepicker-toggle matSuffix [for]="DOEPicker"></mat-datepicker-toggle>
                                            <mat-datepicker #DOEPicker></mat-datepicker>
                                        </mat-form-field>
                                        <p class="fs-7 text-nowrap" *ngIf="!item.editable">{{item.DOE | date: 'dd-MMM-yyyy'}}</p>
                                    </div>
                                </div>

                                

                                <div class="d-flex align-items-center gap-2">
                                    <div class="me-3" *ngIf="item.SavedEmpNo!=''&& !isVteEmpty">
                                        <p class="m-0 fs-8 text-nowrap fw-bold">Saved by : {{item.SavedEmpNo}}-{{item.SavedEmpFullName}}/{{item.SavedEmpDesignation}} on {{item.Moddate}}</p>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left" *ngIf="item.HAEVTEID"
                                        (click)="item.editable = !item.editable">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23"
                                            viewBox="0 0 18 17" fill="none">
                                            <path
                                                d="M3.16669 13.5024H6.70002C6.80969 13.503 6.91841 13.482 7.01994 13.4406C7.12147 13.3991 7.21382 13.338 7.29169 13.2607L13.0584 7.48574L15.425 5.16908C15.5031 5.09161 15.5651 4.99944 15.6074 4.89789C15.6497 4.79634 15.6715 4.68742 15.6715 4.57741C15.6715 4.4674 15.6497 4.35848 15.6074 4.25693C15.5651 4.15538 15.5031 4.06321 15.425 3.98574L11.8917 0.410744C11.8142 0.332637 11.7221 0.270642 11.6205 0.228335C11.519 0.186027 11.41 0.164246 11.3 0.164246C11.19 0.164246 11.0811 0.186027 10.9795 0.228335C10.878 0.270642 10.7858 0.332637 10.7084 0.410744L8.35835 2.76908L2.57502 8.54408C2.49779 8.62195 2.43668 8.71429 2.39521 8.81582C2.35374 8.91735 2.33272 9.02607 2.33335 9.13575V12.6691C2.33335 12.8901 2.42115 13.1021 2.57743 13.2583C2.73371 13.4146 2.94567 13.5024 3.16669 13.5024ZM11.3 2.17741L13.6584 4.53574L12.475 5.71908L10.1167 3.36074L11.3 2.17741ZM4.00002 9.47741L8.94169 4.53574L11.3 6.89408L6.35835 11.8357H4.00002V9.47741ZM16.5 15.1691H1.50002C1.27901 15.1691 1.06705 15.2569 0.910765 15.4132C0.754484 15.5694 0.666687 15.7814 0.666687 16.0024C0.666687 16.2234 0.754484 16.4354 0.910765 16.5917C1.06705 16.7479 1.27901 16.8357 1.50002 16.8357H16.5C16.721 16.8357 16.933 16.7479 17.0893 16.5917C17.2456 16.4354 17.3334 16.2234 17.3334 16.0024C17.3334 15.7814 17.2456 15.5694 17.0893 15.4132C16.933 15.2569 16.721 15.1691 16.5 15.1691Z"
                                                fill="#FFAD0E" />
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Modify</p>
                                        </div>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        (click)="removeItem(item)">
                                        <svg width="20" height="20" viewBox="0 0 23 22" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z"
                                                fill="#EB6247"></path>
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Delete</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mx-0 gx-0">
                                <div class="col-3">
                                    <div class="d-flex flex-column gap-1 p-2 pe-3 border-end h-100 pt-3">
                                        <p class="fs-7 text-nowrap">Clinical Area :</p>
                                        <p class="color-highlight fw-semibold fs-7 text-nowrap">{{item.CLAREA}}</p>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 border-end h-100">
                                        <div class="d-flex align-items-center gap-2">
                                            <h6 class="clr-grey m-0 fs-6 mb-2">VTE Type</h6>
                                        </div>
                                        <div class="mt-1">
                                            <mat-form-field class="w-100" appearance="outline" *ngIf="item.editable">
                                                <input type="text" matInput [matAutocomplete]="vteType" />
                                                <mat-autocomplete #vteType="matAutocomplete">
                                                    <mat-option *ngFor="let option of item.vteTypeData"
                                                        [value]="option.ItemName">
                                                        <div (click)="VTETypeOptionClicked($event, option, item)">
                                                            <mat-checkbox [checked]="option.selected"
                                                                (change)="VTETypeOptionSelection(option, item)"
                                                                (click)="$event.stopPropagation()">
                                                                {{ option.ItemName }}
                                                            </mat-checkbox>
                                                        </div>
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>

                                        <div class="select_tags row align-items-center g-2">
                                            <div class="col-6" *ngFor="let subItem of item.VTETYPE">
                                                <p class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                    [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                    >
                                                    {{subItem.ItemName}}
                                                    <span class="cursor-pointer" *ngIf="item.editable"
                                                        (click)="removeVTETypeOption(subItem, item)">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                            viewBox="0 0 24 24" fill="none" class="injected-svg" data-src=""
                                                            xmlns:xlink="http://www.w3.org/1999/xlink" role="img"
                                                            color="#000000">
                                                            <path
                                                                d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                stroke="#000000" stroke-width="1.5" stroke-linecap="round"
                                                                stroke-linejoin="round"></path>
                                                            <path d="M14.9994 15L9 9M9.00064 15L15 9" stroke="#000000"
                                                                stroke-width="1.5" stroke-linecap="round"
                                                                stroke-linejoin="round"></path>
                                                        </svg>
                                                    </span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 border-end h-100">
                                        <div class="d-flex align-items-center gap-2">
                                            <h6 class="clr-grey m-0 fs-6 mb-2">Confirmed by</h6>
                                        </div>
                                        <div class="mt-1">
                                            <mat-form-field class="w-100" appearance="outline" *ngIf="item.editable">
                                                <input type="text" matInput [matAutocomplete]="confirmedBy" />
                                                <mat-autocomplete #confirmedBy="matAutocomplete">
                                                    <mat-option *ngFor="let option of item.confirmedByData"
                                                        [value]="option.ItemName">
                                                        <div (click)="confirmedByOptionClicked($event, option, item)">
                                                            <mat-checkbox [checked]="option.selected"
                                                                (change)="confirmedByOptionSelection(option, item)"
                                                                (click)="$event.stopPropagation()">
                                                                {{ option.ItemName }}
                                                            </mat-checkbox>
                                                        </div>
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="select_tags row align-items-center g-2">
                                            <div class="col-6" *ngFor="let subItem of item.CONFIRMEDBY">
                                                <ng-container>
                                                    <p
                                                        class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                            [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                        >
                                                        {{subItem.ItemName}}
                                                        <span class="cursor-pointer" *ngIf="item.editable"
                                                            (click)="removeConfirmedOption(subItem, item)">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                                viewBox="0 0 24 24" fill="none" class="injected-svg"
                                                                data-src="" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                role="img" color="#000000">
                                                                <path
                                                                    d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                    stroke="#000000" stroke-width="1.5"
                                                                    stroke-linecap="round" stroke-linejoin="round"></path>
                                                                <path d="M14.9994 15L9 9M9.00064 15L15 9" stroke="#000000"
                                                                    stroke-width="1.5" stroke-linecap="round"
                                                                    stroke-linejoin="round"></path>
                                                            </svg>
                                                        </span>
                                                    </p>
                                                    <span *ngIf="isCONFIRMEDBYOtherSelected(subItem, item)"
                                                        class="mt-2 textarea_box_single bg-white p-2 rounded-2 d-block w-100"
                                                        [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                                        [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                                        [(ngModel)]="item.CONFIRMEDBY_OTHER_TEXT"
                                                        contenteditableModel></span>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 d-flex flex-column gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Remarks</h6>
                                        <span
                                            class="textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.RMK" contenteditableModel></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade show active" *ngIf="activeTab === 'ADR'">
                <div class="card card-style-1 rounded mt-2">
                    <div class="card-header rounded-top justify-content-between py-2 min-height-unset">
                        <h5 class="card-heading">Adverse Drug Reaction (ADR) </h5>
                        <button class="btn btn-main-outline ms-3" (click)="addAdrRow()">Add</button>
                    </div>
                    <div class="p-2 overflow-auto d-flex flex-column gap-2"
                        style="background-color: #F5F7FA;height: calc(100vh - 24.2rem);">
                        <div class="bg-white doctor_worklist worklist_patientcard p-2 rounded shadow-sm" *ngFor="let item of adrCollection; let i = index;">
                            <div class="d-flex align-items-center justify-content-between gap-2">
                                <div class="d-flex align-items-center gap-2">
                                    <h6 class="m-0 clr-grey text-nowrap">Event {{i+1}}</h6>
                                    <div class="d-flex">
                                        <mat-form-field appearance="fill" *ngIf="item.editable">
                                            <mat-label>dd-MMM-yyyy</mat-label>
                                            <input matInput (click)="DOEPicker.open()" [matDatepicker]="DOEPicker"
                                                [(ngModel)]="item.DOE" name="doe{{i}}">
                                            <mat-datepicker-toggle matSuffix [for]="DOEPicker"></mat-datepicker-toggle>
                                            <mat-datepicker #DOEPicker></mat-datepicker>
                                        </mat-form-field>
                                        <p class="fs-7 text-nowrap" *ngIf="!item.editable">{{item.DOE | date: 'dd-MMM-yyyy'}}</p>
                                    </div>
                                </div>
                               
                                <div class="d-flex align-items-center gap-2">
                                     <div class="me-3" *ngIf="item.SavedEmpNo!=''&& !isAdrEmpty">
                                        <p class="m-0 fs-8 text-nowrap fw-bold">Saved by : {{item.SavedEmpNo}}-{{item.SavedEmpFullName}}/{{item.SavedEmpDesignation}} on {{item.Moddate}}</p>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left" *ngIf="item.HAEADRID"
                                        (click)="item.editable = !item.editable">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23"
                                            viewBox="0 0 18 17" fill="none">
                                            <path
                                                d="M3.16669 13.5024H6.70002C6.80969 13.503 6.91841 13.482 7.01994 13.4406C7.12147 13.3991 7.21382 13.338 7.29169 13.2607L13.0584 7.48574L15.425 5.16908C15.5031 5.09161 15.5651 4.99944 15.6074 4.89789C15.6497 4.79634 15.6715 4.68742 15.6715 4.57741C15.6715 4.4674 15.6497 4.35848 15.6074 4.25693C15.5651 4.15538 15.5031 4.06321 15.425 3.98574L11.8917 0.410744C11.8142 0.332637 11.7221 0.270642 11.6205 0.228335C11.519 0.186027 11.41 0.164246 11.3 0.164246C11.19 0.164246 11.0811 0.186027 10.9795 0.228335C10.878 0.270642 10.7858 0.332637 10.7084 0.410744L8.35835 2.76908L2.57502 8.54408C2.49779 8.62195 2.43668 8.71429 2.39521 8.81582C2.35374 8.91735 2.33272 9.02607 2.33335 9.13575V12.6691C2.33335 12.8901 2.42115 13.1021 2.57743 13.2583C2.73371 13.4146 2.94567 13.5024 3.16669 13.5024ZM11.3 2.17741L13.6584 4.53574L12.475 5.71908L10.1167 3.36074L11.3 2.17741ZM4.00002 9.47741L8.94169 4.53574L11.3 6.89408L6.35835 11.8357H4.00002V9.47741ZM16.5 15.1691H1.50002C1.27901 15.1691 1.06705 15.2569 0.910765 15.4132C0.754484 15.5694 0.666687 15.7814 0.666687 16.0024C0.666687 16.2234 0.754484 16.4354 0.910765 16.5917C1.06705 16.7479 1.27901 16.8357 1.50002 16.8357H16.5C16.721 16.8357 16.933 16.7479 17.0893 16.5917C17.2456 16.4354 17.3334 16.2234 17.3334 16.0024C17.3334 15.7814 17.2456 15.5694 17.0893 15.4132C16.933 15.2569 16.721 15.1691 16.5 15.1691Z"
                                                fill="#FFAD0E" />
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Modify</p>
                                        </div>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        (click)="removeItem(item)">
                                        <svg width="20" height="20" viewBox="0 0 23 22" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z"
                                                fill="#EB6247"></path>
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Delete</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mx-0 gx-2">
                                <div class="col-3">
                                    <div class="d-flex flex-column gap-1 p-2 pe-3 border-end h-100 pt-3">
                                        <p class="fs-7">Clinical Area :</p>
                                        <p class="color-highlight fw-semibold fs-7">{{item.CLAREA}}</p>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 border-end h-100">
                                        <div class="d-flex align-items-center gap-2">
                                            <h6 class="clr-grey m-0 fs-6 mb-1">Site of ADR
                                            </h6>
                                        </div>
                                        <div class="mt-1">
                                            <mat-form-field class="w-100" appearance="outline" *ngIf="item.editable">
                                                <input type="text" matInput [matAutocomplete]="adrType" />
                                                <mat-autocomplete #adrType="matAutocomplete">
                                                    <mat-option *ngFor="let option of item.adrTypeData"
                                                        [value]="option.ItemName">
                                                        <div (click)="adrTypeOptionClicked($event, option, item)">
                                                            <mat-checkbox [checked]="option.selected"
                                                                (change)="adrTypeOptionSelection(option, item)"
                                                                (click)="$event.stopPropagation()">
                                                                {{ option.ItemName }}
                                                            </mat-checkbox>
                                                        </div>
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="select_tags row align-items-start g-2">
                                            <div class="col-6" *ngFor="let subItem of item.SITEOFADR">
                                                <ng-container>
                                                    <p
                                                        class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                            [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                        >
                                                        {{subItem.ItemName}}
                                                        <span class="cursor-pointer" *ngIf="item.editable"
                                                            (click)="removeAdrTypeOption(subItem, item)">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                                viewBox="0 0 24 24" fill="none" class="injected-svg"
                                                                data-src="" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                role="img" color="#000000">
                                                                <path
                                                                    d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                    stroke="#000000" stroke-width="1.5"
                                                                    stroke-linecap="round" stroke-linejoin="round"></path>
                                                                <path d="M14.9994 15L9 9M9.00064 15L15 9" stroke="#000000"
                                                                    stroke-width="1.5" stroke-linecap="round"
                                                                    stroke-linejoin="round"></path>
                                                            </svg>
                                                        </span>
                                                    </p>
                                                    <span *ngIf="isAdrTypeOtherSelected(subItem, item)"
                                                        class="textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 mt-2"
                                                        [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                                        [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                                        [(ngModel)]="item.SITEOFADR_OTHER_TEXT" contenteditableModel></span>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 d-flex flex-column border-end gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Suspected drug (s)</h6>
                                        <span
                                            class="textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.SUSPECTEDDRUGS" contenteditableModel></span>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 d-flex flex-column gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Remarks</h6>
                                        <span
                                            class="textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.RMK" contenteditableModel></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade show active" *ngIf="activeTab === 'Blood_Product'">
                <div class="card card-style-1 rounded mt-2">
                    <div class="card-header rounded-top justify-content-between py-2 min-height-unset">
                        <h5 class="card-heading">Blood / Blood Product Reaction</h5>
                        <button class="btn btn-main-outline ms-3" (click)="addBloodProductRow()">Add</button>
                    </div>
                    <div class="p-2 overflow-auto d-flex flex-column gap-2"
                        style="background-color: #F5F7FA;height: calc(100vh - 24.2rem);">
                        <div class="bg-white doctor_worklist worklist_patientcard p-2 rounded shadow-sm"
                            *ngFor="let item of bloodProductCollection; let i = index;">

                            <div class="d-flex align-items-center justify-content-between gap-2">
                                <div class="d-flex align-items-center gap-2">
                                    <h6 class="m-0 clr-grey text-nowrap">Event <span>{{i + 1}}</span></h6>
                                    <div class="d-flex">
                                        <mat-form-field appearance="fill" *ngIf="item.editable">
                                            <mat-label>dd-MMM-yyyy</mat-label>
                                            <input matInput (click)="DOEPicker.open()" [matDatepicker]="DOEPicker"
                                                [(ngModel)]="item.DOE" name="doe{{i}}">
                                            <mat-datepicker-toggle matSuffix [for]="DOEPicker"></mat-datepicker-toggle>
                                            <mat-datepicker #DOEPicker></mat-datepicker>
                                        </mat-form-field>
                                        <p class="fs-7 text-nowrap" *ngIf="!item.editable">{{item.DOE | date: 'dd-MMM-yyyy'}}</p>
                                    </div>
                                </div>
                                

                                <div class="d-flex align-items-center gap-2">
                                    <div class="me-3" *ngIf="item.SavedEmpNo!=''&& !isBloodEmpty">
                                        <p class="m-0 fs-8 text-nowrap fw-bold">Saved by : {{item.SavedEmpNo}}-{{item.SavedEmpFullName}}/{{item.SavedEmpDesignation}} on {{item.Moddate}}</p>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        *ngIf="item.HAEBloodID" (click)="item.editable = !item.editable">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23"
                                            viewBox="0 0 18 17" fill="none">
                                            <path
                                                d="M3.16669 13.5024H6.70002C6.80969 13.503 6.91841 13.482 7.01994 13.4406C7.12147 13.3991 7.21382 13.338 7.29169 13.2607L13.0584 7.48574L15.425 5.16908C15.5031 5.09161 15.5651 4.99944 15.6074 4.89789C15.6497 4.79634 15.6715 4.68742 15.6715 4.57741C15.6715 4.4674 15.6497 4.35848 15.6074 4.25693C15.5651 4.15538 15.5031 4.06321 15.425 3.98574L11.8917 0.410744C11.8142 0.332637 11.7221 0.270642 11.6205 0.228335C11.519 0.186027 11.41 0.164246 11.3 0.164246C11.19 0.164246 11.0811 0.186027 10.9795 0.228335C10.878 0.270642 10.7858 0.332637 10.7084 0.410744L8.35835 2.76908L2.57502 8.54408C2.49779 8.62195 2.43668 8.71429 2.39521 8.81582C2.35374 8.91735 2.33272 9.02607 2.33335 9.13575V12.6691C2.33335 12.8901 2.42115 13.1021 2.57743 13.2583C2.73371 13.4146 2.94567 13.5024 3.16669 13.5024ZM11.3 2.17741L13.6584 4.53574L12.475 5.71908L10.1167 3.36074L11.3 2.17741ZM4.00002 9.47741L8.94169 4.53574L11.3 6.89408L6.35835 11.8357H4.00002V9.47741ZM16.5 15.1691H1.50002C1.27901 15.1691 1.06705 15.2569 0.910765 15.4132C0.754484 15.5694 0.666687 15.7814 0.666687 16.0024C0.666687 16.2234 0.754484 16.4354 0.910765 16.5917C1.06705 16.7479 1.27901 16.8357 1.50002 16.8357H16.5C16.721 16.8357 16.933 16.7479 17.0893 16.5917C17.2456 16.4354 17.3334 16.2234 17.3334 16.0024C17.3334 15.7814 17.2456 15.5694 17.0893 15.4132C16.933 15.2569 16.721 15.1691 16.5 15.1691Z"
                                                fill="#FFAD0E" />
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Modify</p>
                                        </div>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        (click)="removeItem(item)">
                                        <svg width="20" height="20" viewBox="0 0 23 22" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z"
                                                fill="#EB6247"></path>
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Delete</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mx-0 gx-2">
                                <div class="col-3">
                                    <div class="d-flex flex-column gap-1 p-2 pe-3 border-end h-100 pt-3">
                                        <p class="fs-7">Clinical Area :</p>
                                        <p class="color-highlight fw-semibold fs-7">{{item.CLAREA}}</p>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 border-end h-100">
                                        <div class="d-flex align-items-center gap-2">
                                            <h6 class="clr-grey m-0 fs-6">Type of Reaction</h6>
                                        </div>
                                        <div class="mt-2">
                                            <mat-form-field class="w-100" appearance="outline" *ngIf="item.editable">
                                                <input type="text" matInput [matAutocomplete]="reactionType" />
                                                <mat-autocomplete #reactionType="matAutocomplete">
                                                    <mat-option *ngFor="let option of item.bloodReactionTypeData"
                                                        [value]="option.ItemName">
                                                        <div
                                                            (click)="bloodReactionTypeOptionClicked($event, option, item)">
                                                            <mat-checkbox [checked]="option.selected"
                                                                (change)="bloodReactionTypeOptionSelection(option, item)"
                                                                (click)="$event.stopPropagation()">
                                                                {{ option.ItemName }}
                                                            </mat-checkbox>
                                                        </div>
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div>
                                        <div class="select_tags row align-items-start g-2">
                                            <div class="col-6" *ngFor="let subItem of item.TYPEOFREACTION">
                                                <ng-container>
                                                    <p
                                                        class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                            [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                        >
                                                        {{subItem.ItemName}}
                                                        <span class="cursor-pointer" *ngIf="item.editable"
                                                            (click)="removeBloodReactionTypeOption(subItem, item)">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                                viewBox="0 0 24 24" fill="none" class="injected-svg"
                                                                data-src="" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                role="img" color="#000000">
                                                                <path
                                                                    d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                    stroke="#000000" stroke-width="1.5"
                                                                    stroke-linecap="round" stroke-linejoin="round"></path>
                                                                <path d="M14.9994 15L9 9M9.00064 15L15 9" stroke="#000000"
                                                                    stroke-width="1.5" stroke-linecap="round"
                                                                    stroke-linejoin="round"></path>
                                                            </svg>
                                                        </span>
                                                    </p>
                                                    <span *ngIf="isBloodReactionTypeOtherSelected(subItem, item)"
                                                        class="mt-2 textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 mt-2"
                                                        [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                                        [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                                        [(ngModel)]="item.TYPEOFREACTION_OTHER_TEXT"
                                                        contenteditableModel></span>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 d-flex flex-column border-end gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Unit Number</h6>
                                        <span
                                            class="textarea_box_single bg-transparent p-2 rounded-2 d-block min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.UNITNUMBER" contenteditableModel></span>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 d-flex flex-column gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Remarks</h6>
                                        <span
                                            class="textarea_box_single bg-transparent p-2 rounded-2 d-block min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.RMK" contenteditableModel></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade show active" *ngIf="activeTab === 'HAI'">
                <div class="card card-style-1 rounded mt-2">
                    <div class="card-header rounded-top justify-content-between py-2 min-height-unset">
                        <h5 class="card-heading">Healthcare-Associated Infection (HAI) </h5>
                        <button class="btn btn-main-outline ms-3" (click)="addHaiRow()">Add</button>
                    </div>
                    <div class="p-2 overflow-auto d-flex flex-column gap-2"
                        style="background-color: #F5F7FA;height: calc(100vh - 24.2rem);">
                        <div class="bg-white doctor_worklist worklist_patientcard p-2 rounded shadow-sm" *ngFor="let item of haiCollection; let i = index;">
                            <div class="d-flex align-items-center justify-content-between gap-2">
                                <div class="d-flex align-items-center gap-2">
                                    <h6 class="m-0 clr-grey text-nowrap">Event <span>{{i + 1}}</span></h6>
                                    <div class="d-flex">
                                        <mat-form-field appearance="fill" *ngIf="item.editable">
                                            <mat-label>dd-MMM-yyyy</mat-label>
                                            <input matInput (click)="DOEPicker.open()" [matDatepicker]="DOEPicker"
                                                [(ngModel)]="item.DOE" name="doe{{i}}">
                                            <mat-datepicker-toggle matSuffix [for]="DOEPicker"></mat-datepicker-toggle>
                                            <mat-datepicker #DOEPicker></mat-datepicker>
                                        </mat-form-field>
                                        <p class="fs-7 text-nowrap" *ngIf="!item.editable">{{item.DOE | date: 'dd-MMM-yyyy'}}</p>
                                    </div>
                                </div>
                                
                                <div class="d-flex align-items-center gap-2">
                                    <div class="me-3" *ngIf="item.SavedEmpNo!=''&& !isHaiEmpty">
                                        <p class="m-0 fs-8 text-nowrap fw-bold">Saved by : {{item.SavedEmpNo}}-{{item.SavedEmpFullName}}/{{item.SavedEmpDesignation}} on {{item.Moddate}}</p>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left" *ngIf="item.HAEHAIID"
                                        (click)="item.editable = !item.editable">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23"
                                            viewBox="0 0 18 17" fill="none">
                                            <path
                                                d="M3.16669 13.5024H6.70002C6.80969 13.503 6.91841 13.482 7.01994 13.4406C7.12147 13.3991 7.21382 13.338 7.29169 13.2607L13.0584 7.48574L15.425 5.16908C15.5031 5.09161 15.5651 4.99944 15.6074 4.89789C15.6497 4.79634 15.6715 4.68742 15.6715 4.57741C15.6715 4.4674 15.6497 4.35848 15.6074 4.25693C15.5651 4.15538 15.5031 4.06321 15.425 3.98574L11.8917 0.410744C11.8142 0.332637 11.7221 0.270642 11.6205 0.228335C11.519 0.186027 11.41 0.164246 11.3 0.164246C11.19 0.164246 11.0811 0.186027 10.9795 0.228335C10.878 0.270642 10.7858 0.332637 10.7084 0.410744L8.35835 2.76908L2.57502 8.54408C2.49779 8.62195 2.43668 8.71429 2.39521 8.81582C2.35374 8.91735 2.33272 9.02607 2.33335 9.13575V12.6691C2.33335 12.8901 2.42115 13.1021 2.57743 13.2583C2.73371 13.4146 2.94567 13.5024 3.16669 13.5024ZM11.3 2.17741L13.6584 4.53574L12.475 5.71908L10.1167 3.36074L11.3 2.17741ZM4.00002 9.47741L8.94169 4.53574L11.3 6.89408L6.35835 11.8357H4.00002V9.47741ZM16.5 15.1691H1.50002C1.27901 15.1691 1.06705 15.2569 0.910765 15.4132C0.754484 15.5694 0.666687 15.7814 0.666687 16.0024C0.666687 16.2234 0.754484 16.4354 0.910765 16.5917C1.06705 16.7479 1.27901 16.8357 1.50002 16.8357H16.5C16.721 16.8357 16.933 16.7479 17.0893 16.5917C17.2456 16.4354 17.3334 16.2234 17.3334 16.0024C17.3334 15.7814 17.2456 15.5694 17.0893 15.4132C16.933 15.2569 16.721 15.1691 16.5 15.1691Z"
                                                fill="#FFAD0E" />
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Modify</p>
                                        </div>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        (click)="removeItem(item)">
                                        <svg width="20" height="20" viewBox="0 0 23 22" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z"
                                                fill="#EB6247"></path>
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Delete</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mx-0 gx-0">
                                <div class="col-3">
                                    <div class="d-flex flex-column gap-1 p-2 pe-3 border-end h-100 pt-3">
                                        <p class="fs-7">Clinical Area :</p>
                                        <p class="color-highlight fw-semibold fs-7">{{item.CLAREA}}</p>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 border-end h-100">
                                        <div class="d-flex flex-column gap-1">
                                            <h6 class="m-0 clr-grey text-nowrap">Type of HAI</h6>
                                            <div class="mt-2">
                                                <mat-form-field class="w-100" appearance="outline"
                                                    *ngIf="item.editable">
                                                    <input type="text" matInput [matAutocomplete]="haiType" />
                                                    <mat-autocomplete #haiType="matAutocomplete">
                                                        <mat-option *ngFor="let option of item.haiTypeData"
                                                            [value]="option.ItemName">
                                                            <div (click)="haiTypeOptionClicked($event, option, item)">
                                                                <mat-checkbox [checked]="option.selected"
                                                                    (change)="haiTypeOptionSelection(option, item)"
                                                                    (click)="$event.stopPropagation()">
                                                                    {{ option.ItemName }}
                                                                </mat-checkbox>
                                                            </div>
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                </mat-form-field>
                                            </div>
                                            <div class="select_tags row align-items-start g-2">
                                                <div class="col-6" *ngFor="let subItem of item.TYPEOFHAI">
                                                    <ng-container>
                                                        <p
                                                            class="d-inline-flex align-items-center justify-content-between gap-1 py-1 px-2 rounded-5 bg-secondary-100 cursor-pointer fs-7 border-secondary-200 w-100"
                                                                [ngClass]="{'justify-content-center': !item.editable, 'justify-content-between': item.editable}"
                                                            >
                                                            {{subItem.ItemName}}
                                                            <span class="cursor-pointer" *ngIf="item.editable"
                                                                (click)="removeHaiTypeOption(subItem, item)">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16"
                                                                    height="16" viewBox="0 0 24 24" fill="none"
                                                                    class="injected-svg" data-src=""
                                                                    xmlns:xlink="http://www.w3.org/1999/xlink" role="img"
                                                                    color="#000000">
                                                                    <path
                                                                        d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z"
                                                                        stroke="#000000" stroke-width="1.5"
                                                                        stroke-linecap="round" stroke-linejoin="round">
                                                                    </path>
                                                                    <path d="M14.9994 15L9 9M9.00064 15L15 9"
                                                                        stroke="#000000" stroke-width="1.5"
                                                                        stroke-linecap="round" stroke-linejoin="round">
                                                                    </path>
                                                                </svg>
                                                            </span>
                                                        </p>
                                                        <span *ngIf="isHaiTypeOtherSelected(subItem, item)"
                                                            class="mt-2 textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 mt-2"
                                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                                            [(ngModel)]="item.TYPEOFHAI_OTHER_TEXT"
                                                            contenteditableModel></span>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="p-2 px-3 d-flex flex-column gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Remarks</h6>
                                        <span
                                            class="textarea_box_single bg-transparent p-2 rounded-2 d-block min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.RMK" contenteditableModel></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade show active" *ngIf="activeTab === 'FoodPoisoning'">
                <div class="card card-style-1 rounded mt-2">
                    <div class="card-header rounded-top justify-content-between py-2 min-height-unset">
                        <h5 class="card-heading">Reporting communicable diseases/Food Poisoning </h5>
                        <button class="btn btn-main-outline ms-3" (click)="addFoodPoisoningRow()">Add</button>
                    </div>
                    <div class="p-2 overflow-auto d-flex flex-column gap-2"
                        style="background-color: #F5F7FA;height: calc(100vh - 24.2rem);">
                        <div class="bg-white doctor_worklist worklist_patientcard rounded p-2 shadow-sm"
                            *ngFor="let item of foodPoisoningCollection; let i = index;">
                            <div class="d-flex align-items-center justify-content-between gap-2">
                                <div class="d-flex align-items-center gap-2">
                                    <h6 class="m-0 clr-grey text-nowrap">Event <span>{{i + 1}}</span></h6>
                                    <div class="d-flex">
                                        <mat-form-field appearance="fill" class="w-100" *ngIf="item.editable">
                                            <mat-label>dd-MMM-yyyy</mat-label>
                                            <input matInput (click)="DOEPicker.open()" [matDatepicker]="DOEPicker"
                                                [(ngModel)]="item.DOE" name="doe{{i}}">
                                            <mat-datepicker-toggle matSuffix [for]="DOEPicker"></mat-datepicker-toggle>
                                            <mat-datepicker #DOEPicker></mat-datepicker>
                                        </mat-form-field>
                                        <p class="fs-7 text-nowrap" *ngIf="!item.editable">{{item.DOE | date: 'dd-MMM-yyyy'}}</p>
                                    </div>
                                </div>
                               
                                <div class="d-flex align-items-center gap-2">
                                     <div class="me-3" *ngIf="item.SavedEmpNo!=''&& !isFoodPoisoningEmpty">
                                        <p class="m-0 fs-8 text-nowrap fw-bold">Saved by : {{item.SavedEmpNo}}-{{item.SavedEmpFullName}}/{{item.SavedEmpDesignation}} on {{item.Moddate}}</p>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        *ngIf="item.HAEFOODPOISONINGID" (click)="item.editable = !item.editable">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23"
                                            viewBox="0 0 18 17" fill="none">
                                            <path
                                                d="M3.16669 13.5024H6.70002C6.80969 13.503 6.91841 13.482 7.01994 13.4406C7.12147 13.3991 7.21382 13.338 7.29169 13.2607L13.0584 7.48574L15.425 5.16908C15.5031 5.09161 15.5651 4.99944 15.6074 4.89789C15.6497 4.79634 15.6715 4.68742 15.6715 4.57741C15.6715 4.4674 15.6497 4.35848 15.6074 4.25693C15.5651 4.15538 15.5031 4.06321 15.425 3.98574L11.8917 0.410744C11.8142 0.332637 11.7221 0.270642 11.6205 0.228335C11.519 0.186027 11.41 0.164246 11.3 0.164246C11.19 0.164246 11.0811 0.186027 10.9795 0.228335C10.878 0.270642 10.7858 0.332637 10.7084 0.410744L8.35835 2.76908L2.57502 8.54408C2.49779 8.62195 2.43668 8.71429 2.39521 8.81582C2.35374 8.91735 2.33272 9.02607 2.33335 9.13575V12.6691C2.33335 12.8901 2.42115 13.1021 2.57743 13.2583C2.73371 13.4146 2.94567 13.5024 3.16669 13.5024ZM11.3 2.17741L13.6584 4.53574L12.475 5.71908L10.1167 3.36074L11.3 2.17741ZM4.00002 9.47741L8.94169 4.53574L11.3 6.89408L6.35835 11.8357H4.00002V9.47741ZM16.5 15.1691H1.50002C1.27901 15.1691 1.06705 15.2569 0.910765 15.4132C0.754484 15.5694 0.666687 15.7814 0.666687 16.0024C0.666687 16.2234 0.754484 16.4354 0.910765 16.5917C1.06705 16.7479 1.27901 16.8357 1.50002 16.8357H16.5C16.721 16.8357 16.933 16.7479 17.0893 16.5917C17.2456 16.4354 17.3334 16.2234 17.3334 16.0024C17.3334 15.7814 17.2456 15.5694 17.0893 15.4132C16.933 15.2569 16.721 15.1691 16.5 15.1691Z"
                                                fill="#FFAD0E" />
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Modify</p>
                                        </div>
                                    </div>
                                    <div class="cursor-pointer custom_tooltip custom_tooltip_left"
                                        (click)="removeItem(item)">
                                        <svg width="20" height="20" viewBox="0 0 23 22" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M20.0995 6.16917H20.0261C15.177 5.68334 10.337 5.5 5.5428 5.98584L3.6728 6.16917C3.58184 6.17866 3.48989 6.17003 3.40228 6.14377C3.31467 6.11751 3.23314 6.07414 3.16239 6.01618C3.09164 5.95822 3.03308 5.8868 2.9901 5.80607C2.94712 5.72534 2.92056 5.63689 2.91197 5.54584C2.8753 5.16084 3.1503 4.83084 3.52614 4.79417L5.39614 4.61084C10.2728 4.11584 15.2136 4.30834 20.1636 4.79417C20.5395 4.83084 20.8145 5.17 20.7778 5.54584C20.764 5.71605 20.6864 5.87477 20.5607 5.99032C20.4349 6.10586 20.2702 6.16973 20.0995 6.16917Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M8.64147 5.24333C8.6048 5.24333 8.56813 5.24333 8.5223 5.23416C8.34445 5.20211 8.18627 5.10159 8.08172 4.95419C7.97717 4.80679 7.93459 4.62427 7.96313 4.44583L8.1648 3.24499C8.31147 2.36499 8.51313 1.14583 10.649 1.14583H13.0506C15.1956 1.14583 15.3973 2.41083 15.5348 3.25416L15.7365 4.44583C15.8006 4.82166 15.544 5.17916 15.1773 5.23416C14.8015 5.29833 14.444 5.04166 14.389 4.67499L14.1873 3.48333C14.059 2.68583 14.0315 2.52999 13.0598 2.52999H10.6581C9.68647 2.52999 9.66813 2.65833 9.53063 3.47416L9.3198 4.66583C9.29369 4.82694 9.2111 4.97351 9.08683 5.07931C8.96255 5.18512 8.80468 5.24325 8.64147 5.24333ZM14.7923 20.856H8.9073C5.70813 20.856 5.5798 19.0868 5.47897 17.6568L4.88313 8.42599C4.85563 8.05016 5.14897 7.72016 5.5248 7.69266C5.9098 7.67433 6.23063 7.95849 6.25813 8.33433L6.85397 17.5652C6.9548 18.9585 6.99147 19.481 8.9073 19.481H14.7923C16.7173 19.481 16.754 18.9585 16.8456 17.5652L17.4415 8.33433C17.469 7.95849 17.799 7.67433 18.1748 7.69266C18.5506 7.72016 18.844 8.041 18.8165 8.42599L18.2206 17.6568C18.1198 19.0868 17.9915 20.856 14.7923 20.856Z"
                                                fill="#EB6247"></path>
                                            <path
                                                d="M13.3714 15.8125H10.3189C9.94311 15.8125 9.63144 15.5008 9.63144 15.125C9.63144 14.7492 9.94311 14.4375 10.3189 14.4375H13.3714C13.7473 14.4375 14.0589 14.7492 14.0589 15.125C14.0589 15.5008 13.7473 15.8125 13.3714 15.8125ZM14.1414 12.1458H9.55811C9.18227 12.1458 8.87061 11.8342 8.87061 11.4583C8.87061 11.0825 9.18227 10.7708 9.55811 10.7708H14.1414C14.5173 10.7708 14.8289 11.0825 14.8289 11.4583C14.8289 11.8342 14.5173 12.1458 14.1414 12.1458Z"
                                                fill="#EB6247"></path>
                                        </svg>
                                        <div class="tooltip">
                                            <p class="m-0">Delete</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mx-0 gx-0">
                                <div class="col-3">
                                    <div class="d-flex flex-column gap-1 p-2 pe-3 border-end h-100 pt-3">
                                        <p class="fs-7">Clinical Area :</p>
                                        <p class="color-highlight fw-semibold fs-7">{{item.CLAREA}}</p>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="p-2 px-3 d-flex flex-column border-end gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Type</h6>
                                        <span
                                            class="mt-1 textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.TYPE" contenteditableModel></span>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="p-2 px-3 d-flex flex-column gap-1 h-100">
                                        <h6 class="m-0 clr-grey text-nowrap">Remarks</h6>
                                        <span
                                            class="mt-1 textarea_box_single bg-transparent p-2 rounded-2 d-block w-100 min-height-unset h-100"
                                            [ngClass]="{'textarea_box_not_editable': !item.editable, 'textarea_box': item.editable}"
                                            [attr.contenteditable]="item.editable ? 'true' : 'false'"
                                            [(ngModel)]="item.RMK" contenteditableModel></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="saveMsg" tabindex="-1" style="width: 100%;height: 100%;">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>Saved successfully</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">Ok</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="deleteMsg" tabindex="-1" style="width: 100%;height: 100%;">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>Deleted successfully</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">Ok</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="errorMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{errorMsg}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>