<div class="card card-style-1 rounded main-container" #divepr>
    <div class="card-header rounded-top justify-content-between" style="height: 3rem;">
        <h2 class="card-heading"> Epidural Record Maternal & Child Team </h2>
        <div class="actions generalConsent_popup position-relative d-flex align-items-center gap-2" *ngIf="IsView">
             <app-template-block [patientTemplatedetailID]="PatientTemplatedetailID" [viewTemplatesList]="FetchPatienClinicalTemplateDetailsNList"></app-template-block>
            <button class="btn btn-main-outline" (click)="viewWorklist()">View</button>
        </div>
    </div>

    <div class="p-2 template_scroll" *ngIf="showContent" id="divscroll">
  
        <div class="card card-style-1 rounded">
            <div class="card-header justify-content-start rounded-top py-2 min-height-unset">
                <h5 class="card-heading">For Obstetric Use :</h5>
            </div>
            <div class="p-2">
                <div class="row gx-0">
                    <div class="col-8">
                        <div class="row g-2">
                            <div class="col-4">
                                <label class="form-label text-nowrap">Requested By Doctor :</label>
                                <div class="d-flex align-items-center input-group w-100">
                                    <input id="textbox_name1" type="text" placeholder="search" class="form-control pe-2" aria-label="Search"
                                        [matAutocomplete]="doctor3"
                                        (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : onSearchDoctors($event)">
                                    <mat-autocomplete #doctor3="matAutocomplete">
                                        <mat-option *ngFor="let item of doctorsList"
                                            (onSelectionChange)="onDoctorSelect(item)"
                                            value="{{item.EmpNo}}-{{item.Fullname}}">
                                            {{item.EmpNo}}-{{item.Fullname}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <button type="button" id="button-addon2" class="btn btn-secondary-fill btn-icon">
                                        <img src="assets/images/icons/icon-search.svg" alt="">
                                    </button>
                                </div>
                            </div>
                            <div class="col-3">
                                <label class="form-label text-nowrap">Date:</label>
                                <mat-form-field appearance="fill">
                                    <mat-label translate>dd-MMM-yyyy</mat-label>
                                    <input matInput class="" #doctordate id="textbox_doctordate"
                                        [matDatepicker]="docdate"
                                        (click)="docdate.open()">
                                    <mat-datepicker-toggle matSuffix [for]="docdate">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #docdate></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div class="w-max-content">
                                <label class="form-label text-nowrap">Time:</label>
                                <app-time-selector [hours]="getHours('textbox_generic_time2')" [minutes]="getMinutes('textbox_generic_time2')" (timeSelected)="onTimeChange($event, 'textbox_generic_time2')" [disabled]="isTimeSelectorDisable('textbox_generic_time2')"></app-time-selector>
                            </div>
                            <div class="col-2">
                                <label class="form-label text-nowrap">Cervical dilatation in cm:</label>
                                <input type="text" id="textbox_Cervicaldilatationincm" class="form-control w-100">
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <img id="imgFinal" style="display:none" src="" alt="" />
                        <div class="signature_box active text-end ms-auto mt-2 pb-2">
                           
                            <div class="position-relative">
                            <app-signature #signature1 class="" (base64Signature)="base64Signature('Signature1', $event)" [imageToDisplay]="getSignature('Signature1')">
                                <canvas style="border: 1px solid #000;"></canvas>
                            </app-signature>
                            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" class="delicon cursor-pointer"
                            (click)="clearSignature('Signature1'); clearbase64Signature(signature1)">
                                <path d="M19.2499 6.16919H19.1765C14.3274 5.68335 9.48736 5.50002 4.6932 5.98585L2.82319 6.16919C2.73223 6.17868 2.64028 6.17004 2.55267 6.14378C2.46506 6.11752 2.38353 6.07416 2.31278 6.01619C2.24203 5.95823 2.18347 5.88682 2.14049 5.80609C2.09751 5.72536 2.07095 5.63691 2.06236 5.54585C2.02569 5.16085 2.3007 4.83085 2.67653 4.79419L4.54653 4.61085C9.4232 4.11585 14.364 4.30835 19.314 4.79419C19.6899 4.83085 19.9649 5.17002 19.9282 5.54585C19.9144 5.71606 19.8368 5.87478 19.7111 5.99033C19.5853 6.10588 19.4206 6.16975 19.2499 6.16919Z" fill="#EB6247"></path>
                                <path d="M7.79186 5.24331C7.75519 5.24331 7.71852 5.24331 7.67269 5.23415C7.49484 5.2021 7.33666 5.10158 7.23211 4.95418C7.12756 4.80678 7.08498 4.62426 7.11353 4.44581L7.31519 3.24498C7.46186 2.36498 7.66352 1.14581 9.79936 1.14581H12.201C14.346 1.14581 14.5477 2.41081 14.6852 3.25415L14.8869 4.44581C14.951 4.82165 14.6944 5.17915 14.3277 5.23415C13.9519 5.29831 13.5944 5.04165 13.5394 4.67498L13.3377 3.48331C13.2094 2.68581 13.1819 2.52998 12.2102 2.52998H9.80852C8.83686 2.52998 8.81853 2.65831 8.68103 3.47415L8.47019 4.66581C8.44408 4.82693 8.3615 4.97349 8.23722 5.0793C8.11294 5.1851 7.95507 5.24324 7.79186 5.24331ZM13.9427 20.856H8.05769C4.85852 20.856 4.73019 19.0868 4.62936 17.6568L4.03353 8.42598C4.00603 8.05015 4.29936 7.72015 4.67519 7.69265C5.06019 7.67431 5.38103 7.95848 5.40853 8.33431L6.00436 17.5651C6.10519 18.9585 6.14186 19.481 8.05769 19.481H13.9427C15.8677 19.481 15.9044 18.9585 15.996 17.5651L16.5919 8.33431C16.6194 7.95848 16.9494 7.67431 17.3252 7.69265C17.701 7.72015 17.9944 8.04098 17.9669 8.42598L17.371 17.6568C17.2702 19.0868 17.1419 20.856 13.9427 20.856Z" fill="#EB6247"></path>
                                <path d="M12.5218 15.8125H9.46933C9.0935 15.8125 8.78183 15.5008 8.78183 15.125C8.78183 14.7491 9.0935 14.4375 9.46933 14.4375H12.5218C12.8977 14.4375 13.2093 14.7491 13.2093 15.125C13.2093 15.5008 12.8977 15.8125 12.5218 15.8125ZM13.2918 12.1458H8.7085C8.33266 12.1458 8.021 11.8341 8.021 11.4583C8.021 11.0825 8.33266 10.7708 8.7085 10.7708H13.2918C13.6677 10.7708 13.9793 11.0825 13.9793 11.4583C13.9793 11.8341 13.6677 12.1458 13.2918 12.1458Z" fill="#EB6247"></path>
                            </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mt-3 card card-style-1 rounded">
            <div class="card-header justify-content-start rounded-top py-2 min-height-unset">
                <h5 class="card-heading">For Anaesthesia Use :</h5>
            </div>
            <div class="p-3">

                <div class="">
                    <div class="d-flex align-items-center gap-3">
                        <h6 class="clr-primary-600 m-0">Needle & Catheter insertion</h6>
                        <p><b>Catheter gauge # 16/18</b></p>
                    </div>
                    <div class="mt-2 d-flex align-items-center gap-3">
                        <label for="" class="form-label m-0">Location on Lumbar Spine :</label>
                        <div class="d-flex align-items-center gap-2">
                            <label for="" class="form-label m-0">Cm's in Epidural Space:</label>
                            <div class="d-flex align-items-center afterlabel">
                                <input type="text" name="" class="form-control pe-6" id="textbox_CmsinEpiduralSpace">
                                <label for="" class="form-label m-0 label_sm">Cms.</label>
                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <label for="" class="form-label m-0">Cm's mark at Skin :</label>
                            <div class="d-flex align-items-center afterlabel">
                                <input type="text" name="" class="form-control pe-6" id="textbox_CmsmarkatSkin">
                                <label for="" class="form-label m-0 label_sm">Cms.</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <label for="" class="form-label">Problem (If there is):</label>
                        <!-- <textarea name="" class="form-control resize-none" id="textarea_Probelm" cols="30" rows="3"></textarea> -->
                        <span name="" class="form-control " id="textarea_Probelm" cols="30" rows="3" resize-none contenteditable="true">
                        </span>
                    </div>
                </div>

                <div class="mt-3">
                    <h6 class="clr-primary-600"> *** Drugs to give through epidural catheter</h6>
                    <div class="mt-2">
                        <div class="row g-2">
                            <div class="col-6">
                                <div class="row g-2">
                                    <div class="col-3">
                                        <label for="" class="form-label">1. Test Dose :</label>
                                        <input type="text" class="form-control" name="" id="textbox_TestDose">
                                    </div>
                                    <div class="col-3">
                                        <label for="" class="form-label">Result:</label>
                                        <input type="text" class="form-control" name="" id="textbox_Result">
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <label for="" class="form-label"><b>2. Bolus Dose :</b></label>
                                    <div class="row g-2">
                                        <div class="col">
                                            <label for="" class="form-label">Time:</label>
                                            <app-time-selector [hours]="getHours('textbox_generic_time3')" [minutes]="getMinutes('textbox_generic_time3')" (timeSelected)="onTimeChange($event, 'textbox_generic_time3')" [disabled]="isTimeSelectorDisable('textbox_generic_time3')"></app-time-selector>
                                        </div>
                                        <div class="col">
                                            <label for="" class="form-label">Drug:</label>
                                            <div class="d-flex align-items-center gap-3">
                                                <div class="d-flex align-items-center afterlabel">
                                                    <input type="text" name="" class="form-control pe-6" id="textbox_Drug1">
                                                    <label for="" class="form-label label_sm">0/0</label>
                                                    </div>
                                                <div class="d-flex align-items-center afterlabel">
                                                    <input type="text" name="" class="form-control pe-6" id="textbox_Drug2">
                                                    <label for="" class="form-label label_sm">mls.</label>
                                                    </div>
                                                    <input type="text" id="textbox_Drug3" class="form-control w-auto">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <label for="" class="form-label"><b>3. Infusion in Syringe pump (20ml.Syringe)</b></label>
                                <div class="row g-2">
                                    <div class="col-12">
                                        <label for="" class="form-label">Drug:</label>
                                        <div class="d-flex align-items-center gap-3">
                                            <div class="d-flex align-items-center afterlabel">
                                                <input type="text" name="" class="form-control pe-6" id="textbox_InfusioninSyringepumpDrug1">
                                                <label for="" class="form-label label_sm">0/0</label>
                                                </div>
                                            <div class="d-flex align-items-center afterlabel">
                                                <input type="text" name="" class="form-control pe-6" id="textbox_InfusioninSyringepumpDrug2">
                                                <label for="" class="form-label label_sm">mls.</label>
                                                </div>
                                                <input type="text" id="textbox_InfusioninSyringepumpDrug3" class="form-control w-auto">
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <label for="" class="form-label">Narcotic:</label>
                                        <div class="d-flex align-items-center gap-3">
                                            <div class="d-flex align-items-center afterlabel">
                                                <input type="text" name="" class="form-control pe-6" id="textbox_InfusioninSyringepumpNarcotic1">
                                                <label for="" class="form-label label_sm">Dose</label>
                                                </div>
                                            <div class="d-flex align-items-center afterlabel">
                                                <input type="text" name="" class="form-control pe-6" id="textbox_InfusioninSyringepumpNarcotic2">
                                                <label for="" class="form-label label_sm">mg/mcg/20ml.</label>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-3 border-top justify-content-between">
                    <div class="row g-2 align-items-center">
                        <div class="col-3">
                            <label class="form-label text-nowrap">Prepared by :</label>
                            <input type="text" id="textbox_Preparedby" class="form-control w-100">
                        </div>
                        <div class="col-3">
                            <label class="form-label text-nowrap">Reviewed by :</label>
                            <input type="text" id="textbox_Reviewedby" class="form-control w-100">
                        </div>
                        <div class="col-3">
                            <label class="form-label text-nowrap">Noted by :</label>
                            <input type="text" id="textbox_Notedby" class="form-control w-100">
                        </div>
                        <div class="col-3">
                            <label class="form-label text-nowrap">Doctor's Name</label>
                            <div class="d-flex align-items-center input-group w-100">
                                <input id="textbox_name2" type="text" placeholder="search" class="form-control pe-2" aria-label="Search"
                                    [matAutocomplete]="doctor1"
                                    (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : onSearchDoctors($event)">
                                <mat-autocomplete #doctor1="matAutocomplete">
                                    <mat-option *ngFor="let item of doctorsList"
                                        (onSelectionChange)="onDoctorSelect(item)"
                                        value="{{item.EmpNo}}-{{item.Fullname}}">
                                        {{item.EmpNo}}-{{item.Fullname}}
                                    </mat-option>
                                </mat-autocomplete>
                                <button type="button" id="button-addon2" class="btn btn-secondary-fill btn-icon">
                                    <img src="assets/images/icons/icon-search.svg" alt="">
                                </button>
                            </div>
                        </div>
                        <div class="col-12">
                            <img id="imgFinal" style="display:none" src="" alt="" />
                            <div class="signature_box active text-end ms-auto mt-2 pb-2">
                                
                                <div class="position-relative">
                                <app-signature #Signature2 class=""  (base64Signature)="base64Signature('Signature2', $event)" [imageToDisplay]="getSignature('Signature2')">
                                    <canvas style="border: 1px solid #000;"></canvas>
                                </app-signature>
                                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" class="delicon cursor-pointer"
                                (click)="clearSignature('Signature2'); clearbase64Signature(Signature2)">
                                    <path d="M19.2499 6.16919H19.1765C14.3274 5.68335 9.48736 5.50002 4.6932 5.98585L2.82319 6.16919C2.73223 6.17868 2.64028 6.17004 2.55267 6.14378C2.46506 6.11752 2.38353 6.07416 2.31278 6.01619C2.24203 5.95823 2.18347 5.88682 2.14049 5.80609C2.09751 5.72536 2.07095 5.63691 2.06236 5.54585C2.02569 5.16085 2.3007 4.83085 2.67653 4.79419L4.54653 4.61085C9.4232 4.11585 14.364 4.30835 19.314 4.79419C19.6899 4.83085 19.9649 5.17002 19.9282 5.54585C19.9144 5.71606 19.8368 5.87478 19.7111 5.99033C19.5853 6.10588 19.4206 6.16975 19.2499 6.16919Z" fill="#EB6247"></path>
                                    <path d="M7.79186 5.24331C7.75519 5.24331 7.71852 5.24331 7.67269 5.23415C7.49484 5.2021 7.33666 5.10158 7.23211 4.95418C7.12756 4.80678 7.08498 4.62426 7.11353 4.44581L7.31519 3.24498C7.46186 2.36498 7.66352 1.14581 9.79936 1.14581H12.201C14.346 1.14581 14.5477 2.41081 14.6852 3.25415L14.8869 4.44581C14.951 4.82165 14.6944 5.17915 14.3277 5.23415C13.9519 5.29831 13.5944 5.04165 13.5394 4.67498L13.3377 3.48331C13.2094 2.68581 13.1819 2.52998 12.2102 2.52998H9.80852C8.83686 2.52998 8.81853 2.65831 8.68103 3.47415L8.47019 4.66581C8.44408 4.82693 8.3615 4.97349 8.23722 5.0793C8.11294 5.1851 7.95507 5.24324 7.79186 5.24331ZM13.9427 20.856H8.05769C4.85852 20.856 4.73019 19.0868 4.62936 17.6568L4.03353 8.42598C4.00603 8.05015 4.29936 7.72015 4.67519 7.69265C5.06019 7.67431 5.38103 7.95848 5.40853 8.33431L6.00436 17.5651C6.10519 18.9585 6.14186 19.481 8.05769 19.481H13.9427C15.8677 19.481 15.9044 18.9585 15.996 17.5651L16.5919 8.33431C16.6194 7.95848 16.9494 7.67431 17.3252 7.69265C17.701 7.72015 17.9944 8.04098 17.9669 8.42598L17.371 17.6568C17.2702 19.0868 17.1419 20.856 13.9427 20.856Z" fill="#EB6247"></path>
                                    <path d="M12.5218 15.8125H9.46933C9.0935 15.8125 8.78183 15.5008 8.78183 15.125C8.78183 14.7491 9.0935 14.4375 9.46933 14.4375H12.5218C12.8977 14.4375 13.2093 14.7491 13.2093 15.125C13.2093 15.5008 12.8977 15.8125 12.5218 15.8125ZM13.2918 12.1458H8.7085C8.33266 12.1458 8.021 11.8341 8.021 11.4583C8.021 11.0825 8.33266 10.7708 8.7085 10.7708H13.2918C13.6677 10.7708 13.9793 11.0825 13.9793 11.4583C13.9793 11.8341 13.6677 12.1458 13.2918 12.1458Z" fill="#EB6247"></path>
                                </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-3 border p-2 rounded-2">
                    <h6 class="clr-primary-600">Anesthesia Doctor Record:</h6>
                    <p class="fs-7 clr-danger-200"><b>(The anesthtists has to see the Patients every 2hr's and record his notes)</b></p>
                    <h6 class="mt-2">Vital Sign Monitoring And Observations</h6>
                    <div class="mt-3">
                        <table class="table m-0">
                            <thead>
                                <tr>
                                    <th class="text-center">Time</th>
                                    <th class="text-center">Blood Pressure</th>
                                    <th class="text-center">Pulse</th>
                                    <th class="text-center">Resp.</th>
                                    <th class="text-center">Pain Score</th>
                                    <!-- <th class="text-center">Anesthetist Signature</th> -->
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let row of rows;let i=index">
                                    <td>
                                        <app-time-selector [id]="'textbox_generic_time_' + (i + 4)" [hours]="getHours('textbox_generic_time_' + (i + 4))"
                                            [minutes]="getMinutes('textbox_generic_time_' + (i + 4))"
                                            (timeSelected)="onTimeChange($event, 'textbox_generic_time_' + (i + 4))">
                                        </app-time-selector>
                                    </td>
                                    <td>
                                        <input type="text" id="textbox_BloodPressure_{{ i }}" class="form-control">
                                    </td>
                                    <td>
                                        <input type="text" id="textbox_Pulse1_{{ i }}" class="form-control">
                                    </td>
                                    <td>
                                        <input type="text" id="textbox_Resp1_{{ i }}" class="form-control">
                                    </td>
                                    <td>
                                        <input type="text" id="textbox_PainScore1_{{ i }}" class="form-control">
                                    </td>
                                    <!-- <td>
                                        <div class="signature_box active text-end ms-auto mt-2 pb-2">
                                           
                                            <div class="position-relative">
                                            <app-signature #Signature5 class=""  (base64Signature)="base64Signature('Signature5', $event)" [imageToDisplay]="getSignature('Signature5')">
                                                <canvas style="border: 1px solid #000;"></canvas>
                                            </app-signature>
                                            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" class="delicon cursor-pointer"
                                            (click)="clearSignature('Signature5'); clearbase64Signature(Signature5)">
                                                <path d="M19.2499 6.16919H19.1765C14.3274 5.68335 9.48736 5.50002 4.6932 5.98585L2.82319 6.16919C2.73223 6.17868 2.64028 6.17004 2.55267 6.14378C2.46506 6.11752 2.38353 6.07416 2.31278 6.01619C2.24203 5.95823 2.18347 5.88682 2.14049 5.80609C2.09751 5.72536 2.07095 5.63691 2.06236 5.54585C2.02569 5.16085 2.3007 4.83085 2.67653 4.79419L4.54653 4.61085C9.4232 4.11585 14.364 4.30835 19.314 4.79419C19.6899 4.83085 19.9649 5.17002 19.9282 5.54585C19.9144 5.71606 19.8368 5.87478 19.7111 5.99033C19.5853 6.10588 19.4206 6.16975 19.2499 6.16919Z" fill="#EB6247"></path>
                                                <path d="M7.79186 5.24331C7.75519 5.24331 7.71852 5.24331 7.67269 5.23415C7.49484 5.2021 7.33666 5.10158 7.23211 4.95418C7.12756 4.80678 7.08498 4.62426 7.11353 4.44581L7.31519 3.24498C7.46186 2.36498 7.66352 1.14581 9.79936 1.14581H12.201C14.346 1.14581 14.5477 2.41081 14.6852 3.25415L14.8869 4.44581C14.951 4.82165 14.6944 5.17915 14.3277 5.23415C13.9519 5.29831 13.5944 5.04165 13.5394 4.67498L13.3377 3.48331C13.2094 2.68581 13.1819 2.52998 12.2102 2.52998H9.80852C8.83686 2.52998 8.81853 2.65831 8.68103 3.47415L8.47019 4.66581C8.44408 4.82693 8.3615 4.97349 8.23722 5.0793C8.11294 5.1851 7.95507 5.24324 7.79186 5.24331ZM13.9427 20.856H8.05769C4.85852 20.856 4.73019 19.0868 4.62936 17.6568L4.03353 8.42598C4.00603 8.05015 4.29936 7.72015 4.67519 7.69265C5.06019 7.67431 5.38103 7.95848 5.40853 8.33431L6.00436 17.5651C6.10519 18.9585 6.14186 19.481 8.05769 19.481H13.9427C15.8677 19.481 15.9044 18.9585 15.996 17.5651L16.5919 8.33431C16.6194 7.95848 16.9494 7.67431 17.3252 7.69265C17.701 7.72015 17.9944 8.04098 17.9669 8.42598L17.371 17.6568C17.2702 19.0868 17.1419 20.856 13.9427 20.856Z" fill="#EB6247"></path>
                                                <path d="M12.5218 15.8125H9.46933C9.0935 15.8125 8.78183 15.5008 8.78183 15.125C8.78183 14.7491 9.0935 14.4375 9.46933 14.4375H12.5218C12.8977 14.4375 13.2093 14.7491 13.2093 15.125C13.2093 15.5008 12.8977 15.8125 12.5218 15.8125ZM13.2918 12.1458H8.7085C8.33266 12.1458 8.021 11.8341 8.021 11.4583C8.021 11.0825 8.33266 10.7708 8.7085 10.7708H13.2918C13.6677 10.7708 13.9793 11.0825 13.9793 11.4583C13.9793 11.8341 13.6677 12.1458 13.2918 12.1458Z" fill="#EB6247"></path>
                                            </svg>
                                            </div>
                                        </div>
                                    </td> -->
                                </tr>
                                <tr>
                                    <td colspan="14">
                                        <button class="btn btn-main-outline" (click)="addRow()">Add row</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="mt-3 card card-style-1 rounded">
                    <div class="card-header justify-content-start rounded-top py-2 min-height-unset">
                        <h5 class="clr-primary-600">Evaluation of Epidural Analgesia for Labor :</h5>
                    </div>
                    <div class="p-3">
                        <h6 class="clr-primary-600">To be Filled by the patient during epidural catheter removal</h6>
                        <div class="mt-2">
                            <table class="table table-bordered m-0">
                                <tbody>
                                    <tr>
                                        <td>1.</td>
                                        <td>The Anesthesiologist explained to me about the procedure and the excepted outcome ,and Answered my questions</td>
                                        <td>
                                            <div id="toggle_AnesthesiologistexplainedtomeabouttheprocedureandtheexceptedoutcomeandAnsweredmyquestions" class="clinical_toggle toggle__switch switch-sm custom-inline-flex">
                                                <button class="btn selected" (click)="toggleSelection($event)">Agree</button>
                                                <button class="btn" (click)="toggleSelection($event)">Accepted</button>
                                                <button class="btn" (click)="toggleSelection($event)">Disagree</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>2.</td>
                                        <td>The Anesthesiologist dealt with me decently and was supportive</td>
                                        <td>
                                            <div id="toggle_Anesthesiologistdealtwithmedecentlyandwassupportive" class="clinical_toggle toggle__switch switch-sm custom-inline-flex">
                                                <button class="btn selected" (click)="toggleSelection($event)">Agree</button>
                                                <button class="btn" (click)="toggleSelection($event)">Accepted</button>
                                                <button class="btn" (click)="toggleSelection($event)">Disagree</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>3.</td>
                                        <td>The Procedure was easy</td>
                                        <td>
                                            <div id="toggle_Procedurewaseasy" class="clinical_toggle toggle__switch switch-sm custom-inline-flex">
                                                <button class="btn selected" (click)="toggleSelection($event)">Agree</button>
                                                <button class="btn" (click)="toggleSelection($event)">Accepted</button>
                                                <button class="btn" (click)="toggleSelection($event)">Disagree</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>4.</td>
                                        <td>Pain in the Period before baby is out</td>
                                        <td>
                                            <div id="toggle_PaininthePeriodbeforebabyisout" class="clinical_toggle toggle__switch switch-sm custom-inline-flex">
                                                <button class="btn selected" (click)="toggleSelection($event)">Agree</button>
                                                <button class="btn" (click)="toggleSelection($event)">Accepted</button>
                                                <button class="btn" (click)="toggleSelection($event)">Disagree</button>
                                            </div>
                                            <div class="painreaction_dropdown mt-2">
                                                <div class="dropdown custom_dropdown">
                                                   <button id="btn_score" class="btn btn-secondary dropdown-toggle ButtonScore" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                      <div class="d-flex align-items-center gap-2">
                                                         <img id="img_score_src" src ='assets/images/image1.png' class="imgpain pain_img" alt="">
                                                         <p id="p_score_text" class="textpain text-nowrap">No Hurt</p>
                                                      </div>
                                                      <div id="div_score" class="scorepain score_count clr-primary-600">0</div>
                                                   </button>
                                                   <ul class="dropdown-menu">
                                                      <li *ngFor="let item of dropdownItems" class="dropdown-item d-flex justify-content-between gap-2 p-0"
                                                         (click)="selectItemNO('btn_score', item)">
                                                         <div class="p-2 d-flex align-items-center gap-2">
                                                            <img class="pain_img" [src]="item.image" alt="">
                                                            <p class="text-nowrap">{{ item.text }}</p>
                                                         </div>
                                                         <div class="score_count clr-primary-600">{{ item.score }}</div>
                                                      </li>
                                                   </ul>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>5.</td>
                                        <td>Pain when baby was being delivered</td>
                                        <td>
                                            <div id="toggle_Painwhenbabywasbeingdelivered" class="clinical_toggle toggle__switch switch-sm custom-inline-flex">
                                                <button class="btn selected" (click)="toggleSelection($event)">Agree</button>
                                                <button class="btn" (click)="toggleSelection($event)">Accepted</button>
                                                <button class="btn" (click)="toggleSelection($event)">Disagree</button>
                                            </div>
                                            <div class="painreaction_dropdown mt-2">
                                                <div class="dropdown custom_dropdown">
                                                   <button id="btn_score1" class="btn btn-secondary dropdown-toggle ButtonScore" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                      <div class="d-flex align-items-center gap-2">
                                                         <img id="img_score_src1" src ='assets/images/image1.png' class="imgpain pain_img" alt="">
                                                         <p id="p_score_text1" class="textpain text-nowrap">No Hurt</p>
                                                      </div>
                                                      <div id="div_score1" class="scorepain score_count clr-primary-600">0</div>
                                                   </button>
                                                   <ul class="dropdown-menu">
                                                      <li *ngFor="let item of dropdownItems" class="dropdown-item d-flex justify-content-between gap-2 p-0"
                                                         (click)="selectItemNO('btn_score1', item)">
                                                         <div class="p-2 d-flex align-items-center gap-2">
                                                            <img class="pain_img" [src]="item.image" alt="">
                                                            <p class="text-nowrap">{{ item.text }}</p>
                                                         </div>
                                                         <div class="score_count clr-primary-600">{{ item.score }}</div>
                                                      </li>
                                                   </ul>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="mt-3">
                                <label for="" class="form-label">More comments:</label>
                                <!-- <textarea name="" class="form-control resize-none" id="textarea_Morecomments" cols="30" rows="3"></textarea> -->
                                <span name="" class="form-control " id="textarea_Morecomments" cols="30" rows="3" resize-none contenteditable="true">
                                </span>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-8">
                                <div class="row g-2">
                                    <div class="col-5">
                                        <label for="" class="form-label">Name</label>
                                        <div class="d-flex align-items-center input-group w-100">
                                            <input id="textbox_name3" type="text" placeholder="search" class="form-control pe-2" aria-label="Search"
                                                [matAutocomplete]="doctor2"
                                                (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : onSearchDoctors($event)">
                                            <mat-autocomplete #doctor2="matAutocomplete">
                                                <mat-option *ngFor="let item of doctorsList"
                                                    (onSelectionChange)="onDoctorSelect(item)"
                                                    value="{{item.EmpNo}}-{{item.Fullname}}">
                                                    {{item.EmpNo}}-{{item.Fullname}}
                                                </mat-option>
                                            </mat-autocomplete>
                                            <button type="button" id="button-addon2" class="btn btn-secondary-fill btn-icon">
                                                <img src="assets/images/icons/icon-search.svg" alt="">
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <!-- <label for="" class="form-label">Date</label> -->
                                        <!-- <input type="date" class="form-control"> -->
                                        
                                            <label class="form-label text-nowrap">Date</label>
                                            <mat-form-field appearance="fill">
                                                <mat-label translate>dd-MMM-yyyy</mat-label>
                                                <input matInput class="" #doctordate1 id="textbox_doctordate1"
                                                    [matDatepicker]="docdate1"
                                                    (click)="docdate.open()">
                                                <mat-datepicker-toggle matSuffix [for]="docdate1">
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #docdate1></mat-datepicker>
                                            </mat-form-field>
                                        
                                    </div>
                                    <div class="col-3">
                                        <label for="" class="form-label">Time</label>
                                        <app-time-selector [hours]="getHours('textbox_generic_time1')" [minutes]="getMinutes('textbox_generic_time1')" (timeSelected)="onTimeChange($event, 'textbox_generic_time1')" [disabled]="isTimeSelectorDisable('textbox_generic_time1')"></app-time-selector>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4">
                                <img id="imgFinal" style="display:none" src="" alt="" />
                                <div class="signature_box active text-end ms-auto mt-2 pb-2">
                                  
                                    <div class="position-relative">
                                    <app-signature #Signature3 class=""  (base64Signature)="base64Signature('Signature3', $event)" [imageToDisplay]="getSignature('Signature3')">
                                        <canvas style="border: 1px solid #000;"></canvas>
                                    </app-signature>
                                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" class="delicon cursor-pointer"
                                    (click)="clearSignature('Signature3'); clearbase64Signature(Signature3)">
                                        <path d="M19.2499 6.16919H19.1765C14.3274 5.68335 9.48736 5.50002 4.6932 5.98585L2.82319 6.16919C2.73223 6.17868 2.64028 6.17004 2.55267 6.14378C2.46506 6.11752 2.38353 6.07416 2.31278 6.01619C2.24203 5.95823 2.18347 5.88682 2.14049 5.80609C2.09751 5.72536 2.07095 5.63691 2.06236 5.54585C2.02569 5.16085 2.3007 4.83085 2.67653 4.79419L4.54653 4.61085C9.4232 4.11585 14.364 4.30835 19.314 4.79419C19.6899 4.83085 19.9649 5.17002 19.9282 5.54585C19.9144 5.71606 19.8368 5.87478 19.7111 5.99033C19.5853 6.10588 19.4206 6.16975 19.2499 6.16919Z" fill="#EB6247"></path>
                                        <path d="M7.79186 5.24331C7.75519 5.24331 7.71852 5.24331 7.67269 5.23415C7.49484 5.2021 7.33666 5.10158 7.23211 4.95418C7.12756 4.80678 7.08498 4.62426 7.11353 4.44581L7.31519 3.24498C7.46186 2.36498 7.66352 1.14581 9.79936 1.14581H12.201C14.346 1.14581 14.5477 2.41081 14.6852 3.25415L14.8869 4.44581C14.951 4.82165 14.6944 5.17915 14.3277 5.23415C13.9519 5.29831 13.5944 5.04165 13.5394 4.67498L13.3377 3.48331C13.2094 2.68581 13.1819 2.52998 12.2102 2.52998H9.80852C8.83686 2.52998 8.81853 2.65831 8.68103 3.47415L8.47019 4.66581C8.44408 4.82693 8.3615 4.97349 8.23722 5.0793C8.11294 5.1851 7.95507 5.24324 7.79186 5.24331ZM13.9427 20.856H8.05769C4.85852 20.856 4.73019 19.0868 4.62936 17.6568L4.03353 8.42598C4.00603 8.05015 4.29936 7.72015 4.67519 7.69265C5.06019 7.67431 5.38103 7.95848 5.40853 8.33431L6.00436 17.5651C6.10519 18.9585 6.14186 19.481 8.05769 19.481H13.9427C15.8677 19.481 15.9044 18.9585 15.996 17.5651L16.5919 8.33431C16.6194 7.95848 16.9494 7.67431 17.3252 7.69265C17.701 7.72015 17.9944 8.04098 17.9669 8.42598L17.371 17.6568C17.2702 19.0868 17.1419 20.856 13.9427 20.856Z" fill="#EB6247"></path>
                                        <path d="M12.5218 15.8125H9.46933C9.0935 15.8125 8.78183 15.5008 8.78183 15.125C8.78183 14.7491 9.0935 14.4375 9.46933 14.4375H12.5218C12.8977 14.4375 13.2093 14.7491 13.2093 15.125C13.2093 15.5008 12.8977 15.8125 12.5218 15.8125ZM13.2918 12.1458H8.7085C8.33266 12.1458 8.021 11.8341 8.021 11.4583C8.021 11.0825 8.33266 10.7708 8.7085 10.7708H13.2918C13.6677 10.7708 13.9793 11.0825 13.9793 11.4583C13.9793 11.8341 13.6677 12.1458 13.2918 12.1458Z" fill="#EB6247"></path>
                                    </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-8">
                                <div class="row g-2">
                                    <div class="col-5">
                                        <label for="" class="form-label">Patient Name</label>
                                        <div class="d-flex align-items-center input-group w-100">
                                            <input id="textbox_name3" type="text" placeholder="search" class="form-control pe-2" aria-label="Search">
                                        </div>
                                    </div>
                                    <div class="col-3">                                        
                                            <label class="form-label text-nowrap">Date</label>
                                            <mat-form-field appearance="fill">
                                                <mat-label translate>dd-MMM-yyyy</mat-label>
                                                <input matInput class="" #doctordate2 id="textbox_doctordate2"
                                                    [matDatepicker]="docdate2"
                                                    (click)="docdate2.open()">
                                                <mat-datepicker-toggle matSuffix [for]="docdate2">
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #docdate2></mat-datepicker>
                                            </mat-form-field>
                                            
                                        
                                    </div>
                                    <div class="col-3">
                                        <label for="" class="form-label">Time</label>
                                        <app-time-selector [hours]="getHours('textbox_generic_time2')" [minutes]="getMinutes('textbox_generic_time2')" (timeSelected)="onTimeChange($event, 'textbox_generic_time2')" [disabled]="isTimeSelectorDisable('textbox_generic_time2')"></app-time-selector>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4">
                                <img id="imgFinal" style="display:none" src="" alt="" />
                                <div class="signature_box active text-end ms-auto mt-2 pb-2">
                                  
                                    <div class="position-relative">
                                    <app-signature #Signature4 class=""  (base64Signature)="base64Signature('Signature4', $event)" [imageToDisplay]="getSignature('Signature4')">
                                        <canvas style="border: 1px solid #000;"></canvas>
                                    </app-signature>
                                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" class="delicon cursor-pointer"
                                    (click)="clearSignature('Signature4'); clearbase64Signature(Signature4)">
                                        <path d="M19.2499 6.16919H19.1765C14.3274 5.68335 9.48736 5.50002 4.6932 5.98585L2.82319 6.16919C2.73223 6.17868 2.64028 6.17004 2.55267 6.14378C2.46506 6.11752 2.38353 6.07416 2.31278 6.01619C2.24203 5.95823 2.18347 5.88682 2.14049 5.80609C2.09751 5.72536 2.07095 5.63691 2.06236 5.54585C2.02569 5.16085 2.3007 4.83085 2.67653 4.79419L4.54653 4.61085C9.4232 4.11585 14.364 4.30835 19.314 4.79419C19.6899 4.83085 19.9649 5.17002 19.9282 5.54585C19.9144 5.71606 19.8368 5.87478 19.7111 5.99033C19.5853 6.10588 19.4206 6.16975 19.2499 6.16919Z" fill="#EB6247"></path>
                                        <path d="M7.79186 5.24331C7.75519 5.24331 7.71852 5.24331 7.67269 5.23415C7.49484 5.2021 7.33666 5.10158 7.23211 4.95418C7.12756 4.80678 7.08498 4.62426 7.11353 4.44581L7.31519 3.24498C7.46186 2.36498 7.66352 1.14581 9.79936 1.14581H12.201C14.346 1.14581 14.5477 2.41081 14.6852 3.25415L14.8869 4.44581C14.951 4.82165 14.6944 5.17915 14.3277 5.23415C13.9519 5.29831 13.5944 5.04165 13.5394 4.67498L13.3377 3.48331C13.2094 2.68581 13.1819 2.52998 12.2102 2.52998H9.80852C8.83686 2.52998 8.81853 2.65831 8.68103 3.47415L8.47019 4.66581C8.44408 4.82693 8.3615 4.97349 8.23722 5.0793C8.11294 5.1851 7.95507 5.24324 7.79186 5.24331ZM13.9427 20.856H8.05769C4.85852 20.856 4.73019 19.0868 4.62936 17.6568L4.03353 8.42598C4.00603 8.05015 4.29936 7.72015 4.67519 7.69265C5.06019 7.67431 5.38103 7.95848 5.40853 8.33431L6.00436 17.5651C6.10519 18.9585 6.14186 19.481 8.05769 19.481H13.9427C15.8677 19.481 15.9044 18.9585 15.996 17.5651L16.5919 8.33431C16.6194 7.95848 16.9494 7.67431 17.3252 7.69265C17.701 7.72015 17.9944 8.04098 17.9669 8.42598L17.371 17.6568C17.2702 19.0868 17.1419 20.856 13.9427 20.856Z" fill="#EB6247"></path>
                                        <path d="M12.5218 15.8125H9.46933C9.0935 15.8125 8.78183 15.5008 8.78183 15.125C8.78183 14.7491 9.0935 14.4375 9.46933 14.4375H12.5218C12.8977 14.4375 13.2093 14.7491 13.2093 15.125C13.2093 15.5008 12.8977 15.8125 12.5218 15.8125ZM13.2918 12.1458H8.7085C8.33266 12.1458 8.021 11.8341 8.021 11.4583C8.021 11.0825 8.33266 10.7708 8.7085 10.7708H13.2918C13.6677 10.7708 13.9793 11.0825 13.9793 11.4583C13.9793 11.8341 13.6677 12.1458 13.2918 12.1458Z" fill="#EB6247"></path>
                                    </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
    </div>
</div>

<app-sharedtemplateview [FetchPatienClinicalTemplateDetailsNList]="FetchPatienClinicalTemplateDetailsNList"
      [selectedTemplateFn]="selectedTemplate.bind(this)">
   </app-sharedtemplateview>


<!-- <div class="modal" id="savedModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width:60%">
       <div class="modal-content">
          <div class="modal-header p-2">
             <h5 class="modal-title clr-primary-600 fs-6" translate>Templates</h5>
             <div class="d-flex align-items-center gap-2">
                <button type="button" data-bs-dismiss="modal" aria-label="Close" class="btn-close"></button>
                </div>
          </div>
          <div class="modal-body p-3">
             <div class="table-cards_div text-start d-flex mx-0 mt-0 g-2 p-2 position-relative"
                *ngFor="let tem of FetchPatienClinicalTemplateDetailsNList;let i=index">
                <div class="row mx-0 g-2 w-100">
                   <div class="col-lg col-md-4 col-12">
                      <p class="label">Template ID</p>
                      <p><a href="#" (click)="$event.preventDefault();selectedTemplate(tem)">{{
                            tem.PatientTemplatedetailID }}</a></p>
                   </div>
                   <div class="col-lg col-md-4 col-12">
                      <p class="label">Name</p>
                      <p>{{ tem.PatientName }}</p>
                   </div>
 
                   <div class="col-lg col-md-4 col-12">
                      <p class="label">DoctorName</p>
                      <p>{{ tem.Consultant }}</p>
                   </div>
                   <div class="col-lg col-md-4 col-12">
                      <p class="label">Created By</p>
                      <p>{{ tem.CreatedBy }}</p>
                   </div>
                   <div class="col-lg col-md-4 col-12">
                      <p class="label">Date</p>
                      <p>{{ tem.Createdate | date: 'dd-MMM-yyyy' }}</p>
                   </div>
                </div>
             </div>
          </div>
       </div>
    </div>
 </div>

 <div class="modal" id="saveMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-success.svg" alt="">
            <div class="modal-body">
                <p>Saved successfully</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">Ok</a>
                </div>
            </div>
        </div>
    </div>
 </div> -->
 