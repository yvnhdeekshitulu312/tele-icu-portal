<div class="modal clara-popup-modal d-none" id="clara-popup-modal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog h-100" style="max-width:55rem">
        <div class="modal-content h-100">
            
            <!-- Header -->
            <div class="modal-header">
                <div>
                    <div class="d-flex align-items-center gap-2">
                        <div class="clara-avatar text-center">
                            <img src="assets/images/Generate_AI-btn.svg" alt="">
                        </div>
                        <div class="welcome-msg d-flex flex-column">
                            <svg width="50" height="19" viewBox="0 0 69 19" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M64.187 5.95805H68.6925V18.4666C68.5146 18.5259 68.2281 18.5753 67.8329 18.6148C67.4377 18.6741 67.0326 18.7038 66.6176 18.7038C65.7284 18.7038 65.096 18.5457 64.7206 18.2295C64.3649 17.9133 64.187 17.36 64.187 16.5696V5.95805ZM68.6925 11.6492H64.187V0.474435C64.3846 0.434914 64.681 0.385512 65.0762 0.326229C65.4912 0.266946 65.8963 0.237305 66.2915 0.237305C67.1413 0.237305 67.7538 0.385511 68.1293 0.681924C68.5047 0.978335 68.6925 1.54152 68.6925 2.37147V11.6492Z"
                                    fill="url(#paint0_linear_5814_12623)" />
                                <path
                                    d="M53.9567 4.26841H53.7788C53.5812 4.90075 53.3441 5.60226 53.0674 6.37293C52.8105 7.1436 52.5438 7.95379 52.2671 8.80351C51.9905 9.63346 51.7237 10.4634 51.4668 11.2934L50.9333 13.9611C50.8147 14.3365 50.6961 14.7317 50.5776 15.1467C50.4788 15.5617 50.3701 15.9668 50.2515 16.362C50.133 16.7572 50.0243 17.1327 49.9255 17.4884C49.8267 17.8441 49.7279 18.18 49.629 18.4962C49.4117 18.5555 49.1647 18.6147 48.888 18.674C48.6114 18.7531 48.2853 18.7926 47.9099 18.7926C47.0799 18.7926 46.4476 18.6444 46.0128 18.348C45.5781 18.0516 45.3607 17.6168 45.3607 17.0438C45.3607 16.8066 45.3904 16.5596 45.4496 16.3027C45.5287 16.0458 45.6176 15.7494 45.7164 15.4135C45.8943 14.7614 46.1413 13.9413 46.4574 12.9533C46.7934 11.9652 47.1491 10.8982 47.5245 9.75203C47.9197 8.58614 48.315 7.44001 48.7102 6.31365C49.1251 5.18728 49.5006 4.14984 49.8365 3.20132C50.1922 2.2528 50.4788 1.51178 50.6961 0.978234C50.9728 0.800387 51.4075 0.6423 52.0003 0.503974C52.6129 0.345888 53.2156 0.266846 53.8085 0.266846C54.6582 0.266846 55.419 0.39529 56.0908 0.65218C56.7627 0.88931 57.1876 1.27465 57.3654 1.80819C57.7409 2.85551 58.146 4.0708 58.5807 5.45405C59.0352 6.81755 59.4897 8.25021 59.9442 9.75203C60.3987 11.2538 60.8334 12.7161 61.2484 14.1389C61.6831 15.5419 62.0586 16.8066 62.3748 17.933C62.1574 18.1701 61.8412 18.3677 61.4262 18.5258C61.0113 18.7037 60.5172 18.7926 59.9442 18.7926C59.134 18.7926 58.5609 18.6444 58.225 18.348C57.8891 18.0516 57.6322 17.6069 57.4543 17.0141L56.5058 13.6943L56.0019 11.1748C55.7648 10.2856 55.5178 9.42597 55.2609 8.59602C55.004 7.76607 54.7669 6.98551 54.5495 6.25436C54.3321 5.50345 54.1345 4.84147 53.9567 4.26841ZM48.9473 14.4946L50.6961 10.997H57.6322L58.225 14.4946H48.9473Z"
                                    fill="url(#paint1_linear_5814_12623)" />
                                <path
                                    d="M30.9422 15.3245C32.0093 15.3245 32.7701 15.1368 33.2246 14.7613C33.6988 14.3661 33.936 13.9017 33.936 13.3682C33.936 12.8742 33.7482 12.4789 33.3728 12.1825C33.0171 11.8861 32.4835 11.6193 31.7722 11.3822L30.2012 10.8783C29.1341 10.5226 28.1856 10.1274 27.3556 9.69267C26.5454 9.25793 25.9131 8.69475 25.4586 8.00312C25.0238 7.31149 24.8065 6.43214 24.8065 5.36505C24.8065 3.72491 25.4289 2.4207 26.6739 1.45242C27.9188 0.484139 29.6479 0 31.8611 0C32.9874 0 33.9854 0.108684 34.8548 0.326052C35.7441 0.543421 36.4357 0.869474 36.9297 1.30421C37.4435 1.71919 37.7004 2.23297 37.7004 2.84555C37.7004 3.30005 37.5917 3.69527 37.3743 4.0312C37.1767 4.34737 36.9198 4.62402 36.6037 4.86115C36.1492 4.54498 35.5465 4.27821 34.7956 4.06084C34.0446 3.82371 33.2147 3.70515 32.3057 3.70515C31.3572 3.70515 30.6458 3.86323 30.1715 4.17941C29.6973 4.47582 29.4601 4.87103 29.4601 5.36505C29.4601 5.76027 29.6182 6.08632 29.9344 6.34321C30.2506 6.58034 30.7248 6.79771 31.3572 6.99532L32.9874 7.49922C34.7857 8.05252 36.1689 8.79355 37.1372 9.72231C38.1055 10.6313 38.5896 11.8565 38.5896 13.3978C38.5896 15.0577 37.9474 16.4113 36.6629 17.4587C35.3785 18.4862 33.521 19 31.0904 19C29.885 19 28.808 18.8716 27.8595 18.6147C26.911 18.3578 26.1502 17.9823 25.5771 17.4883C25.0238 16.9943 24.7472 16.4212 24.7472 15.7691C24.7472 15.2553 24.8954 14.8206 25.1918 14.4649C25.508 14.0894 25.8538 13.8128 26.2293 13.6349C26.7628 14.0697 27.4248 14.4649 28.2152 14.8206C29.0254 15.1565 29.9344 15.3245 30.9422 15.3245Z"
                                    fill="url(#paint2_linear_5814_12623)" />
                                <path
                                    d="M18.3174 5.95805H22.8228V18.4666C22.645 18.5259 22.3585 18.5753 21.9633 18.6148C21.568 18.6741 21.1629 18.7038 20.748 18.7038C19.8587 18.7038 19.2264 18.5457 18.8509 18.2295C18.4952 17.9133 18.3174 17.36 18.3174 16.5696V5.95805ZM22.8228 11.6492H18.3174V0.474435C18.515 0.434914 18.8114 0.385512 19.2066 0.326229C19.6216 0.266946 20.0267 0.237305 20.4219 0.237305C21.2716 0.237305 21.8842 0.385511 22.2597 0.681924C22.6351 0.978335 22.8228 1.54152 22.8228 2.37147V11.6492Z"
                                    fill="url(#paint3_linear_5814_12623)" />
                                <path
                                    d="M0 5.95805H4.50546V18.4666C4.32761 18.5259 4.04108 18.5753 3.64587 18.6148C3.25065 18.6741 2.84555 18.7038 2.43058 18.7038C1.54134 18.7038 0.908997 18.5457 0.533542 18.2295C0.177847 17.9133 0 17.36 0 16.5696V5.95805ZM4.50546 11.6492H0V0.474435C0.197608 0.434914 0.49402 0.385512 0.889236 0.326229C1.30421 0.266946 1.69943 0.237305 2.07488 0.237305C2.94436 0.237305 3.56682 0.385511 3.94228 0.681924C4.31773 0.978335 4.50546 1.54152 4.50546 2.37147V11.6492ZM11.0562 5.95805H15.5913V18.4666C15.3937 18.5259 15.0972 18.5753 14.702 18.6148C14.3068 18.6741 13.9017 18.7038 13.4867 18.7038C12.5975 18.7038 11.9652 18.5457 11.5897 18.2295C11.234 17.9133 11.0562 17.36 11.0562 16.5696V5.95805ZM15.5913 11.6492H11.0562V0.474435C11.2735 0.434914 11.5798 0.385512 11.975 0.326229C12.3703 0.266946 12.7655 0.237305 13.1607 0.237305C14.0104 0.237305 14.623 0.395391 14.9984 0.711565C15.3937 1.00798 15.5913 1.57116 15.5913 2.40111V11.6492ZM13.6349 11.2638H2.04524V7.67724H13.6349V11.2638Z"
                                    fill="url(#paint4_linear_5814_12623)" />
                                <defs>
                                    <linearGradient id="paint0_linear_5814_12623" x1="-6.48431" y1="12.321" x2="82.8029"
                                        y2="12.321" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#0FB6E0" />
                                        <stop offset="0.480769" stop-color="#5A66F7" />
                                        <stop offset="1" stop-color="#933BF7" />
                                    </linearGradient>
                                    <linearGradient id="paint1_linear_5814_12623" x1="-6.48428" y1="12.3209" x2="82.803"
                                        y2="12.3209" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#0FB6E0" />
                                        <stop offset="0.480769" stop-color="#5A66F7" />
                                        <stop offset="1" stop-color="#933BF7" />
                                    </linearGradient>
                                    <linearGradient id="paint2_linear_5814_12623" x1="-6.48422" y1="12.3209" x2="82.803"
                                        y2="12.3209" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#0FB6E0" />
                                        <stop offset="0.480769" stop-color="#5A66F7" />
                                        <stop offset="1" stop-color="#933BF7" />
                                    </linearGradient>
                                    <linearGradient id="paint3_linear_5814_12623" x1="-6.4842" y1="12.321" x2="82.803"
                                        y2="12.321" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#0FB6E0" />
                                        <stop offset="0.480769" stop-color="#5A66F7" />
                                        <stop offset="1" stop-color="#933BF7" />
                                    </linearGradient>
                                    <linearGradient id="paint4_linear_5814_12623" x1="-6.48427" y1="12.321" x2="82.803"
                                        y2="12.321" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#0FB6E0" />
                                        <stop offset="0.480769" stop-color="#5A66F7" />
                                        <stop offset="1" stop-color="#933BF7" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            <p class=" d-flex align-items-center justify-content-center gap-2">
                                Meet HIS, your Medical AI assistant
                            </p>
                        </div>
                    </div>
                </div>
                <div class="d-flex align-items-center gap-2 ms-auto">
                    <div class="d-flex align-items-center gap-1" *ngIf="selectedVisit">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M15 4C15 5.10457 14.1046 6 13 6C11.8954 6 11 5.10457 11 4C11 2.89543 11.8954 2 13 2C14.1046 2 15 2.89543 15 4Z"
                                fill="#368796" />
                            <path
                                d="M12.8751 7.06983C11.9963 6.63061 10.9557 6.65953 10.1026 7.14698L7.91415 8.39796C7.50987 8.62897 7.16466 8.951 6.90633 9.33839L5.16805 11.9458C4.8617 12.4053 4.98588 13.0262 5.4454 13.3325C5.90492 13.6389 6.52576 13.5147 6.83211 13.0552L8.5704 10.4478C8.65649 10.3187 8.77164 10.2113 8.90633 10.1343L9.6368 9.71632L9.24618 11.6694C9.03579 12.7225 9.40477 13.808 10.213 14.5151L13.1378 17.0747L14.5518 21.3169C14.7267 21.8404 15.2928 22.1232 15.8165 21.9487C16.3401 21.774 16.6227 21.2078 16.4483 20.6841L14.9483 16.1841C14.8921 16.0156 14.7919 15.8645 14.6583 15.7476L12.963 14.2642C12.969 14.242 12.976 14.2196 12.9806 14.1968L13.5684 11.2534C13.8291 11.5548 14.143 11.841 14.5235 12.0894C15.3934 12.657 16.5397 13.0005 18.0001 13.0005C18.5524 13.0005 19.0001 12.5528 19.0001 12.0005C19.0001 11.4482 18.5524 11.0005 18.0001 11.0005C16.8593 11.0005 16.1088 10.7351 15.6173 10.4146C15.1249 10.0933 14.8326 9.6776 14.67 9.2837C14.3821 8.58649 13.8857 7.57513 12.8751 7.06983Z"
                                fill="#368796" />
                            <path
                                d="M8.89232 14.9355C9.04235 15.1205 9.20762 15.2962 9.39036 15.4561L10.4772 16.4072L9.93626 17.8516C9.89688 17.9565 9.84001 18.0545 9.76829 18.1406L7.26829 21.1406C6.91471 21.5648 6.28336 21.6221 5.85911 21.2686C5.43522 20.9149 5.37774 20.2835 5.73118 19.8594L8.12279 16.9893L8.89232 14.9355Z"
                                fill="#368796" />
                        </svg>
                        <span class="fw-semibold">Visit Date:</span>
                        <div class="d-flex align-items-center gap-1">
                            <svg width="15" height="15" viewBox="0 0 10 11" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                    fill="#368796" />
                            </svg>
                            <p class="m-0 fw-bold text-nowrap fs-7">
                                {{selectedVisit.VisitDate?.split('
                                ')[0]}}</p>

                            <svg class="" width="15" height="15" viewBox="0 0 10 11" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                    fill="#368796" />
                                <path
                                    d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                    fill="#368796" />
                            </svg>
                            <p class="m-0 fw-bold text-nowrap fs-7">
                                {{selectedVisit.VisitDate?.split('
                                ')[1]}}</p>

                        </div>
                    </div>

                    <button type="button" class="btn ai_btn_fill" (click)="printSpan()" *ngIf="currentResponse">Export</button>
                    <button type="button" class="btn-close" aria-label="Close" (click)="closeAIModal()"></button>
                </div>
            </div>

            <!-- Body -->
            <div class="modal-body p-0">

                <div class="modal-body_height" [class]="selectedOption === 'PreviousHistory' ? 'withvisits' : ''">
                    <div class="clara-options_row mt-2 p-1">

                        <!-- OPTIONS -->
                        <div class="clara-options row mx-0 g-2" *ngIf="mode === 'voice'">

                            <div class="col-6">
                                <div class="clara-option-item d-flex align-items-center gap-2"
                                    [class.selected]="selectedOption === 'Chief Complaints'"
                                    (click)="selectClaraOption('Chief Complaints')">

                                    <svg width="35" height="35" viewBox="0 0 50 50" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="url(#paint0_linear_5861_13074)" />
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="white" fill-opacity="0.2" />
                                        <path
                                            d="M16.5704 22.6071H24.5535C24.8308 22.6071 25.0521 22.382 25.0521 22.1079C25.0521 21.8339 24.8272 21.6087 24.5535 21.6087H16.5704C16.2931 21.6087 16.0719 21.8339 16.0719 22.1079C16.0719 22.3818 16.2967 22.6071 16.5704 22.6071Z"
                                            fill="white" />
                                        <path
                                            d="M24.5535 25.1066H16.5705C16.2968 25.1066 16.072 24.8776 16.072 24.6037C16.072 24.3297 16.2932 24.1045 16.5705 24.1045H24.5572C24.8308 24.1045 25.0521 24.3335 25.0521 24.6074C25.0521 24.8814 24.8308 25.1066 24.5535 25.1066Z"
                                            fill="white" />
                                        <path
                                            d="M16.5704 27.6064H21.5608C21.8381 27.6064 22.0593 27.3813 22.0593 27.1072C22.0593 26.8332 21.8345 26.608 21.5608 26.608L16.5704 26.6082C16.2931 26.6082 16.0719 26.8333 16.0719 27.1074C16.0719 27.3813 16.2967 27.6064 16.5704 27.6064Z"
                                            fill="white" />
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M36.8184 20.5861C35.8027 19.569 34.1496 19.569 33.1339 20.5861L31.5559 22.1663L31.5558 15.1059C31.5558 13.7283 30.435 12.6061 29.0595 12.6061L19.5688 12.606C19.4376 12.606 19.3101 12.6585 19.2164 12.7523L13.7214 18.2511C13.6277 18.3449 13.5752 18.4726 13.5752 18.6039V34.1062C13.5752 35.4838 14.696 36.606 16.0715 36.606H29.0552C30.4309 36.606 31.5515 35.4836 31.5515 34.1062L31.5517 29.5457L36.8143 24.2757C37.3052 23.784 37.5752 23.127 37.5752 22.4327C37.5788 21.731 37.3093 21.0777 36.8184 20.5861ZM30.5551 34.1061C30.5551 34.9319 29.8842 35.6074 29.0559 35.6074L16.0718 35.6076C15.2471 35.6076 14.5725 34.9357 14.5725 34.1062V19.107H17.5673C18.943 19.107 20.0636 17.9846 20.0636 16.6072V13.6044H29.0516C29.8763 13.6044 30.5509 14.2763 30.5509 15.1057V23.1681L24.4188 29.3127L24.4132 29.3202L24.4076 29.3277C24.374 29.3652 24.3475 29.4065 24.3251 29.4516C24.3232 29.4572 24.3204 29.4629 24.3176 29.4685C24.3148 29.4741 24.312 29.4797 24.3101 29.4853C24.3082 29.4889 24.3046 29.4945 24.3046 29.4945C24.3046 29.4945 24.3008 29.5003 24.2989 29.5042L22.8109 33.9744C22.7508 34.1546 22.7959 34.3535 22.9308 34.4848C23.0245 34.5787 23.152 34.6312 23.2832 34.6312C23.3356 34.6312 23.3881 34.6238 23.4405 34.6049L27.9045 33.1148L27.9095 33.1121C27.914 33.1095 27.9176 33.1074 27.9233 33.1074C27.9289 33.1055 27.9336 33.1027 27.9383 33.0999C27.943 33.0971 27.9477 33.0943 27.9533 33.0924C28.002 33.0699 28.047 33.0398 28.0845 33.006L28.0867 33.004L28.092 33.0004L28.0995 32.9947L30.5509 30.5399L30.5507 34.1057L30.5551 34.1061ZM26.8256 32.4283L24.0744 33.348L24.9928 30.593L26.8256 32.4283ZM27.7477 31.9403L25.4763 29.6657L31.9984 23.1344L34.2698 25.4091L27.7477 31.9403ZM36.1102 23.5661L34.9744 24.7035L32.703 22.4289L33.8388 21.2915C34.4647 20.6647 35.4843 20.6647 36.1102 21.2915C36.4137 21.5955 36.5787 22.0009 36.5787 22.4289C36.5823 22.8568 36.4137 23.2622 36.1102 23.5661Z"
                                            fill="white" />
                                        <path
                                            d="M16.5704 22.6071H24.5535C24.8308 22.6071 25.0521 22.382 25.0521 22.1079C25.0521 21.8339 24.8272 21.6087 24.5535 21.6087H16.5704C16.2931 21.6087 16.0719 21.8339 16.0719 22.1079C16.0719 22.3818 16.2967 22.6071 16.5704 22.6071Z"
                                            stroke="white" stroke-width="0.333333" />
                                        <path
                                            d="M24.5535 25.1066H16.5705C16.2968 25.1066 16.072 24.8776 16.072 24.6037C16.072 24.3297 16.2932 24.1045 16.5705 24.1045H24.5572C24.8308 24.1045 25.0521 24.3335 25.0521 24.6074C25.0521 24.8814 24.8308 25.1066 24.5535 25.1066Z"
                                            stroke="white" stroke-width="0.333333" />
                                        <path
                                            d="M16.5704 27.6064H21.5608C21.8381 27.6064 22.0593 27.3813 22.0593 27.1072C22.0593 26.8332 21.8345 26.608 21.5608 26.608L16.5704 26.6082C16.2931 26.6082 16.0719 26.8333 16.0719 27.1074C16.0719 27.3813 16.2967 27.6064 16.5704 27.6064Z"
                                            stroke="white" stroke-width="0.333333" />
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M36.8184 20.5861C35.8027 19.569 34.1496 19.569 33.1339 20.5861L31.5559 22.1663L31.5558 15.1059C31.5558 13.7283 30.435 12.6061 29.0595 12.6061L19.5688 12.606C19.4376 12.606 19.3101 12.6585 19.2164 12.7523L13.7214 18.2511C13.6277 18.3449 13.5752 18.4726 13.5752 18.6039V34.1062C13.5752 35.4838 14.696 36.606 16.0715 36.606H29.0552C30.4309 36.606 31.5515 35.4836 31.5515 34.1062L31.5517 29.5457L36.8143 24.2757C37.3052 23.784 37.5752 23.127 37.5752 22.4327C37.5788 21.731 37.3093 21.0777 36.8184 20.5861ZM30.5551 34.1061C30.5551 34.9319 29.8842 35.6074 29.0559 35.6074L16.0718 35.6076C15.2471 35.6076 14.5725 34.9357 14.5725 34.1062V19.107H17.5673C18.943 19.107 20.0636 17.9846 20.0636 16.6072V13.6044H29.0516C29.8763 13.6044 30.5509 14.2763 30.5509 15.1057V23.1681L24.4188 29.3127L24.4132 29.3202L24.4076 29.3277C24.374 29.3652 24.3475 29.4065 24.3251 29.4516C24.3232 29.4572 24.3204 29.4629 24.3176 29.4685C24.3148 29.4741 24.312 29.4797 24.3101 29.4853C24.3082 29.4889 24.3046 29.4945 24.3046 29.4945C24.3046 29.4945 24.3008 29.5003 24.2989 29.5042L22.8109 33.9744C22.7508 34.1546 22.7959 34.3535 22.9308 34.4848C23.0245 34.5787 23.152 34.6312 23.2832 34.6312C23.3356 34.6312 23.3881 34.6238 23.4405 34.6049L27.9045 33.1148L27.9095 33.1121C27.914 33.1095 27.9176 33.1074 27.9233 33.1074C27.9289 33.1055 27.9336 33.1027 27.9383 33.0999C27.943 33.0971 27.9477 33.0943 27.9533 33.0924C28.002 33.0699 28.047 33.0398 28.0845 33.006L28.0867 33.004L28.092 33.0004L28.0995 32.9947L30.5509 30.5399L30.5507 34.1057L30.5551 34.1061ZM26.8256 32.4283L24.0744 33.348L24.9928 30.593L26.8256 32.4283ZM27.7477 31.9403L25.4763 29.6657L31.9984 23.1344L34.2698 25.4091L27.7477 31.9403ZM36.1102 23.5661L34.9744 24.7035L32.703 22.4289L33.8388 21.2915C34.4647 20.6647 35.4843 20.6647 36.1102 21.2915C36.4137 21.5955 36.5787 22.0009 36.5787 22.4289C36.5823 22.8568 36.4137 23.2622 36.1102 23.5661Z"
                                            stroke="white" stroke-width="0.333333" />
                                        <defs>
                                            <linearGradient id="paint0_linear_5861_13074" x1="0" y1="0" x2="49.2119"
                                                y2="49.2119" gradientUnits="userSpaceOnUse">
                                                <stop stop-color="#51A2FF" />
                                                <stop offset="1" stop-color="#00B8DB" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <div class="clara-option-text">
                                        <h3>Chief Complaints</h3>
                                        <p>Capture the patient's primary concerns.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="clara-option-item d-flex align-items-center gap-2"
                                    [class.selected]="selectedOption === 'Active Medication'"
                                    (click)="selectClaraOption('Active Medication')">
                                    <svg width="35" height="35" viewBox="0 0 50 50" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="url(#paint0_linear_5861_13092)" />
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="white" fill-opacity="0.2" />
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M35.502 18.2488C35.502 20.9493 33.3129 23.1385 30.6123 23.1385C27.9118 23.1385 25.7227 20.9493 25.7227 18.2488C25.7227 15.5483 27.9118 13.3591 30.6123 13.3591C33.3129 13.3591 35.502 15.5483 35.502 18.2488ZM33.2297 18.8507C33.1541 19.1797 32.8261 19.3851 32.4971 19.3094L28.4535 18.3798C28.1246 18.3042 27.9192 17.9762 27.9948 17.6472C28.0705 17.3183 28.3985 17.1128 28.7274 17.1885L32.771 18.1181C33.1 18.1937 33.3054 18.5217 33.2297 18.8507Z"
                                            fill="white" />
                                        <path
                                            d="M20.0861 15.3424C19.6903 14.4061 18.3668 14.3117 17.8351 15.1817L13.6773 21.986C13.1976 22.7709 13.7339 23.773 14.6693 23.8397L21.9222 24.3573C22.8576 24.424 23.5381 23.5088 23.1811 22.6641L20.0861 15.3424Z"
                                            fill="white" />
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M31.4589 31.9149C33.2945 31.059 34.0887 28.877 33.2327 27.0414C32.3767 25.2058 30.1948 24.4116 28.3592 25.2676L21.7118 28.3673C19.8762 29.2233 19.082 31.4052 19.938 33.2408C20.794 35.0764 22.9759 35.8706 24.8115 35.0146L31.4589 31.9149ZM28.1325 32.1172L30.9422 30.807C32.166 30.2364 32.6954 28.7817 32.1248 27.558C31.5542 26.3342 30.0995 25.8048 28.8758 26.3754L26.066 27.6856L28.1325 32.1172Z"
                                            fill="white" />
                                        <defs>
                                            <linearGradient id="paint0_linear_5861_13092" x1="0" y1="0" x2="49.2119"
                                                y2="49.2119" gradientUnits="userSpaceOnUse">
                                                <stop stop-color="#6ED885" />
                                                <stop offset="1" stop-color="#016C37" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <div class="clara-option-text">
                                        <h3>Medication</h3>
                                        <p>Display All Active Medication</p>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="clara-option-item d-flex align-items-center gap-2"
                                    [class.selected]="selectedOption === 'Investigation/Procedures'"
                                    (click)="selectClaraOption('Investigation/Procedures')">
                                    <svg width="35" height="35" viewBox="0 0 50 50" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="url(#paint0_linear_5861_13099)" />
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="white" fill-opacity="0.2" />
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M31.6832 14.606H18.6514C17.0315 14.606 15.7139 15.9238 15.7139 17.5435V31.6684C15.7139 33.2884 17.0317 34.606 18.6514 34.606H31.6832C32.684 34.606 33.4981 33.7919 33.4981 32.791V16.4208C33.4981 15.4199 32.6838 14.606 31.6832 14.606ZM32.113 32.7909C32.113 33.0279 31.9201 33.221 31.6829 33.221H29.9132C29.9682 33.0886 29.9992 32.9433 29.9992 32.7909V16.4212C29.9992 16.2687 29.9682 16.1238 29.9132 15.9911H31.6832C31.9201 15.9911 32.1132 16.184 32.1132 16.4212L32.113 32.7909ZM23.8127 18.4068C23.8127 18.2687 23.7008 18.1568 23.5627 18.1568H22.5004C22.3623 18.1568 22.2504 18.2687 22.2504 18.4068V19.6222C22.2504 19.7603 22.1385 19.8722 22.0004 19.8722H20.8042C20.6662 19.8722 20.5542 19.9842 20.5542 20.1222L20.5542 21.1845C20.5542 21.3226 20.6662 21.4345 20.8042 21.4345H22.0004C22.1385 21.4345 22.2504 21.5464 22.2504 21.6845V22.8868C22.2504 23.0249 22.3623 23.1368 22.5004 23.1368H23.5627C23.7008 23.1368 23.8127 23.0249 23.8127 22.8868V21.6845C23.8127 21.5464 23.9246 21.4345 24.0627 21.4345H25.2843C25.4223 21.4345 25.5343 21.3226 25.5343 21.1845V20.1222C25.5343 19.9842 25.4223 19.8722 25.2843 19.8722H24.0627C23.9246 19.8722 23.8127 19.7603 23.8127 19.6222V18.4068ZM19.5445 25.4475C19.2683 25.4475 19.0445 25.6713 19.0445 25.9475C19.0445 26.2236 19.2683 26.4475 19.5445 26.4475H26.5445C26.8206 26.4475 27.0445 26.2236 27.0445 25.9475C27.0445 25.6713 26.8206 25.4475 26.5445 25.4475H19.5445ZM19.0445 27.9253C19.0445 27.6491 19.2683 27.4252 19.5445 27.4252H26.5445C26.8206 27.4252 27.0445 27.6491 27.0445 27.9253C27.0445 28.2014 26.8206 28.4253 26.5445 28.4253H19.5445C19.2683 28.4253 19.0445 28.2014 19.0445 27.9253ZM19.5445 29.403C19.2683 29.403 19.0445 29.6269 19.0445 29.903C19.0445 30.1792 19.2683 30.403 19.5445 30.403H26.5445C26.8206 30.403 27.0445 30.1792 27.0445 29.903C27.0445 29.6269 26.8206 29.403 26.5445 29.403H19.5445Z"
                                            fill="white" />
                                        <defs>
                                            <linearGradient id="paint0_linear_5861_13099" x1="0" y1="0" x2="49.2119"
                                                y2="49.2119" gradientUnits="userSpaceOnUse">
                                                <stop stop-color="#635EE1" />
                                                <stop offset="1" stop-color="#1F1794" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <div class="clara-option-text">
                                        <h3>Investigation/Procedures</h3>
                                        <p>Display All Investigation/Procedures</p>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="clara-option-item d-flex align-items-center gap-2"
                                    [class.selected]="selectedOption === 'Surgeries'"
                                    (click)="selectClaraOption('Surgeries')">
                                    <svg width="35" height="35" viewBox="0 0 50 50" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="url(#paint0_linear_5861_13103)" />
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="white" fill-opacity="0.2" />
                                        <path
                                            d="M34.4274 25.3917H34.3877C34.2051 24.4962 33.4116 23.8202 32.4631 23.8202H19.8917C19.6749 23.8202 19.4988 23.644 19.4988 23.4274C19.4988 22.7775 18.9701 22.2488 18.3202 22.2488H15.9631C15.3132 22.2488 14.7845 22.7775 14.7845 23.4274V25.3917C14.1346 25.3917 13.606 25.9203 13.606 26.5702C13.606 27.2201 14.1346 27.7488 14.7845 27.7488H18.3202V28.1417C18.3202 29.2247 19.2015 30.106 20.2845 30.106H23.0345V30.8917H22.6417C21.9918 30.8917 21.4631 31.4203 21.4631 32.0702C21.4631 32.2087 21.4915 32.3396 21.5355 32.4631H21.0702C20.4203 32.4631 19.8917 32.9918 19.8917 33.6417V34.4274C19.8917 35.0773 20.4203 35.606 21.0702 35.606H28.1417C28.7916 35.606 29.3202 35.0773 29.3202 34.4274V33.6417C29.3202 32.9918 28.7916 32.4631 28.1417 32.4631H27.6764C27.7204 32.3396 27.7488 32.2087 27.7488 32.0702C27.7488 31.4203 27.2201 30.8917 26.5702 30.8917H26.1774V30.106H28.9274C30.0104 30.106 30.8917 29.2247 30.8917 28.1417V27.7488H34.4274C35.0773 27.7488 35.606 27.2201 35.606 26.5702C35.606 25.9203 35.0773 25.3917 34.4274 25.3917ZM15.5702 23.4274C15.5702 23.2108 15.7463 23.0345 15.9631 23.0345H18.3202C18.537 23.0345 18.7131 23.2108 18.7131 23.4274C18.7131 24.0773 19.2418 24.606 19.8917 24.606H32.4631C32.9753 24.606 33.4123 24.9344 33.5745 25.3917H15.5702V23.4274ZM20.2845 29.3202C19.6346 29.3202 19.106 28.7916 19.106 28.1417V27.7488H23.0345V29.3202H20.2845ZM28.5345 33.6417V34.4274C28.5345 34.644 28.3584 34.8202 28.1417 34.8202H21.0702C20.8535 34.8202 20.6774 34.644 20.6774 34.4274V33.6417C20.6774 33.4251 20.8535 33.2488 21.0702 33.2488H28.1417C28.3584 33.2488 28.5345 33.4251 28.5345 33.6417ZM23.8202 30.8917V27.7488H25.3917V30.8917H23.8202ZM30.106 28.1417C30.106 28.7916 29.5773 29.3202 28.9274 29.3202H26.1774V27.7488H30.106V28.1417ZM14.7845 21.4631H23.4274C24.0773 21.4631 24.606 20.9344 24.606 20.2845V14.7845C24.606 14.1346 24.0773 13.606 23.4274 13.606H14.7845C14.1346 13.606 13.606 14.1346 13.606 14.7845V20.2845C13.606 20.9344 14.1346 21.4631 14.7845 21.4631ZM15.5702 17.5345C15.5702 17.3176 15.746 17.1417 15.9631 17.1417H17.3719L18.1576 16.356C18.3832 16.1304 18.7189 16.0638 19.0139 16.1856C19.3085 16.3076 19.4988 16.5927 19.4988 16.9115V18.1576L20.2845 17.3719C20.4307 17.2255 20.6333 17.1417 20.8401 17.1417H22.2488C22.466 17.1417 22.6417 17.3176 22.6417 17.5345C22.6417 17.7515 22.466 17.9274 22.2488 17.9274H20.8401L20.0543 18.7131C19.9036 18.8637 19.7037 18.9437 19.4996 18.9437C19.3983 18.9437 19.2959 18.9239 19.198 18.8834C18.9034 18.7614 18.7131 18.4764 18.7131 18.1576V16.9115L17.9274 17.6972C17.7812 17.8436 17.5786 17.9274 17.3719 17.9274H15.9631C15.746 17.9274 15.5702 17.7515 15.5702 17.5345ZM31.6774 20.8683C31.8999 21.0906 32.1961 21.2132 32.5107 21.2132C32.8256 21.2132 33.1214 21.0906 33.344 20.8681C33.7056 20.5064 33.7782 19.968 33.5707 19.5304L33.8999 19.2015C34.6656 18.4357 34.6656 17.1892 33.8999 16.4235L32.7884 15.3122C32.4174 14.9412 31.9245 14.737 31.3996 14.737C30.8748 14.737 30.3818 14.9412 30.0108 15.312L29.678 15.6446C29.2415 15.4478 28.6921 15.5194 28.3438 15.8678C27.8842 16.3274 27.8842 17.0751 28.3438 17.5345L31.6774 20.8683ZM28.8994 16.4235C28.9734 16.3492 29.0724 16.3084 29.1771 16.3084C29.2823 16.3084 29.3809 16.3491 29.4549 16.4233L32.7884 19.7568C32.9415 19.9101 32.9415 20.1593 32.7884 20.3125C32.6407 20.4608 32.3814 20.4608 32.2329 20.3125L28.8994 16.979C28.7463 16.8257 28.7463 16.5766 28.8994 16.4235Z"
                                            fill="white" />
                                        <defs>
                                            <linearGradient id="paint0_linear_5861_13103" x1="0" y1="0" x2="49.2119"
                                                y2="49.2119" gradientUnits="userSpaceOnUse">
                                                <stop stop-color="#EC8686" />
                                                <stop offset="1" stop-color="#CA0404" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <div class="clara-option-text">
                                        <h3>Surgeries</h3>
                                        <p>Display All Surgeries</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="clara-option-item d-flex align-items-center gap-2"
                                    [class.selected]="selectedOption === 'LatestProgressNote'"
                                    (click)="selectClaraOption('LatestProgressNote')">
                                    <svg width="35" height="35" viewBox="0 0 50 50" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="url(#paint0_linear_5861_13107)" />
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="white" fill-opacity="0.2" />
                                        <path
                                            d="M30.7935 15.606C32.753 15.606 34.2935 17.1464 34.2935 19.106V25.981C34.2935 27.9405 32.753 29.481 30.7935 29.481H26.187C25.7863 29.481 25.3195 29.6149 24.9888 29.8794L24.9878 29.8813L20.2437 33.4556L20.2349 33.4624L20.2339 33.4614C20.1 33.5284 19.9486 33.606 19.7935 33.606C19.6664 33.606 19.5737 33.607 19.4868 33.5278C19.3439 33.4557 19.2321 33.3645 19.1567 33.2515C19.0805 33.137 19.0435 33.0043 19.0435 32.856V30.106C19.0435 29.9139 18.9796 29.7589 18.8726 29.6519C18.7655 29.5448 18.6105 29.481 18.4185 29.481C16.4589 29.481 14.9185 27.9405 14.9185 25.981V19.106C14.9185 17.1464 16.4589 15.606 18.4185 15.606H30.7935ZM18.4185 17.106C17.2842 17.106 16.4185 17.9717 16.4185 19.106V25.981C16.4185 27.1152 17.2842 27.981 18.4185 27.981C19.6217 27.981 20.5435 28.9027 20.5435 30.106V31.355L24.0874 28.6812L24.0903 28.6792C24.716 28.2621 25.4151 27.981 26.187 27.981H30.7935C31.9277 27.981 32.7935 27.1152 32.7935 25.981V19.106C32.7935 17.9717 31.9277 17.106 30.7935 17.106H18.4185ZM29.4185 23.856C29.6389 23.856 29.8278 23.9294 29.9614 24.063C30.095 24.1966 30.1685 24.3855 30.1685 24.606C30.1685 24.8264 30.095 25.0153 29.9614 25.1489C29.8278 25.2825 29.6389 25.356 29.4185 25.356H19.7935C19.573 25.356 19.3841 25.2825 19.2505 25.1489C19.1169 25.0153 19.0435 24.8264 19.0435 24.606C19.0435 24.3855 19.1169 24.1966 19.2505 24.063C19.3841 23.9294 19.573 23.856 19.7935 23.856H29.4185ZM29.4185 19.731C29.6389 19.731 29.8278 19.8044 29.9614 19.938C30.095 20.0716 30.1685 20.2605 30.1685 20.481C30.1685 20.7014 30.095 20.8903 29.9614 21.0239C29.8278 21.1575 29.6389 21.231 29.4185 21.231H19.7935C19.573 21.231 19.3841 21.1575 19.2505 21.0239C19.1169 20.8903 19.0435 20.7014 19.0435 20.481C19.0435 20.2605 19.1169 20.0716 19.2505 19.938C19.3841 19.8044 19.573 19.731 19.7935 19.731H29.4185Z"
                                            fill="white" stroke="white" stroke-width="0.125" />
                                        <defs>
                                            <linearGradient id="paint0_linear_5861_13107" x1="0" y1="0" x2="49.2119"
                                                y2="49.2119" gradientUnits="userSpaceOnUse">
                                                <stop stop-color="#51A2FF" />
                                                <stop offset="1" stop-color="#00B8DB" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <div class="clara-option-text">
                                        <h3>Advice</h3>
                                        <p>Advice</p>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="clara-option-item d-flex align-items-center gap-2"
                                    [class.selected]="selectedOption === 'PreviousHistory'"
                                    (click)="previousHistory()">
                                    <svg width="35" height="35" viewBox="0 0 50 50" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="url(#paint0_linear_5861_13078)" />
                                        <path
                                            d="M0 14.3535C0 6.42626 6.42627 0 14.3535 0H34.8584C42.7856 0 49.2119 6.42627 49.2119 14.3535V34.8584C49.2119 42.7856 42.7856 49.2119 34.8584 49.2119H14.3535C6.42626 49.2119 0 42.7856 0 34.8584V14.3535Z"
                                            fill="white" fill-opacity="0.2" />
                                        <path
                                            d="M28.736 21.4449H19.8388C19.4291 21.4449 19.0967 21.1125 19.0967 20.7028C19.0967 20.2931 19.4291 19.9606 19.8388 19.9606H28.736C29.1457 19.9606 29.4782 20.2931 29.4782 20.7028C29.4782 21.1125 29.1457 21.4449 28.736 21.4449Z"
                                            fill="white" />
                                        <path
                                            d="M25.0872 25.4262H19.8388C19.4291 25.4262 19.0967 25.0938 19.0967 24.684C19.0967 24.2743 19.4291 23.9419 19.8388 23.9419H25.0876C25.4973 23.9419 25.8297 24.2743 25.8297 24.684C25.8297 25.0938 25.4969 25.4262 25.0872 25.4262Z"
                                            fill="white" />
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M33.0887 25.6386C33.0848 25.948 33.0785 26.2414 33.0711 26.5222C33.8277 27.3761 34.2866 28.5001 34.2866 29.7305C34.2866 32.404 32.1193 34.571 29.446 34.571C28.8102 34.571 28.2028 34.448 27.6462 34.2249C26.9802 34.3004 26.2935 34.3508 24.4147 34.3508H24.1816C21.9913 34.3508 21.4213 34.2824 20.6152 34.1858C20.4145 34.1618 20.1992 34.136 19.9407 34.109L19.9083 34.1055C18.8454 33.9946 17.8439 33.5177 17.0885 32.7622C16.3327 32.0068 15.8557 31.0053 15.7452 29.9425C15.5824 28.38 15.5 26.8734 15.5 24.4562C15.5 22.0391 15.5827 20.532 15.7452 18.97C15.8561 17.9071 16.3331 16.9056 17.0885 16.1502C17.5951 15.6433 18.2127 15.2627 18.8849 15.0331V15.0511C19.2224 14.9335 19.5736 14.8538 19.9322 14.8163L19.9645 14.8128C20.1675 14.7917 20.3495 14.7712 20.5227 14.7518C21.4561 14.6469 22.1312 14.571 24.4387 14.571C26.629 14.571 27.199 14.6394 28.005 14.736C28.2057 14.7601 28.421 14.7859 28.6796 14.8128L28.7119 14.8163C29.0533 14.8519 29.3884 14.9248 29.7111 15.0331C29.7547 15.0479 29.7981 15.0635 29.8415 15.08C30.4728 15.3124 31.0521 15.6795 31.5317 16.1592C32.2876 16.9146 32.7645 17.9161 32.875 18.979H32.852C33.0141 20.5385 33.0961 22.0439 33.0961 24.4559L33.0887 25.6386ZM24.4186 32.8652L24.4177 32.8645H24.4353C24.9646 32.8641 25.3923 32.8601 25.7486 32.8528C25.0357 32.0099 24.6052 30.9196 24.6052 29.7287C24.6052 27.0552 26.7724 24.8882 29.4457 24.8882C30.2214 24.8882 30.955 25.0713 31.605 25.396L31.6108 24.4503C31.6108 21.9213 31.5162 20.4952 31.3745 19.1315C31.367 19.0601 31.365 18.9883 31.3678 18.9171C31.2554 18.2726 30.9451 17.6722 30.4811 17.2082C30.1588 16.886 29.76 16.6312 29.3273 16.4719L29.3199 16.4691C29.3134 16.4668 29.3071 16.4644 29.3007 16.4621C29.2894 16.4579 29.2783 16.4538 29.2676 16.45C29.2613 16.4483 29.2551 16.4462 29.2489 16.4441C29.2454 16.443 29.2418 16.4418 29.2383 16.4406C29.0156 16.366 28.7864 16.3161 28.5575 16.2922L28.5258 16.2891C28.2544 16.2607 28.027 16.2338 27.8266 16.2095C27.0513 16.1166 26.5387 16.0552 24.4381 16.0552C22.2147 16.0552 21.5748 16.127 20.6889 16.2266C20.5112 16.2466 20.3272 16.2672 20.1178 16.2891L20.0846 16.2926C19.8463 16.3172 19.6065 16.3716 19.3722 16.4528C19.3116 16.4739 19.2503 16.4911 19.1882 16.504C18.7949 16.6645 18.4347 16.9028 18.1379 17.1997C17.6223 17.7149 17.2968 18.398 17.2215 19.1234C17.0792 20.4905 16.9843 21.9206 16.9843 24.4557C16.9843 26.9908 17.0793 28.4209 17.2215 29.788C17.2969 30.513 17.6222 31.1966 18.1379 31.7118C18.6535 32.2274 19.3366 32.5528 20.062 32.6282L20.0937 32.6312C20.3652 32.6597 20.5926 32.6866 20.7929 32.7109C21.5683 32.8038 22.0808 32.8652 24.1814 32.8652H24.4186Z"
                                            fill="white" />
                                        <path
                                            d="M30.949 31.5659H29.1884C28.631 31.5659 28.1787 31.1136 28.1787 30.5562V27.9182C28.1787 27.3607 28.631 26.9084 29.1884 26.9084C29.7459 26.9084 30.1982 27.3607 30.1982 27.9182V29.5465H30.949C31.5064 29.5465 31.9587 29.9988 31.9587 30.5562C31.9587 31.1136 31.5064 31.5659 30.949 31.5659Z"
                                            fill="#FD764D" />
                                        <defs>
                                            <linearGradient id="paint0_linear_5861_13078" x1="0" y1="0" x2="49.2119"
                                                y2="49.2119" gradientUnits="userSpaceOnUse">
                                                <stop stop-color="#FF8904" />
                                                <stop offset="1" stop-color="#FB2C36" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <div class="clara-option-text">
                                        <h3>Previous History</h3>
                                        <p>Display All Visits</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- STATUS MESSAGE -->
                    <div class="">
                        <!-- Divider -->
                        <div class="text-center my-2 mb-4" *ngIf="mode === 'voice'">
                            <span class="text-muted bg-white px-2 small position-relative" style="z-index: 1;">or type
                                your
                                question below</span>
                            <div style="border-bottom: 1px solid #e9ecef; margin-top: -10px;"></div>
                        </div>

                         <div class="clara-status" *ngIf="recordingState.isProcessing || recordingState.isRecording || recordingState.error">
                            <div class="status-row">
                                <!-- Left Side Animated Logo -->
                                <div class="icon-loader">
                                    <svg class="spinner-svg" viewBox="0 0 50 50">
                                        <defs>
                                            <linearGradient id="ringAiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style="stop-color:#4285f4" />
                                                <stop offset="33%" style="stop-color:#9b72cb" />
                                                <stop offset="66%" style="stop-color:#d96570" />
                                                <stop offset="100%" style="stop-color:#fbbc04" />
                                            </linearGradient>
                                        </defs>
                                        <circle class="spinner-circle" cx="25" cy="25" r="20" stroke="url(#ringAiGrad)">
                                        </circle>
                                    </svg>
                    
                                    <!-- Central Sparkle -->
                                    <svg class="sparkle-svg" viewBox="0 0 24 24">
                                        <defs>
                                            <linearGradient id="sparkleGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style="stop-color:#4285f4" />
                                                <stop offset="100%" style="stop-color:#A142F4" />
                                            </linearGradient>
                                        </defs>
                                        <!-- Applied class 'sparkle-path' for independent pulsing -->
                                        <path class="sparkle-path" d="M12 2 L14.5 9.5 L22 12 L14.5 14.5 L12 22 L9.5 14.5 L2 12 L9.5 9.5 Z"
                                            fill="url(#sparkleGrad)" />
                                    </svg>
                                </div>

                                <!-- Right Side AI Gradient Text -->
                                <div class="text-container">
                                    <!-- <div class="label-sequence" *ngIf="recordingState.isProcessing">Processing...</div> -->

                                    <div *ngIf="recordingState.isProcessing" class="label-sequence">Analyzing...</div>
                                    <div *ngIf="recordingState.isProcessing" class="label-sequence">Checking...</div>
                                    <div *ngIf="recordingState.isProcessing" class="label-sequence">Clarifying...</div>
                                    <div *ngIf="recordingState.isProcessing" class="label-sequence">Finalizing...</div>



                                    <!-- <div class="label-sequence" *ngIf="recordingState.isRecording">Recording...</div> -->
                                    <div class="status-indicator" *ngIf="recordingState.isRecording">
                                        <i class="fas fa-circle recording-dot"></i>
                                        <span>Recording...</span>
                                    </div>
                                    <div class="status-error" *ngIf="recordingState.error">
                                        <i class="fas fa-exclamation-circle"></i>
                                        <span>{{ recordingState.error }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="visits-list" *ngIf="selectedOption === 'PreviousHistory'">
                            <div class="visit-item" *ngFor="let visit of visits"
                                [class.selected]="selectedVisit?.AdmissionID === visit.AdmissionID"
                                [attr.data-admission-id]="visit.AdmissionID" (click)="onVisitSelect(visit)">
                                <div class="visit-details">
                                    <div>
                                        <span class="doctor-name fs-7 fw-semibold">{{visit.DoctorName}}</span>
                                        <div class="d-flex align-items-center gap-1 fs-7">
                                            <span class="specialisation">{{visit.SpecialisationName}}</span>
                                            <span class="separator">-</span>
                                            <span class="patient-type">{{visit.PatientTypeName}}</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="d-flex align-items-center gap-1">
                                            <svg width="15" height="15" viewBox="0 0 10 11" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                    fill="#368796" />
                                            </svg>
                                            <p class="m-0 fw-bold text-nowrap fs-7">
                                                {{visit.VisitDate?.split('
                                                ')[0]}}</p>

                                            <svg class="" width="15" height="15" viewBox="0 0 10 11" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                                    fill="#368796" />
                                                <path
                                                    d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                                    fill="#368796" />
                                            </svg>
                                            <p class="m-0 fw-bold text-nowrap fs-7">
                                                {{visit.VisitDate?.split('
                                                ')[1]}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- <div class="clara-status"
                                                *ngIf="recordingState.isProcessing || recordingState.isRecording || recordingState.error">
                                                <div class="status-indicator" *ngIf="recordingState.isRecording">
                                                    <i class="fas fa-circle recording-dot"></i>
                                                    <span>Recording...</span>
                                                </div>
                                                <div class="status-indicator" *ngIf="recordingState.isProcessing">
                                                    <i class="fas fa-spinner fa-spin"></i>
                                                    <span>Processing...</span>
                                                </div>
                                                <div class="status-error" *ngIf="recordingState.error">
                                                    <i class="fas fa-exclamation-circle"></i>
                                                    <span>{{ recordingState.error }}</span>
                                                </div>
                                            </div> -->

                       

                        <div class="clara-container">
                            <div class="clara-response"
                                [ngClass]="{
                                    kpi_response: mode === 'report',
                                    hasAudioControls: !currentResponse.hasAudio && !safeAudioUrl
                                }"
                                *ngIf="currentResponse">
                                <div class="response-content">
                                      <span class="fade-word" #streamTarget>
                                        <!-- {{ currentResponse.text }} -->
                                      </span>
                                </div>

                                <div class="audio-controls" *ngIf="currentResponse.hasAudio && safeAudioUrl">
                                    <audio #audioPlayer [src]="safeAudioUrl" (ended)="onAudioEnded()"
                                        (timeupdate)="onTimeUpdate($event)" (loadedmetadata)="onLoadedMetadata($event)">
                                    </audio>

                                    <div class="controls-wrapper">
                                        <button class="control-btn" (click)="togglePlayPause()"
                                            [disabled]="!safeAudioUrl">
                                            <span *ngIf="!isPlaying">
                                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M25.1873 17.128C24.716 18.9187 22.4888 20.184 18.0341 22.7148C13.7278 25.1612 11.5748 26.3845 9.83961 25.8928C9.12224 25.6895 8.46862 25.3035 7.94149 24.7716C6.6665 23.4852 6.6665 20.9901 6.6665 16C6.6665 11.0099 6.6665 8.5148 7.94149 7.22843C8.46862 6.6966 9.12224 6.31051 9.83961 6.10723C11.5748 5.61553 13.7278 6.83876 18.0341 9.28524C22.4888 11.816 24.716 13.0813 25.1873 14.872C25.3818 15.6112 25.3818 16.3888 25.1873 17.128Z"
                                                        stroke="white" stroke-width="2" stroke-linejoin="round" />
                                                </svg>
                                            </span>
                                            <span *ngIf="isPlaying">
                                                <svg width="20" height="20" viewBox="0 0 32 32" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M5.3335 9.3335C5.3335 7.44788 5.3335 6.50507 5.91928 5.91928C6.50507 5.3335 7.44788 5.3335 9.3335 5.3335C11.2191 5.3335 12.1619 5.3335 12.7477 5.91928C13.3335 6.50507 13.3335 7.44788 13.3335 9.3335V22.6668C13.3335 24.5524 13.3335 25.4952 12.7477 26.0811C12.1619 26.6668 11.2191 26.6668 9.3335 26.6668C7.44788 26.6668 6.50507 26.6668 5.91928 26.0811C5.3335 25.4952 5.3335 24.5524 5.3335 22.6668V9.3335Z"
                                                        stroke="white" stroke-width="2" />
                                                    <path
                                                        d="M18.6665 9.3335C18.6665 7.44788 18.6665 6.50507 19.2522 5.91928C19.8381 5.3335 20.7809 5.3335 22.6665 5.3335C24.5521 5.3335 25.4949 5.3335 26.0808 5.91928C26.6665 6.50507 26.6665 7.44788 26.6665 9.3335V22.6668C26.6665 24.5524 26.6665 25.4952 26.0808 26.0811C25.4949 26.6668 24.5521 26.6668 22.6665 26.6668C20.7809 26.6668 19.8381 26.6668 19.2522 26.0811C18.6665 25.4952 18.6665 24.5524 18.6665 22.6668V9.3335Z"
                                                        stroke="white" stroke-width="2" />
                                                </svg>
                                            </span>
                                        </button>

                                        <button class="control-btn stop p-0" (click)="stopAudio()"
                                            [disabled]="!safeAudioUrl || (!isPlaying && currentTime === 0)">
                                            <svg width="20" height="20" viewBox="0 0 32 32" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M5.3335 16.0002C5.3335 11.6279 5.3335 9.44171 6.41859 7.89204C6.82003 7.31871 7.31871 6.82003 7.89204 6.41859C9.44171 5.3335 11.6279 5.3335 16.0002 5.3335C20.3724 5.3335 22.5586 5.3335 24.1083 6.41859C24.6816 6.82003 25.1803 7.31871 25.5818 7.89204C26.6668 9.44171 26.6668 11.6279 26.6668 16.0002C26.6668 20.3724 26.6668 22.5586 25.5818 24.1083C25.1803 24.6816 24.6816 25.1803 24.1083 25.5818C22.5586 26.6668 20.3724 26.6668 16.0002 26.6668C11.6279 26.6668 9.44171 26.6668 7.89204 25.5818C7.31871 25.1803 6.82003 24.6816 6.41859 24.1083C5.3335 22.5586 5.3335 20.3724 5.3335 16.0002Z"
                                                    stroke="#E5485D" stroke-width="2" />
                                            </svg>
                                        </button>

                                        <div class="progress-container">
                                            <input type="range" class="progress-bar" [value]="currentTime"
                                                [max]="duration" (input)="seekAudio($event)" [disabled]="!safeAudioUrl">
                                            <div class="time-display">
                                                <span>{{ formatTime(currentTime) }}</span>
                                                <span>{{ formatTime(duration) }}</span>
                                            </div>
                                        </div>

                                        <div class="volume-control">
                                            <button class="control-btn" (click)="toggleMute()">
                                                <span *ngIf="!isMuted">
                                                    <svg width="22" height="22" viewBox="0 0 32 32" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M18.6665 19.7515V12.2488C18.6665 8.05517 18.6665 5.95838 17.4328 5.43656C16.199 4.91474 14.7469 6.3974 11.8429 9.36272C10.339 10.8984 9.48098 11.2384 7.34123 11.2384C5.46994 11.2384 4.5343 11.2384 3.86218 11.697C2.46698 12.6489 2.67787 14.5095 2.67787 16.0002C2.67787 17.4908 2.46698 19.3514 3.86218 20.3034C4.5343 20.7619 5.46994 20.7619 7.34123 20.7619C9.48098 20.7619 10.339 21.102 11.8429 22.6376C14.7469 25.603 16.199 27.0856 17.4328 26.5638C18.6665 26.0419 18.6665 23.9451 18.6665 19.7515Z"
                                                            stroke="white" stroke-width="2" stroke-linecap="round"
                                                            stroke-linejoin="round" />
                                                        <path
                                                            d="M22.6665 12C23.5004 13.0929 23.9998 14.4845 23.9998 16C23.9998 17.5155 23.5004 18.9071 22.6665 20"
                                                            stroke="white" stroke-width="2" stroke-linecap="round"
                                                            stroke-linejoin="round" />
                                                        <path
                                                            d="M26.6665 9.3335C28.3342 11.155 29.3332 13.4744 29.3332 16.0002C29.3332 18.5259 28.3342 20.8454 26.6665 22.6668"
                                                            stroke="white" stroke-width="2" stroke-linecap="round"
                                                            stroke-linejoin="round" />
                                                    </svg>
                                                </span>
                                                <span *ngIf="isMuted">
                                                    <svg width="22" height="22" viewBox="0 0 32 32" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M29.3332 29.3332L2.6665 2.6665" stroke="white"
                                                            stroke-width="2" stroke-linecap="round"
                                                            stroke-linejoin="round" />
                                                        <path
                                                            d="M22.6665 13.3335C23.506 14.3558 23.9998 15.6074 23.9998 16.9595C23.9998 17.5515 23.9052 18.1242 23.7282 18.6668"
                                                            stroke="white" stroke-width="2" stroke-linecap="round"
                                                            stroke-linejoin="round" />
                                                        <path
                                                            d="M26.6665 10.6665C28.3342 12.3059 29.3332 14.3934 29.3332 16.6665C29.3332 18.555 28.6437 20.3154 27.454 21.7972"
                                                            stroke="white" stroke-width="2" stroke-linecap="round"
                                                            stroke-linejoin="round" />
                                                        <path
                                                            d="M18.6665 18.6668C18.6665 22.8604 18.6665 26.0419 17.4318 26.5638C16.1973 27.0856 14.7442 25.603 11.8381 22.6376C10.333 21.102 9.4745 20.7619 7.33317 20.7619C5.85037 20.7619 4.03649 20.9584 3.11592 19.5526C2.6665 18.8663 2.6665 17.911 2.6665 16.0002C2.6665 14.0894 2.6665 13.134 3.11592 12.4477C4.03649 11.0419 5.85037 11.2384 7.33317 11.2384C8.8095 11.2384 9.80904 11.2517 10.6132 10.6135M18.6665 12.6668C18.6665 8.47323 18.7012 5.95838 17.4665 5.43656C16.4388 5.00212 15.3762 5.95703 13.3332 8.00016"
                                                            stroke="white" stroke-width="2" stroke-linecap="round"
                                                            stroke-linejoin="round" />
                                                    </svg>
                                                </span>
                                            </button>
                                            <input type="range" class="volume-slider" [value]="volume * 100" max="100"
                                                (input)="changeVolume($event)">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="clara-footer">
                    <input class="clara-text-input w-100" [(ngModel)]="claraInput" placeholder="Ask HIS"
                        (keydown)="onInputKeyDown($event)"
                        [disabled]="recordingState.isProcessing || recordingState.isRecording" />

                    <div class="footer_actions_wrapper d-flex align-items-center justify-content-end gap-2 w-100">
                        <div class="d-flex align-items-center gap-2 ">
                            <div class="dropdown custom_dropdown">
                                <button class="btn btn-secondary dropdown-toggle" type="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    {{aiType === 'fast' ? 'Fast' : 'Thinking with Pro'}}
                                </button>
                                <ul class="dropdown-menu">
                                    <span class="p-2 fs-7 clr-grey">Choose your Model</span>
                                    <li class="dropdown-item" (click)="setModel('fast')">
                                        Fast
                                        <span>Answers Quickly</span>
                                    </li>
                                    <li class="dropdown-item"  (click)="setModel('think')">
                                        Thinking with Pro
                                        <span>Thinks through complex topics</span>
                                    </li>
                                </ul>

                            </div>
                            <button class="clara-send-btn" (click)="sendClaraMessage()"
                                [disabled]="recordingState.isProcessing || recordingState.isRecording || !claraInput.trim()"
                                [class.disabled]="!claraInput.trim()">
                                <i class="fas fa-paper-plane"></i>
                            </button>

                            <button class="clara-send-btn" (click)="clearClaraChat()" [disabled]="recordingState.isProcessing">
                                <svg style="min-width : 1rem" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M6 3.25C6.31383 3.25 6.59448 3.4454 6.70339 3.73972L6.92447 4.33717C7.23817 5.18495 7.32947 5.38548 7.472 5.52801C7.61452 5.67053 7.81505 5.76183 8.66283 6.07553L9.26028 6.29661C9.5546 6.40552 9.75 6.68617 9.75 7C9.75 7.31383 9.5546 7.59448 9.26028 7.70339L8.66283 7.92447C7.81505 8.23817 7.61452 8.32947 7.47199 8.472C7.32947 8.61452 7.23817 8.81505 6.92447 9.66283L6.70339 10.2603C6.59448 10.5546 6.31383 10.75 6 10.75C5.68617 10.75 5.40552 10.5546 5.29661 10.2603L5.07553 9.66283C4.76183 8.81505 4.67053 8.61452 4.528 8.472C4.38548 8.32947 4.18495 8.23817 3.33717 7.92447L2.73972 7.70339C2.4454 7.59448 2.25 7.31383 2.25 7C2.25 6.68617 2.4454 6.40552 2.73972 6.29661L3.33717 6.07553C4.18495 5.76183 4.38548 5.67053 4.528 5.528C4.67053 5.38548 4.76183 5.18495 5.07553 4.33717L5.29661 3.73972C5.40552 3.4454 5.68617 3.25 6 3.25Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M18.168 2.20038C18.6784 1.32843 19.78 1.00093 20.6859 1.45228C21.6349 1.92514 22.0221 3.07754 21.5458 4.02671L21.5411 4.03617L15.7284 15.2238C15.59 16.325 15.1718 17.8942 14.3773 19.323C13.5495 20.8117 12.2526 22.2505 10.3364 22.7279C10.2771 22.7426 10.2162 22.7501 10.1551 22.7501C8.2017 22.7501 5.9839 21.687 4.40229 19.8307C4.9718 19.8619 5.54731 19.8584 6.10809 19.8237C7.77893 19.7204 9.46606 19.3316 10.5597 18.6319C10.9086 18.4086 11.0105 17.9448 10.7872 17.5959C10.564 17.247 10.1002 17.1451 9.7513 17.3684C8.96945 17.8686 7.57868 18.2299 6.0155 18.3266C5.08451 18.3841 4.14509 18.3445 3.30226 18.2074C2.64926 16.9694 2.24951 15.5054 2.24951 13.851C2.24951 13.5916 2.38347 13.3507 2.60374 13.2139C2.824 13.077 3.09933 13.0637 3.33181 13.1786C4.23738 13.6261 5.24625 14.0414 6.53271 14.054C7.78803 14.0663 9.38645 13.6946 11.465 12.4471L18.168 2.20038ZM14.7196 13.9127L16.609 10.2761L15.2292 9.43359L13.0341 12.7891L14.7196 13.9127Z" fill="white"/>
                                </svg>
                            </button>

                            <button class="clara-mic-btn" (click)="toggleRecordingAdvanced()"
                                [disabled]="recordingState.isProcessing" [class.recording]="recordingState.isRecording"
                                [class.processing]="recordingState.isProcessing">
                                <i class="fas"
                                    [class.fa-microphone]="!recordingState.isRecording && !recordingState.isProcessing"
                                    [class.fa-stop]="recordingState.isRecording"
                                    [class.fa-spinner]="recordingState.isProcessing"
                                    [class.fa-spin]="recordingState.isProcessing">
                                </i>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>