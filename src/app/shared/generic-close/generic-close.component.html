<div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">{{ title === 'noname' ? '' : 'View'}}</h5>
    <div class="d-flex align-items-center gap-2">
        <button class="btn btn-main-outline" *ngIf="isPrint" (click)="print()">Print</button>
        <button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
    </div>
</div>

<div class="print-header" style="text-align:center; width:100%;">
    <img src="assets/images/header.jpeg" alt="Header" style="width:100%; max-height:150px;">
    <div
        style="position:relative; top:-60px; left: 35%; z-index: 1111; text-align:center;display: flex;align-items: center; gap: 0.5rem;">
        <p style="color: #fff;font-size: 20px;font-weight: 600;"><strong>Location:</strong> {{location}}</p>
        <p style="color: #fff;font-size: 20px;margin-left: 20px;font-weight: 600;"><strong>Date:</strong> <span
                id="currentDate"> {{currentdate}}</span></p>
    </div>
</div>

<div class="doctor_worklist worklist_patientcard rounded-0 d-flex" *ngIf="isCardRequired">
    <div class="d-flex align-items-center w-100 ">
        <div class="row mx-0 w-100 min_patient_card">
            <div class="" style="width: 24%;">
                <div class="d-flex align-items-center gap-2">
                    <div class="patient-info d-flex align-items-center py-1">
                        <div class="patient-photo me-2">

                            <img *ngIf="selectedView.GenderID == 1" src="assets/images/icons/male.svg" alt=""
                                style="height:2rem;" class="position-relative">
                            <img *ngIf="selectedView.GenderID == 2" src="assets/images/icons/female.svg" alt=""
                                style="height:2rem;" class="position-relative">
                        </div>
                        <div class="">
                            <p class="value fs-7 fw-bold w-100">{{selectedView.PatientName}}</p>
                            <div class="d-flex align-items-center gap-2">
                                <p>{{selectedView.Gender}} | <span>{{selectedView.PatientType == '2' ||selectedView.PatientType == '3' ?
                                        selectedView.FullAge : selectedView.Age}}</span> </p>
                                <p><b>ID No.</b> : <span>{{selectedView.SSN}}</span></p>
                            </div>

                            <div class="d-flex align-items-center gap-1">
                                <p><b>DOB</b> :</p>
                                <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                        fill="#368796" />
                                </svg>
                                <p class="m-0 fw-bold text-nowrap">
                                    {{selectedView.DOB?.split('
                                    ')[0]}}</p>
                            </div>
                            <p class="m-0 fs-8">{{selectedView.Nationality}} | Mobile
                                :{{selectedView.MobileNo}}</p>

                        </div>
                    </div>

                </div>

            </div>

            <div class="col pe-0">
                <div class="row gx-2 align-items-center patient_card_details mb-0 h-100 row mx-0 border-bottom-primary-200"
                    style="background: #fff;">
                    <div class="col-1" style="width:8rem;" *ngIf="selectedView.PatientType != '3'">
                        <p class="label">{{selectedView.PatientType == '2' ? 'Bed No.' : 'Token No.'}}</p>
                        <p [class]="SelectedViewClass">
                            {{selectedView.PatientType == '2' ? selectedView.Bed :
                            selectedView.TokenNumber}}
                        </p>
                    </div>
                    <div class="col-2" *ngIf="selectedView.PatientType != '1'">
                        <p class="label"> Ward </p>
                        <p>{{selectedView.PatientType == '3' ? 'Accident & Emergency' : selectedView.Ward}}
                        </p>
                    </div>
                    <div class="col-3">
                        <p class="label"> {{langData?.Ward?.DoctorName}} </p>
                        <p class="color-highlight">{{this.selectedView.PrimaryDoctor}}</p>
                    </div>
                    <div class="col-1" *ngIf="selectedView.PatientType != '1'">
                        <p class="label">{{langData?.Ward?.Approval}}</p>
                        <p>{{selectedView.ApprovalDays}}</p>
                    </div>
                    <!-- <div class="detail twox" *ngIf="selectedView.PatientType == '1'">
                                   
                                    <p class="label">{{langData?.common?.mobilenumber}}</p>
                                    <p>{{selectedView.MobileNo}}</p>
                                </div> -->
                    <div class="col-1" *ngIf="selectedView.PatientType == '1' ||selectedView.PatientType == '3'">
                        <!-- <p class="label">{{langData?.common?.PatientName}}</p>
                                    <p>{{ lang == 'en' ? selectedView.PatientName : selectedView.PatientName2L}} </p> -->
                        <p class="label"> {{langData?.casesheet?.patient_type}} </p>
                        <p>{{selectedView.BillType == 'CR' ? 'Insured' : 'Self'}}</p>
                    </div>
                    <!-- <div class="detail" *ngIf="selectedView.PatientType == '1'">
                                    <p class="label"> {{langData?.common?.Nationality}} </p>
                                    <p>{{selectedView.Nationality}}</p>
                                </div> -->
                    <div class="col-2" *ngIf="selectedView.BillType!='Self'">
                        <!-- <p class="label">{{langData?.common?.ageLabel}}</p>
                                    <div class="full_age_hover position-relative d-inline-block">
                                        <p>{{selectedView.Age}}</p>
                                        <div class="age_tooltip rounded-2 p-1">
                                            <p class="m-0 clr-grey my-1 text-nowrap fs-8">{{selectedView.FullAge_Gender}}</p>
                                        </div>
                                    </div> -->
                        <p class="label"> {{langData?.casesheet?.insurance_name}} </p>

                        <p> {{selectedView.CompanyName}}</p>
                    </div>
                    <div class="col-2">
                                    <p class="label"> PainScore </p>
                                    <p class="color-highlight">{{selectedView.PainScore}}</p>
                                </div>
                                <div class="CTASSCore col-2" *ngIf="selectedView.PatientType == '3'">
                                     <div class="w-max-content score" [class]="getCTASScoreClass()">
                                            <label for="" class="form-label m-0 fw-bold">CTAS</label>
                                            <p class=" text-truncate fs-7 text-center">                                               
                                                <span class="ctascore fw-bold text-center">{{selectedView.CTASScore}}</span>
                                            </p>
                                      </div>
                                </div>
                </div>
            </div>
        </div>
    </div>
</div>