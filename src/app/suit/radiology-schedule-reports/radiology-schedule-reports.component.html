<app-suit-header [IsSwitchWard]="true" *ngIf="!readonly"></app-suit-header>
<app-generic-close *ngIf="readonly"></app-generic-close>
<div class="page-header sticky-top shadow-sm justify-content-start">
    <h2 class="page-heading">Radiology Scheduler Reports</h2>
    <div class="actions ms-auto d-flex align-items-center gap-2">
        <button class="btn btn-danger-outline" (click)="onClearClick()">Clear</button>
        <button class="btn btn-main-outline" (click)="fetchReportsPrint()">Preview</button>
    </div>
</div>

<div class="p-2">

    <!-- <div class="row gx-2 dischargeLegends_tokens">
        <div class="col-3 cursor-pointer">
            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center">
                <div class="count total_token d-flex align-items-center gap-2">
                    <h4 class="m-0 fw-bold newreq">22</h4>
                    <p class="m-0 fs-6 fw-bold">Booked</p>
                </div>
            </div>
        </div>
        <div class="col-3 cursor-pointer">
            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center">
                <div class="count total_token d-flex align-items-center gap-2">
                    <h4 class="m-0 fw-bold scheduled">11</h4>
                    <p class="m-0 fs-6 fw-bold">Confirmed</p>
                </div>
            </div>
        </div>
        <div class="col-3 cursor-pointer">
            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center">
                <div class="count total_token d-flex align-items-center gap-2">
                    <h4 class="m-0 fw-bold Visited">88</h4>
                    <p class="m-0 fs-6 fw-bold">Cancelled</p>
                </div>
            </div>
        </div>
     </div> -->
    <div class="row gx-2 dischargeLegends_tokens mx-0 my-2">
        <div class="col-3 cursor-pointer" style="width: 25%;">
            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center"
                (click)="filterAppointmentStatus('C')">
                <div class="count total_token d-flex align-items-center gap-2">
                    <h4 class="m-0 fw-bold newreq">{{Cancel}}</h4>
                    <p class="m-0 fs-6 fw-bold">Cancelled</p>
                </div>
            </div>
        </div>
        <div class="col-3 cursor-pointer" style="width: 25%;">
            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center"
                (click)="filterAppointmentStatus('B')">
                <div class="count total_token d-flex align-items-center gap-2">
                    <h4 class="m-0 fw-bold scheduled">{{Booked}}</h4>
                    <p class="m-0 fs-6 fw-bold">Booked</p>
                </div>
            </div>
        </div>
        <div class="col-3 cursor-pointer d-none" style="width: 25%;">
            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center"
                (click)="filterAppointmentStatus('G')">
                <div class="count total_token d-flex align-items-center gap-2">
                    <h4 class="m-0 fw-bold scheduledVirtual">{{onlineCall}}</h4>
                    <p class="m-0 fs-6 fw-bold">Virtual Appointment</p>
                </div>
            </div>
        </div>
        <div class="col-3 cursor-pointer" style="width: 25%;">
            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center"
                (click)="filterAppointmentStatus('V')">
                <div class="count total_token d-flex align-items-center gap-2">
                    <h4 class="m-0 fw-bold Visited">{{Visited}}</h4>
                    <p class="m-0 fs-6 fw-bold">Visited</p>
                </div>
            </div>
        </div>
        <div class="col-3 cursor-pointer" style="width: 25%;">
            <div class="walkin_cards p-2 border shadow-sm green d-flex align-items-center"
                (click)="filterAppointmentStatus('A')">
                <div class="count total_token d-flex align-items-center gap-2">
                    <h4 class="m-0 fw-bold scheduledAll">{{All}}</h4>
                    <p class="m-0 fs-6 fw-bold">All</p>
                </div>
            </div>
        </div>
    </div>

    <form [formGroup]="reportsForm" class="border-top mt-2">
        <div class="row g-2">
            <div class="col-2">
                <label for="" class="form-label">Resource Name</label>
                <div class="d-flex input-group">
                    <input type="text" placeholder="search" class="form-control pe-2" aria-label="Search"
                        [matAutocomplete]="resourceName" formControlName="resourceNameText"
                        (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : onSearchResourceName($event)">
                    <mat-autocomplete #resourceName="matAutocomplete">
                        <mat-option *ngFor="let item of resourceNameList" [value]="item.ProcedureName"
                            (onSelectionChange)="onResourceNameSelection(item)">
                            {{item.ProcedureName}}
                        </mat-option>
                    </mat-autocomplete>
                    <button type="button" id="button-addon2" class="btn btn-secondary-fill btn-icon">
                        <img src="assets/images/icons/icon-search.svg" alt="">
                    </button>
                </div>
            </div>
            <div class="col-2">
                <label for="" class="form-label">Status</label>
                <select name="" class="form-select" formControlName="status" (change)="fetchReports()">
                    <option value="0">All</option>
                    <option value="1">Booked</option>
                    <option value="2">Confirmed</option>
                    <option value="3">Cancelled</option>
                </select>
            </div>
            <div class="col-2">
                <label for="" class="form-label">ID No.</label>
                <div class="d-flex input-group">
                    <input type="text" class="form-control" formControlName="SSN"
                        (keydown.enter)="onSSNEnterPress($event)">
                    <button type="button" class="btn btn-secondary-fill btn-icon">
                        <img src="assets/images/icons/icon-search.svg" alt="">
                    </button>
                </div>
            </div>
            <div class="col-2">
                <label for="" class="form-label">Date Range</label>
                <button class="date_range_calendar p-0 position-relative" style="height: 31px;">
                    <mat-date-range-input class="btn btn-main-outline" [rangePicker]="picker">
                        <input matStartDate formControlName="FromDate">
                        <input matEndDate formControlName="ToDate">
                    </mat-date-range-input>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-date-range-picker #picker></mat-date-range-picker>
                </button>
            </div>
            <div class="w-max-content d-flex align-items-end justify-content-end">
                <button class="btn btn-main-outline mb-1" (click)="fetchReports()">Ok</button>
            </div>
        </div>
    </form>

    <div class="mt-2">
        <div class="">
            <div
                class="card card-style-1 rounded group-date p-0 border-0 mt-1 scheduleReport_block d-flex flex-column gap-1">
                <div *ngIf="sortedGroupedByScheduleDate?.length > 0">
                    <div class="mb-3" *ngFor="let data of sortedGroupedByScheduleDate">
                        <div class="card card-style-1 rounded group-date p-0 border-0 mt-1">
                            <div class="card-header rounded-top justify-content-start p-0 min-height-unset p-0">
                                <span class="d-block grp_date">{{ data.scheduleDate }}</span>
                            </div>
                            <div class="doctor_worklist rounded-2 worklist_patientcard shadow-0 my-2"
                                *ngFor="let item of data.items; let i=index" [class.inOR]="item.Status=='-1'"
                                [class.onVacation]="item.Status=='3'">
                                <div class="row mx-0 gx-0">
                                    <div class="col-md-3 p-1" style="width: 25rem;">
                                        <div class="d-flex align-items-center h-100 cursor-pointer">
                                            <div class="patient-photo me-2">
                                                <img src="assets/images/icons/male.svg" alt="" class="position-relative"
                                                    *ngIf="item.GenderID == '1'">
                                                <img src="assets/images/icons/female.svg" alt=""
                                                    class="position-relative" *ngIf="item.GenderID == '2'">
                                            </div>
                                            <div class="">
                                                <p class="value fs-7 fw-bold w-100">{{item.PatientName}}</p>
                                                <div class="d-flex align-items-center gap-2">
                                                    <p>{{item.Gender}} | {{item.Age}}</p>
                                                    <p>ID No. : <span class="fw-bold">{{item.SSN}}</span></p>
                                                </div>
                                                <div class="d-flex align-items-center gap-1">
                                                    <p><b>DOB</b> :</p>
                                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                            fill="#368796" />
                                                    </svg>
                                                    <p class="m-0 fw-bold text-nowrap">
                                                        {{item.DOB?.split('
                                                        ')[0]}}</p>
                                                </div>
                                                <p>{{item.Nationality}} | Mobile : {{item.MobileNo}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col pe-0">
                                        <div class="bg-white h-100 rounded-2">
                                            <div class="row mx-0 gx-2 p-1">
                                                <div class="col-2">
                                                    <label for="" class="form-label m-0 fw-bold">Schedule Date</label>
                                                    <p class="text-truncate fs-8">{{item.FromDate}}</p>
                                                </div>
                                                <div class="col-2" style="width:12%;">
                                                    <label for="" class="form-label m-0 fw-bold">Schedule Time</label>
                                                    <div class="custom_tooltip custom_tooltip_right">
                                                        <p class="text-truncate fs-8">
                                                            {{item.StartTime}}-{{item.EndTime}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-3">
                                                    <label for=""
                                                        class="form-label m-0 fw-bold">Procedure/Speciality</label>
                                                    <p class="text-truncate fs-8">{{item.ProcedureName}}</p>
                                                </div>
                                                <div class="col-2" style="width: 14%;">
                                                    <label for="" class="form-label m-0 fw-bold">Booked Date</label>
                                                    <p class="text-truncate fs-8">{{item.Createdate}}</p>
                                                </div>
                                                <div class="col-1" style="width: 11%;">
                                                    <label for="" class="form-label m-0 fw-bold text-nowrap">Booked
                                                        By</label>
                                                    <p class=" fs-8">{{item.OperatorName}}</p>
                                                </div>
                                                <div class="col-2" style="width: 20%;"
                                                    *ngIf="item.AppointmentStatus != 'Cancelled' && !item.isBeforeCurrentDay">
                                                    <label for="" class="form-label m-0 fw-bold">Action</label>
                                                    <div class="input-group"
                                                        *ngIf="['0', '1', '2','3', '4','5', '6','7', '8'].includes(item.Status)">
                                                        <select name="" class="form-select pe-4"
                                                            [(ngModel)]="item.VirtualConfirmStatus"
                                                            [disabled]="item.VirtualConfirmStatus === '1'"
                                                            (change)="onItemActionsChange($event, item)">
                                                            <option value="0">Select</option>
                                                            <option value="1">Confirmed by Call</option>
                                                            <option value="2">Not Answered</option>
                                                            <option value="3">Not Reachable</option>
                                                            <option value="4">Virtual Confirmation</option>
                                                            <option value="5">No Show</option>
                                                            <option value="6">Confirmed by SMS</option>
                                                            <option value="7">Wrong Number</option>
                                                            <option value="8">Busy</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="rounded-bottom row mx-0 gx-2 p-1 align-items-center border-top-primary-200 doctor_worklist_ChiefComplaints">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <div class="d-flex align-items-center gap-1 col">
                                            <label for="" class="form-label m-0 fw-bold text-nowrap">Resource Name :</label>
                                            <p class="fs-8">{{item.DoctorName}}</p>
                                        </div>
                                        <div class="d-flex align-items-center gap-1 col" *ngIf="item.VirtualConfirmedRemarks!=''">
                                            <label for="" class="form-label m-0 fw-bold text-nowrap">Confirmed Date :</label>
                                            <p class="fs-8">{{item.VirtualConfirmedDate}}</p>
                                        </div>
                                        <div class="d-flex align-items-center gap-1 col" *ngIf="item.VirtualConfirmedRemarks!=''">
                                            <label for="" class="form-label m-0 fw-bold text-nowrap">Confirmed Remarks :</label>
                                            <p class="fs-8">{{item.VirtualConfirmedRemarks}}</p>
                                        </div>
                                        <div class="d-flex align-items-center gap-1 col" *ngIf="item.CancelledUser!=''&&item.PATIENTSCHEDULEDBLOCKED=='1'">
                                            <label for="" class="form-label m-0 fw-bold text-nowrap">Cancelled User :</label>
                                            <p class="fs-8">{{item.CancelledUser}}</p>
                                        </div>
                                        <div class="d-flex align-items-center gap-1 col" *ngIf="item.CancelRemark!=''&&item.PATIENTSCHEDULEDBLOCKED=='1'">
                                            <label for="" class="form-label m-0 fw-bold text-nowrap">Cancel Remarks :</label>
                                            <p class="fs-8">{{item.CancelRemark}}</p>
                                        </div>
                                        <div class="d-flex align-items-center gap-1 col" *ngIf="item.CancelDate!=null &&item.PATIENTSCHEDULEDBLOCKED=='1'">
                                            <label for="" class="form-label m-0 fw-bold text-nowrap">Cancel Date :</label>
                                            <p class="fs-8">{{item.CancelDate}}</p>
                                        </div>
            
                                        <div class="d-flex align-items-center gap-2 justify-content-end">    
                                            <div class="inline_legend">                                            
                                               <span class="legend fs-8 text-nowrap">{{item.Statusname}}</span>
                                           </div>
                                         </div>


                                         
                                       




                                    </div>
                                </div> -->
                                <div
                                    class="rounded-bottom row mx-0 gx-2 p-1 align-items-center border-top-primary-200 doctor_worklist_ChiefComplaints">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <div class="row w-100 gx-2 pe-4">
                                            <div class="d-flex align-items-center gap-2 w-max-content">
                                                <div class="d-flex align-items-center gap-1 col">
                                                    <label for="" class="form-label m-0 fw-bold text-nowrap">Resource
                                                        Name :</label>
                                                    <p class="fs-8">{{item.DoctorName}}</p>
                                                </div>
                                                <div class="d-flex align-items-center gap-1"
                                                    *ngIf="item.InsuranceName!=''">
                                                    <label for=""
                                                        class="form-label m-0 fw-bold text-nowrap">Insurance:</label>
                                                    <p class=" fs-8">{{item.InsuranceName}}</p>
                                                </div>
                                                <div class="d-flex align-items-center gap-1">
                                                    <label for="" class="form-label m-0 fw-bold text-nowrap">Booked
                                                        By:</label>
                                                    <p class=" fs-8">{{item.BookedEmployeeName}}</p>
                                                </div>
                                                <div class="d-flex align-items-center gap-1">
                                                    <label for="" class="form-label m-0 fw-bold text-nowrap">Booked
                                                        Date:</label>
                                                    <p class=" fs-8 text-nowrap">{{item.BookingDate}}</p>
                                                </div>

                                            </div>

                                            <div class="d-flex align-items-center gap-2"
                                                *ngIf="item.VirtualConfirmStatusName">
                                                <div class="d-flex align-items-center gap-1">
                                                    <label for=""
                                                        class="form-label m-0 fw-bold text-nowrap">Action:</label>
                                                    <p class=" fs-8">{{item.VirtualConfirmStatusName}}</p>
                                                </div>
                                                <div class="d-flex align-items-center gap-1"
                                                    *ngIf="item.VirtualConfirmedByName">
                                                    <label for="" class="form-label m-0 fw-bold text-nowrap">Action
                                                        Confirmed
                                                        By:</label>
                                                    <p class=" fs-8">{{item.VirtualConfirmedByName}}</p>
                                                </div>
                                                <div class="d-flex align-items-center gap-1"
                                                    *ngIf="item.VirtualConfirmedByName">
                                                    <label for="" class="form-label m-0 fw-bold text-nowrap">Action
                                                        Confirmed
                                                        Date:</label>
                                                    <p class=" fs-8">{{item.VirtualConfirmedDate}}</p>
                                                </div>
                                            </div>

                                            <div class="d-flex align-items-center gap-1 w-max-content"
                                                *ngIf="item.AppointmentStatus == 'Cancelled'">
                                                <label for="" class="form-label m-0 fw-bold text-nowrap">Cancel
                                                    Reason:</label>
                                                <p class=" fs-8">{{item.CancelReason}}</p>
                                            </div>
                                            <div class="d-flex align-items-center gap-1 w-max-content"
                                                *ngIf="item.AppointmentStatus == 'Cancelled'">
                                                <label for="" class="form-label m-0 fw-bold text-nowrap">Cancel
                                                    Date:</label>
                                                <div class="d-flex align-items-center gap-1">
                                                    <svg class="width-unset" width="10" height="11" viewBox="0 0 10 11"
                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                            fill="#368796" />
                                                    </svg>
                                                    <p class="m-0 clr-dark-600 text-nowrap">
                                                        {{item.CancelDate?.split('
                                                        ')[0]}}</p>
                                                    <svg class="width-unset" width="10" height="11" viewBox="0 0 10 11"
                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                                            fill="#368796" />
                                                        <path
                                                            d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                                            fill="#368796" />
                                                    </svg>
                                                    <p class="m-0 clr-dark-600  text-nowrap">
                                                        {{item.CancelDate?.split('
                                                        ')[1]}}</p>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center gap-1 w-max-content"
                                                *ngIf="(item.AppointmentStatus == 'Cancelled'&&item.ActionType!='')">
                                                <label for=""
                                                    class="form-label m-0 fw-bold text-nowrap">ActionType:</label>
                                                <p class=" fs-8">{{item.ActionType}}</p>
                                            </div>


                                        </div>
                                        <div class="inline_legend fut_app_Cancel">
                                            <span class="legend fs-8 text-nowrap fut_app_Cancel"
                                                *ngIf="item.AppointmentStatus=='Cancelled'">{{item.AppointmentStatus}}</span>
                                        </div>
                                        <div class="inline_legend fut_app_Booked">
                                            <span class="legend fs-8 text-nowrap fut_app_Booked"
                                                *ngIf="item.AppointmentStatus=='Booked'">{{item.AppointmentStatus}}</span>
                                        </div>
                                        <div class="inline_legend fut_app_All">
                                            <span class="legend fs-8 text-nowrap fut_app_All"
                                                *ngIf="item.AppointmentStatus=='Visited'">{{item.AppointmentStatus}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="scheduleReport_legends p-2 rounded-bottom bg-primary-100 d-none">
            <div class="d-flex align-items-center gap-2">
                <div class="d-flex align-items-center gap-1">
                    <span class="legend onIProunds"></span>
                    <p>Meeting</p>
                </div>
                <div class="d-flex align-items-center gap-1">
                    <span class="legend inOR"></span>
                    <p>In OR</p>
                </div>
                <div class="d-flex align-items-center gap-1">
                    <span class="legend onVacation"></span>
                    <p>On Vacation</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="errorMsgModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p *ngIf="errorMessages.length === 1">{{errorMessages[0]}}</p>
                <ul *ngIf="errorMessages.length > 1">
                    <li *ngFor="let error of errorMessages; let i = index"> {{error}}</li>
                </ul>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="caseRecordModal">
    <div class="modal-dialog  modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Schedule Report</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    (click)="trustedUrl = ''"></button>
            </div>
            <div class="modal-body">
                <iframe *ngIf="trustedUrl" height="600" width="100%" [src]="(trustedUrl ? trustedUrl :'')| safeUrl"
                    frameborder="0"></iframe>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="action_remarks" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered" style="width: 55%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Remarks</h5>
                <div class="d-flex gap-2 align-items-center justify-content-end">
                    <button class="btn btn-danger-outline" (click)="clearRemarks()">Clear</button>
                    <button class="btn btn-main-outline" (click)="updateAppointment()">Save</button>
                    <button type="button" class="btn-close ms-3" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body">
                <textarea class="form-control resize-none mb-2" id="remarks_text" cols="30" rows="3"></textarea>
                <div class="validation_err" *ngIf="showRemarksValidation">
                    <p class="m-0 mb-3 text-center fs-7">
                        Please Enter Remarks
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>