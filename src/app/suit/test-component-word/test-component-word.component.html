<app-suit-header [IsSwitchWard]="true"></app-suit-header>

<div class="page-header sticky-top justify-content-between">
    <div class="d-flex align-items-center gap-3 w-100">
        <h2 class="page-heading text-nowrap">Test Component Word Search</h2>
        <div class="d-flex gap-2 align-items-center w-100">
           
        </div>
    </div>
   
</div>

<div class="p-2">
    <form [formGroup]="componentForm">
        <div class="row gx-2 align-items-end">
            <div class="col-2">
                <label for="" class="form-label m-0">From Date - To Date </label>
                <button class="date_range_calendar p-0 position-relative h-auto">
                    <mat-date-range-input class="btn btn-main-outline" [rangePicker]="picker">
                        <input matStartDate formControlName="FromDate">
                        <input matEndDate formControlName="ToDate">
                    </mat-date-range-input>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-date-range-picker #picker></mat-date-range-picker>
                </button>
            </div>
            <div class="col-3">
                <label for="" class="form-label m-0">Test Name</label>
                <div class="d-flex input-group">
                    <input type="text" class="form-control" formControlName="TestName" placeholder="Search by Test Name"
                        [matAutocomplete]="testNameAuto"
                        (keyup)="($event.key === 'ArrowUp' || $event.key === 'ArrowDown') ? $event.preventDefault() : searchItems($event)">
                    <mat-autocomplete #testNameAuto="matAutocomplete">
                        <mat-option *ngFor="let item of fetchedItemsList"
                            (onSelectionChange)="onTestItemSelected(item)">
                            {{item.Name}}
                        </mat-option>
                    </mat-autocomplete>
                    <button type="button" class="btn btn-secondary-fill btn-icon" (click)="openItemSearchModal()">
                        <img src="assets/images/icons/icon-search.svg" alt="">
                    </button>
                </div>
            </div>
            <div class="col-5">
                <label for="" class="form-label m-0">Component Name</label>
                <div class="d-flex align-items-center gap-2">
                    <div class="" style="width: 50%;">
                        <select name="" class="form-select pe-4" formControlName="ComponentID">
                            <option value="">Select</option>
                            <option [value]="item.ParameterID" *ngFor="let item of componentsList">{{ item.ParameterName
                                }}</option>
                        </select>
                    </div>
                    <div class="w-100">
                        <input type="text" class="form-control" formControlName="SearchText"
                            placeholder="Search by Keyword">
                    </div>
                     <div class="d-flex align-items-center gap-2">
        <button class="btn btn-danger-outline" (click)="clearTestComponentWordForm()">Clear</button>
        <button class="btn btn-main-outline" (click)="fetchTestComponentWordData()">Search</button>
    </div>
                </div>

            </div>
        </div>
    </form>
</div>
 

<div class="p-2 overflow-auto worklistHeight" style="height: calc(100vh - 13rem);" >
    <div class="d-flex flex-column gap-2" *ngIf="!showNoRecFound">
        <div *ngFor="let data of sortedGroupedByOrderDate">
            <div class="card card-style-1 rounded group-date p-0 border-0 mt-1 flex-column gap-1">
                <div class="card-header rounded-top justify-content-start p-0 min-height-unset p-0">
                    <span class="d-block grp_date">{{ data.orderDate }}</span>
                </div>
                <div class="doc_card rounded cursor-pointer" *ngFor="let item of data.items">
                    <div class="rounded" [class]="item.AClass">
                        <div class="row gx-1 mx-0 align-items-center">
                            <div class="bg-primary-50 rounded-start cursor-pointer position-relative"
                                style="width: 22rem;">
                                <div class="p-2 doctor_profile d-flex">
                                    <div class="text-center me-2">
                                        <div class="profile_img position-relative">
                                            <img *ngIf="item.Gender.toLowerCase() === 'male'"
                                                src="assets/images/icons/male.svg" alt="" class="position-relative">
                                            <img *ngIf="item.Gender.toLowerCase() === 'female'"
                                                src="assets/images/icons/female.svg" alt="" class="position-relative">
                                        </div>
                                    </div>
                                    <div class="d-flex w-100 align-items-center justify-content-between">
                                        <div class="w-100 position-relative">
                                            <div class="custom_tooltip custom_tooltip_right">
                                                <p class="value fs-7 fw-bold w-75 text-truncate">{{ item.PatientName }}
                                                </p>
                                                <div class="tooltip">
                                                    <p class="value fs-7 fw-bold">{{ item.PatientName }}</p>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center gap-3">
                                                <div
                                                    class="full_age_hover custom_tooltip custom_tooltip_right d-flex align-items-center gap-1">
                                                    <p>{{ item.Gender }} | {{ item.FullAge }}</p>
                                                </div>
                                                <p><b>SSN</b> : <span>{{ item.SSN }}</span></p>
                                            </div>
                                            <div class="d-flex align-items-center gap-1">
                                            <p><b>DOB</b> :</p>
                                            <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                    fill="#368796" />
                                            </svg>
                                            <p class="m-0 fw-bold text-nowrap">
                                                {{item.DOB}}</p>
                                        </div>
                                            <div>
                                                <p>{{ item.Nationality }} | Mobile : {{ item.MobileNo }}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col doc_details">
                                <div class="bg-white p-1 rounded">
                                    <div class="row gx-2">
                                         <div class="col-2 d-flex flex-column" style="width: 20%;">
                                            <label for="" class="form-label m-0 clr-grey fw-bold">Order
                                                Date</label>
                                            <div class="d-flex align-items-center gap-1">
                                                <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                        fill="#368796"></path>
                                                </svg>
                                                <p class="m-0 fw-bold text-nowrap">{{item.OrderDate.split(' ')[0]}}</p>
                                                <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg" class="">
                                                    <path
                                                        d="M5.00634 10.5C6.2848 10.5 7.56331 10.0066 8.538 9.03255C10.4873 7.08447 10.4873 3.90922 8.538 1.96108C6.58867 0.0129498 3.41139 0.0129949 1.46202 1.96108C-0.487361 3.90917 -0.487316 7.08442 1.46202 9.03255C2.44936 10.0066 3.72785 10.5 5.00634 10.5ZM2.09493 2.59362C2.89243 1.79663 3.9557 1.39187 5.00634 1.39187C6.05698 1.39187 7.10764 1.79672 7.91774 2.59362C9.52537 4.20022 9.52537 6.80614 7.91774 8.41271C6.31012 10.0193 3.70253 10.0193 2.09493 8.41271C0.487305 6.80612 0.487305 4.20019 2.09493 2.59362Z"
                                                        fill="#368796"></path>
                                                    <path
                                                        d="M3.42405 7.96996C3.53796 7.96996 3.66458 7.91939 3.75315 7.8308L5.39875 6.0471C5.47468 5.97121 5.51265 5.85738 5.51265 5.74347V3.35258C5.51265 3.1122 5.3101 2.90978 5.06957 2.90978C4.82913 2.90978 4.62657 3.1122 4.62657 3.35258V5.57899L3.09496 7.22355C2.93038 7.40064 2.94309 7.67895 3.12031 7.84343C3.20887 7.93193 3.31014 7.96988 3.42406 7.96988L3.42405 7.96996Z"
                                                        fill="#368796"></path>
                                                </svg>
                                                <p class="m-0 fw-bold text-nowrap">{{item.OrderDate.split(' ')[1]}}</p>
                                            </div>
                                        </div>

                                        <div class="col-3 d-flex flex-column" style="width: 21%;">
                                            <label for="" class="form-label m-0 clr-grey fw-bold">Doctor</label>
                                            <p class="fw-bold">{{item.OrderDoctorName}}</p>
                                        </div>

                                        <div class="col-2 d-flex flex-column" style="width: 10%">
                                            <label for="" class="form-label m-0 clr-grey fw-bold">Req No.</label>
                                            <p class="fw-bold">{{item.TestReqNo}} </p>
                                        </div>
                                        <div class="col-2 d-flex flex-column" style="width: 10%">
                                            <label for="" class="form-label m-0 clr-grey fw-bold">Patient
                                                Type</label>
                                            <p class="fw-bold">{{item.PatientType}} </p>
                                        </div>
                                        <div class="col-2 d-flex flex-column d-none" style="width: 11%">
                                            <label for="" class="form-label m-0 clr-grey fw-bold">Bill No.</label>
                                            <p class="fw-bold">{{item.BillNo}}</p>
                                        </div>
                                        <div class="d-flex flex-column justify-content-center" style="width: 7%;">
                                            <button class="btn btn-main-fill lh-1 fs-8" (click)="openPatientSummary(item, $event);">EHR</button>
                                        </div>

                                        <div class="d-flex align-items-center gap-2" style="width: 12%;">
                                            <div class="custom_tooltip custom_tooltip_left"
                                                (click)="navigateToResultEntry(item)">
                                                <svg width="28" height="28" viewBox="0 0 32 33" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <g clip-path="url(#clip0_9203_4814)">
                                                        <circle cx="16" cy="16.2" r="16" fill="#badfe3">
                                                        </circle>
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                            d="M19.4655 10.2288V8.87651C19.4655 8.87429 19.4633 8.83445 19.4611 8.83003C19.4589 8.8256 19.4589 8.82117 19.4589 8.82117C19.4522 8.80126 19.4478 8.78355 19.4434 8.76363C19.4434 8.76142 19.4412 8.75478 19.439 8.74814C19.4368 8.74391 19.4347 8.73817 19.4329 8.73308C19.4308 8.72751 19.4291 8.72273 19.4279 8.72158C19.419 8.7083 19.4124 8.69723 19.4058 8.68395C19.3991 8.67288 19.3925 8.66182 19.3836 8.65075C19.3836 8.64964 19.3831 8.64909 19.3825 8.64854C19.382 8.64798 19.3814 8.64743 19.3814 8.64632C19.3637 8.62641 19.3438 8.60649 19.3239 8.58878C19.3289 8.59511 19.3159 8.58552 19.3009 8.57449C19.2897 8.56623 19.2774 8.55716 19.2708 8.55337C19.2575 8.54451 19.2442 8.53566 19.2287 8.52902C19.2278 8.52902 19.2265 8.52864 19.225 8.5282C19.2228 8.52757 19.2202 8.52681 19.2176 8.52681L19.138 8.50689C19.1405 8.50814 19.1266 8.50726 19.1109 8.50626C19.0989 8.5055 19.0859 8.50467 19.0782 8.50467H19.045H18.8967H17.6418C17.4736 8.50467 17.2943 8.35196 17.3098 8.17268C17.3186 8.06644 17.3164 7.9602 17.3076 7.85397C17.3088 7.87302 17.3055 7.85042 17.3015 7.82306L17.3015 7.82303L17.3015 7.82302C17.298 7.79954 17.2941 7.77259 17.2921 7.76544C17.2832 7.72117 17.2722 7.6769 17.2589 7.63485C17.2456 7.5928 17.2323 7.55296 17.2168 7.51312L17.2105 7.49937C17.2005 7.47762 17.1819 7.43728 17.177 7.42901C17.1371 7.35376 17.0929 7.28072 17.042 7.21211C17.0407 7.21211 17.0241 7.19248 17.0081 7.17374L17.0081 7.17374L17.0081 7.17374C16.9958 7.15918 16.9839 7.14516 16.98 7.14129C16.9512 7.10809 16.9202 7.0771 16.8893 7.04833C16.8671 7.0262 16.8428 7.00628 16.8184 6.98636L16.8184 6.98636C16.8229 6.98857 16.7653 6.9443 16.7542 6.93766C16.6856 6.8934 16.6126 6.85356 16.5396 6.81593C16.5351 6.81372 16.5241 6.8093 16.513 6.80487L16.513 6.80487C16.5108 6.80265 16.5108 6.80265 16.5086 6.80265C16.4975 6.79823 16.4864 6.7938 16.482 6.79159C16.4444 6.77831 16.4068 6.76503 16.3691 6.75396C16.3249 6.74068 16.2828 6.72961 16.2385 6.72076L16.2146 6.71716C16.1871 6.71313 16.1487 6.70748 16.1567 6.70748C16.0814 6.70084 16.0061 6.69863 15.9309 6.70084L15.8379 6.70748C15.8349 6.70748 15.8308 6.70796 15.8265 6.70847C15.8215 6.70906 15.8161 6.7097 15.8114 6.7097H15.8092C15.7829 6.71345 15.7582 6.7188 15.7323 6.7244L15.7184 6.7274C15.641 6.74511 15.5657 6.76945 15.4905 6.79601C15.4882 6.79823 15.4838 6.80044 15.4816 6.80044C15.4805 6.80044 15.4794 6.80099 15.4783 6.80155C15.4772 6.8021 15.4761 6.80265 15.475 6.80265C15.4573 6.80929 15.4395 6.81815 15.4218 6.827C15.3864 6.84471 15.3532 6.86241 15.32 6.88233L15.32 6.88234L15.32 6.88234C15.2868 6.90226 15.2536 6.92217 15.2226 6.9443C15.2094 6.95537 15.1939 6.96644 15.1784 6.9775L15.1762 6.97972C15.112 7.03726 15.0478 7.09481 14.9902 7.16121L14.9526 7.20547C14.9518 7.20632 14.9509 7.20684 14.9502 7.20729C14.949 7.20801 14.9482 7.20853 14.9482 7.2099L14.934 7.23027C14.9181 7.25306 14.9015 7.27685 14.8862 7.30064C14.8464 7.36483 14.8088 7.43123 14.7778 7.49984C14.7778 7.50076 14.7736 7.51112 14.7684 7.52407C14.761 7.54244 14.7516 7.566 14.749 7.57509L14.7158 7.68797C14.7047 7.73666 14.6937 7.78535 14.6848 7.83405V7.83626V7.84069V7.84511V7.84733C14.6826 7.84954 14.6826 7.85397 14.6826 7.85618C14.6826 7.86146 14.6821 7.86674 14.6816 7.87226C14.681 7.87831 14.6804 7.88465 14.6804 7.89159C14.6737 7.98234 14.676 8.07308 14.6826 8.16383C14.6981 8.3431 14.5188 8.49582 14.3506 8.49582H13.0647H12.9363H12.9098H12.8766H12.8588C12.8566 8.49693 12.8544 8.49748 12.8522 8.49803C12.85 8.49859 12.8478 8.49914 12.8456 8.50025L12.8456 8.50025L12.8456 8.50025C12.8256 8.50468 12.8057 8.5091 12.7858 8.51574C12.7858 8.51706 12.7701 8.52307 12.7556 8.52866C12.7457 8.53247 12.7363 8.53608 12.7327 8.53787C12.72 8.54423 12.7084 8.55172 12.6963 8.55954L12.6818 8.56886C12.6818 8.5703 12.6659 8.5839 12.6535 8.59446C12.6469 8.60014 12.6413 8.60494 12.6397 8.60649C12.5955 8.65296 12.5556 8.72158 12.5401 8.78355C12.5357 8.79683 12.5335 8.8079 12.5313 8.82117C12.5313 8.82289 12.5309 8.82494 12.5305 8.82745C12.5299 8.83141 12.5291 8.83653 12.5291 8.84331V8.87651V8.89864V8.99824V10.22C12.6312 10.22 12.7332 10.2222 12.8351 10.2244H12.8351H12.8351C12.9363 10.2266 13.0373 10.2288 13.1377 10.2288H19.4655ZM22.8644 24.0618V9.80822C22.8644 9.79052 22.8622 9.7706 22.86 9.75289C22.8179 9.44082 22.5789 9.20842 22.2535 9.19735H20.1294V10.5607C20.1294 10.6891 20.0541 10.802 19.9457 10.8573C19.9014 10.8795 19.8505 10.8927 19.7974 10.8927H19.7841C19.7697 10.8927 19.7559 10.8933 19.7421 10.8938L19.742 10.8938C19.7282 10.8944 19.7143 10.8949 19.7 10.8949C19.6712 10.8949 19.6424 10.8949 19.6137 10.8972C19.4695 10.8984 19.3253 10.8968 19.1811 10.8952L19.181 10.8952C19.0729 10.894 18.9648 10.8927 18.8567 10.8927H12.1969C12.1438 10.8927 12.0951 10.8795 12.0486 10.8573C11.9402 10.802 11.8649 10.6891 11.8649 10.5607V9.19735H10.0241C9.99257 9.19735 9.96083 9.19673 9.92898 9.19611H9.92897H9.92896L9.92891 9.1961C9.8265 9.1941 9.72305 9.19207 9.62345 9.21063C9.32466 9.26597 9.13432 9.53377 9.12989 9.82814C9.12841 9.91372 9.12891 9.9993 9.1294 10.0849C9.12964 10.1277 9.12989 10.1705 9.12989 10.2133V25.0622C9.13653 25.3942 9.37335 25.6665 9.71199 25.6886C9.9552 25.7051 10.2025 25.7002 10.4483 25.6954H10.4484H10.4486H10.4487C10.5651 25.6931 10.6813 25.6908 10.7965 25.6908H22.1163C22.1302 25.6908 22.1442 25.691 22.1582 25.6913C22.1865 25.6918 22.2151 25.6923 22.2447 25.6908C22.5899 25.6797 22.8555 25.4252 22.8666 25.0777C22.8738 24.8586 22.8707 24.6395 22.8677 24.4204L22.8677 24.4202C22.866 24.3007 22.8644 24.1813 22.8644 24.0618ZM18.7298 14.8439H19.7932C19.9162 14.8439 20.0165 14.9436 20.0165 15.0671C20.0165 15.1906 19.9156 15.2915 19.7927 15.2915H18.047L17.0056 13.7609C16.9444 13.6688 16.8471 13.6172 16.7437 13.6279C16.6422 13.6368 16.5537 13.7027 16.5086 13.8036L15.6762 15.6448L15.0789 14.3433C15.0302 14.2376 14.9387 14.1729 14.833 14.1694C14.7274 14.1658 14.6324 14.2252 14.5777 14.3267L14.0594 15.2862H13.4318C12.939 14.0369 13.4668 12.7628 14.2262 12.4914C15.428 12.0621 16.0146 13.1481 16.0146 13.1481C16.0146 13.1481 16.6018 12.0621 17.803 12.4914C18.4722 12.7307 18.962 13.7496 18.7298 14.8439ZM16.7977 14.2501L17.6777 15.5433C17.7531 15.6561 17.9015 15.7345 18.0369 15.7333H18.3712C17.9615 16.4042 17.2205 17.0318 16.0146 17.4474C15.0836 17.1262 14.4316 16.6774 13.9923 16.1816H12.5126C12.3885 16.1816 12.2888 16.0806 12.2888 15.9571C12.2888 15.8336 12.3885 15.7333 12.5126 15.7333H14.0819C14.2268 15.7333 14.3752 15.6448 14.4435 15.5172L14.8122 14.8355L15.428 16.1762C15.4766 16.2849 15.5705 16.349 15.6773 16.349H15.6785C15.7854 16.349 15.8792 16.2843 15.9279 16.175L16.7977 14.2501ZM19.1111 20.1916C18.9674 20.1916 18.8338 20.1234 18.7424 20.0028L17.7128 18.6532L18.2798 18.2204L19.0867 19.2785L20.4055 17.1136L21.0141 17.4847L19.5053 19.9636C19.4216 20.1002 19.2874 20.1833 19.1342 20.1916C19.1288 20.1913 19.1241 20.1914 19.1191 20.1915L19.1111 20.1916ZM16.9954 19.6314C16.9954 19.7044 16.936 19.7638 16.863 19.7638H11.9146C11.8416 19.7638 11.7822 19.7044 11.7822 19.6314V19.1023C11.7822 19.0293 11.8416 18.9699 11.9146 18.9699H16.863C16.936 18.9699 16.9954 19.0293 16.9954 19.1023V19.6314ZM16.9954 23.1991C16.9954 23.2721 16.936 23.3309 16.863 23.3309H11.9146C11.8416 23.3309 11.7822 23.2721 11.7822 23.1991V22.6695C11.7822 22.5965 11.8416 22.5371 11.9146 22.5371H16.863C16.936 22.5371 16.9954 22.5965 16.9954 22.6695V23.1991ZM19.1111 23.759C18.9674 23.759 18.8338 23.6908 18.7424 23.5702L17.7128 22.2206L18.2798 21.7878L19.0867 22.8453L20.4055 20.6804L21.0141 21.0515L19.5053 23.531C19.4216 23.667 19.2874 23.7507 19.1342 23.759H19.1111Z"
                                                            fill="#368796"></path>
                                                    </g>
                                                </svg>
                                                <div class="tooltip">
                                                    <p>Result Entry</p>
                                                </div>
                                            </div>
                                            <div class="px-2 position-relative border-start-primary-200 d-flex align-items-center" [class.alleregyblink]="item?.IsAllergy == 1">
                                                <div id="divAllergyTooltip" class="pb-0 clr-main-2 hoverAllergy">
                                                    <span class="allergy_icon d-flex align-items-center gap-1">
                                                        <svg width="27" height="27" viewBox="0 0 32 32" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <circle cx="16" cy="15.998" r="16" fill="#DAEEF1"></circle>
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M25 15.998C25 20.9686 20.9706 24.998 16 24.998C11.0294 24.998 7 20.9686 7 15.998C7 11.0275 11.0294 6.99805 16 6.99805C20.9706 6.99805 25 11.0275 25 15.998ZM21.6357 21.9294C20.1684 23.324 18.1841 24.1799 16 24.1799C11.4813 24.1799 7.81818 20.5167 7.81818 15.998C7.81818 13.8662 8.63349 11.9249 9.9693 10.4687C9.98784 10.533 10.0224 10.5935 10.073 10.6442L13.6988 14.27L12.1586 15.8215C12.0529 15.9281 11.9933 16.0719 11.9927 16.2221V19.1923L10.4417 20.7433C10.3881 20.7965 10.3455 20.8598 10.3165 20.9295C10.2874 20.9993 10.2724 21.0741 10.2724 21.1496C10.2724 21.2252 10.2874 21.3 10.3165 21.3697C10.3455 21.4395 10.3881 21.5028 10.4417 21.556C10.4949 21.6096 10.5582 21.6522 10.628 21.6812C10.6977 21.7103 10.7725 21.7252 10.8481 21.7252C10.9236 21.7252 10.9984 21.7103 11.0682 21.6812C11.1379 21.6522 11.2012 21.6096 11.2544 21.556L12.8054 20.005H15.7756C15.9258 20.0044 16.0696 19.9448 16.1762 19.839L17.7277 18.2989L21.25 21.8211C21.3546 21.9257 21.5017 21.9618 21.6357 21.9294ZM21.9369 21.6279C21.9691 21.494 21.933 21.347 21.8285 21.2425L18.3084 17.7224L20.8863 15.1633C21.1528 14.8975 21.3642 14.5817 21.5085 14.2341C21.6527 13.8864 21.727 13.5137 21.727 13.1373C21.727 12.761 21.6527 12.3883 21.5085 12.0406C21.3642 11.693 21.1528 11.3772 20.8863 11.1114C20.6205 10.8449 20.3047 10.6335 19.9571 10.4892C19.6094 10.345 19.2367 10.2707 18.8603 10.2707C18.484 10.2707 18.1113 10.345 17.7636 10.4892C17.416 10.6335 17.1002 10.8449 16.8344 11.1114L14.2753 13.6893L10.6516 10.0656C10.6011 10.0151 10.5406 9.98056 10.4765 9.96199C11.932 8.62936 13.871 7.81623 16 7.81623C20.5187 7.81623 24.1818 11.4794 24.1818 15.998C24.1818 18.1793 23.3283 20.1612 21.9369 21.6279ZM13.1373 16.4567L14.508 15.0791L15.3069 15.8781L14.4479 16.7371C14.3942 16.7904 14.3517 16.8536 14.3226 16.9234C14.2935 16.9931 14.2786 17.0679 14.2786 17.1435C14.2786 17.219 14.2935 17.2938 14.3226 17.3636C14.3517 17.4333 14.3942 17.4966 14.4479 17.5498C14.5011 17.6035 14.5644 17.646 14.6341 17.6751C14.7039 17.7041 14.7787 17.7191 14.8542 17.7191C14.9298 17.7191 15.0046 17.7041 15.0743 17.6751C15.144 17.646 15.2073 17.6035 15.2605 17.5498L16.1196 16.6907L16.9186 17.4897L15.541 18.8604H13.1373V16.4567ZM15.085 14.4991L15.8855 15.2995L18.454 12.731C18.5618 12.6232 18.7079 12.5627 18.8603 12.5627C19.0128 12.5627 19.1589 12.6232 19.2667 12.731C19.3745 12.8388 19.435 12.9849 19.435 13.1373C19.435 13.2898 19.3745 13.4359 19.2667 13.5437L16.6982 16.1122L17.4986 16.9127L20.0736 14.3506C20.3769 14.0252 20.542 13.5947 20.5342 13.1499C20.5263 12.7051 20.3461 12.2807 20.0316 11.9661C19.717 11.6516 19.2926 11.4714 18.8478 11.4635C18.403 11.4557 17.9725 11.6208 17.6471 11.9241L15.085 14.4991Z"
                                                                fill="#368796"></path>
                                                        </svg>
                                                        <div>
                                                            <p class="clr-primary-600">Allergy</p>
                                                            <p class="m-0 fs-7 text-nowrap">
                                                                {{item?.IsAllergy
                                                                === 1 ? 'Yes' :
                                                                'NKA'}}</p>
                                                        </div>
                                                    </span>
                                                    <div data-bs-backdrop="static" tabindex="-1" id="viewAllergies"
                                                        *ngIf="item?.IsAllergy == 1"
                                                        class="viewPatientsAllergiesModal end-0">
                                                        <div class="modal-dialog modal-dialog-scrollable modal-l">
                                                            <div class="modal-content p-3">
                                                                <div class="modal-header">
                                                                    <h6 translate="" class="modal-title"> Allergies
                                                                    </h6>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <div
                                                                        class="d-flex w-100 align-items-center justify-content-between">
                                                                        <div class="d-flex w-100 mt-2">
                                                                            <div
                                                                                [innerHtml]="item?.AllergyData">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-2 d-flex flex-column inline_legend pe-2" style="width: 15%;">
                                            <label for="" class="form-label m-0 clr-grey fw-bold">Order Status</label>
                                            <!-- <p class="fw-bold">{{wrk.StatusName}}</p> -->
                                            <span class="legend fs-8">{{item.StatusName}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="nobulkprocess d-flex flex-column align-items-center justify-content-center" *ngIf="showNoRecFound">
        <img src="assets/images/nolaboratory.svg" alt="" class="mb-2">

        <p class="m-0 fs-6">{{ValidationMsgg}}</p>
     </div>
</div>




<div class="modal" id="itemSearchModal" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width:50rem" >
        <div class="modal-content">
            <div class="modal-header p-2 gap-3">
                <h5 class="modal-title clr-primary-600 fs-6 text-nowrap" translate>Item Search</h5>
                <div class="d-flex align-items-center gap-2">
                    <button class="btn btn-main-outline" (click)="onSelectBtnClick()">Select</button>
                    <button type="button" data-bs-dismiss="modal" aria-label="Close" class="btn-close"></button>
                </div>
            </div>
            <div class="modal-body p-2">
                <div class="d-flex gap-2 align-items-end">
                    <div class="d-flex flex-column w-50">
                        <label for="" class="form-label">Item Name</label>
                        <div class="d-flex gap-2 align-items-center">
                            <input type="text" class="form-control" placeholder="Name" [(ngModel)]="itemNameSearchText"
                                (keydown.enter)="fetchItems()">
                        </div>
                    </div>
                    <div class="d-flex gap-2 justify-content-end">
                        <button class="btn btn-danger-outline" (click)="clearSearch()">Clear</button>
                        <button class="btn btn-main-outline" (click)="fetchItems()">Search</button>
                    </div>
                </div>

                <div class="mt-3">
                    <div class="fixed_alter_list rounded border-primary-200">
                        <div class="fixed_alter_header bg-primary-100">
                            <div class="row gx-2 mx-0 p-2">
                                <div class="col-1"></div>
                                <div class="col-3">
                                    <p class="label m-0">Item Code</p>
                                </div>
                                <div class="col-8">
                                    <p class="label m-0">Item Name</p>
                                </div>
                            </div>
                        </div>
                        <div class="fixed_alter_body" style="height: 22rem;">
                            <div class="row gx-2 mx-0 p-2 alter_div" *ngFor="let item of fetchedItemsList;let i=index">
                                <div class="col-1">
                                    <div class="custom_check d-flex align-items-center justify-content-center"
                                        [class.active]="item.selected" (click)="onItemSelection(item)">
                                        <svg width="17" height="17" viewBox="0 0 20 21" fill="none"
                                            xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                            <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                            <path
                                                d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                fill="white" stroke="white" stroke-width="0.25"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <p class="m-0">{{ item.CODE }}</p>
                                </div>
                                <div class="col-8">
                                    <p class="m-0">{{ item.Name }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <app-pagination *ngIf="totalItemsCount > 0" [currentPage]="currentPage" [totalCount]="totalItemsCount"
                    (pageChange)="handlePageChange($event)"></app-pagination>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="resultentereddModal" tabindex="-1" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 40rem;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Observations</h5>
                <div class="d-flex gap-2 align-items-center justify-content-end">
                    <button class="btn btn-main-outline">Clear</button>
                    <button class="btn btn-danger-outline">Save</button>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
            </div>
            <div class="modal-body">
                <span class="textarea_box textarea_box_double bg-transparent p-2 rounded-2 d-block w-100"
                    contenteditable="true"></span>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="errorMsg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-toast modal-toast-success">
        <div class="modal-content">
            <img class="modal-header-icon" src="assets/images/icons/toast-info.svg" alt="">
            <div class="modal-body">
                <p>{{errorMsg}}</p>
                <div class="modal-footer">
                    <a href="javascript:void(0)" type="button" class="btn btn-main-outline"
                        data-bs-dismiss="modal">{{langData?.common?.ok}}</a>
                </div>
            </div>
        </div>
    </div>
</div>