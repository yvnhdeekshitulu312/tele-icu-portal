<app-suit-header [IsSwitchWard]="true"></app-suit-header>
<!--Container-->
<div class="container__wrapper bg-white">
    <div class="page-header sticky-top shadow-sm">
        <h2 class="page-heading">Admission Requests From Doctor</h2>
        <div class="actions ms-auto gap-2 d-flex align-items-center">
            <img (click)="navigateBackToCoordinatorWorklist()" *ngIf="fromCoordinatorWorklist" class="back_img cursor-pointer"
                    src="assets/images/back.svg" alt="">
        </div>
    </div>

    <div class="d-flex align-items-center justify-content-between p-2 border-bottom">
        <form class="d-flex align-items-center gap-2" [formGroup]="datesForm">
            <div class="d-flex align-items-center gap-2">
                <label for="" class="form-label text-nowrap">Date :</label>
                <div class="d-flex align-items-center gap-2 justify-content-end">
                    <button class="date_range_calendar p-0 position-relative"
                        style="width: 227px;">
                        <mat-date-range-input class="btn btn-main-outline" [formGroup]="datesForm"
                            [rangePicker]="picker">
                            <input matStartDate formControlName="fromdate">
                            <input matEndDate formControlName="todate" (dateChange)="FetchAdmisionRequests()">
                        </mat-date-range-input>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-date-range-picker #picker></mat-date-range-picker>
                    </button>
                </div>
                <div class="CommanSearch__form">
                    <label for="" class="CommonSearch__label">
                        <img src="assets/images/icons/icon-search.svg" alt="">
                    </label>
                    <input class="CommonSearch__input form-control" type="text" id="txtSsn" placeholder="SSN" formControlName="SSN"
                     (keydown.enter)="onSSNEnterPress($event)">
                    <button type="reset" class="reset-btn">
                        <svg width="20" height="20" viewBox="0 0 20 20">
                            <path
                                d="M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z"
                                stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-danger-outline" (click)="clearAdmissionRequests()">Clear</button>
                <button class="btn btn-main-outline" (click)="searchAdmissionRequests()">Search</button>                
            </div>
        </form>
        <div class="admission_legends d-flex align-items-center gap-3">
            <div class="d-flex align-items-center gap-1 newReq">
                <span class=""></span>
                <label for="" class="form-label m-0">New Request</label>
            </div>
            <div class="d-flex align-items-center gap-1 admitted">
                <span class=""></span>
                <label for="" class="form-label m-0">Admitted</label>
            </div>
        </div>
    </div>


    <div class="p-2 pb-0">

        <!-- No Bulk Process -->
        <div class="nobulkprocess d-flex flex-column align-items-center justify-content-center"
            *ngIf="showNoRecFound">
            <img src="assets/images/icon-no-appointments.svg" alt="" class="mb-2">
            <p class="m-0 fs-6">No Admissions for the Day</p>
        </div>

        <div class="adm_req_doctors" *ngIf="!showNoRecFound">
            <div *ngFor="let data of sortedGroupedByAdmitDate">
            
                <div class="card card-style-1 rounded group-date p-0 border-0 mt-1">
                    <div class="card-header rounded-top justify-content-start p-0 min-height-unset p-0">
                        <span class="d-block grp_date">{{ data.admitDate }}</span>
                    </div>
            
                    <div [class]="item.IPAdmissionID == '' ? 'doctor_worklist my-1 cursor-pointer newReq worklist_patientcard rounded-2' : 'doctor_worklist my-1 cursor-pointer admitted worklist_patientcard rounded-2 my-1'"
                        *ngFor="let item of data.items; let i=index">
                        <div class="row mx-0" (click)="navigateToPatientAdmissions(item)">
                            <div class="col-md-12 p-0">
                                <div class="row mx-0 gx-2 p-1">
                                    <div class="col-lg-3" style="width: 22rem;">
                                        <div class="d-flex align-items-center h-100">
                                            <div class="patient-photo me-3">
                                                <!-- <img src="assets/images/icons/female.svg" alt="" class="position-relative"> -->
                                                <img *ngIf="item.GenderID == 1" src="assets/images/icons/male.svg" alt=""
                                                    class="position-relative">
                                                <img *ngIf="item.GenderID == 2" src="assets/images/icons/female.svg" alt=""
                                                    class="position-relative">
                                            </div>
                                            <div class="mt-1">
                                                <p class="value fs-7 fw-bold w-100">{{item.PatientName}}</p>
                                                <div class="d-flex align-items-center gap-2">
                                                    <p>{{item.Gender}} | {{item.FullAge}} </p>
                                                    <p><b>ID No.</b> : {{ item.SSN }}</p>
                                                    <!-- <a (click)="navigateToPatientAdmissions(item)" class="cursor-pointer fs-8">SSN : <span class="fw-bold">{{ item.SSN }}</span></a> -->
                                                </div>
                                                <div class="d-flex align-items-center gap-1">
                                                    <p><b>DOB</b> :</p>
                                                    <svg width="10" height="11" viewBox="0 0 10 11" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M8.26322 1.3606H7.69641V0.965985C7.69641 0.799562 7.6061 0.645704 7.45953 0.562492C7.31306 0.479173 7.13244 0.479173 6.98598 0.562492C6.8394 0.645704 6.7491 0.799559 6.7491 0.965985V1.36049L3.25071 1.3606V0.965983C3.25071 0.799559 3.16041 0.645701 3.01383 0.56249C2.86736 0.47917 2.68674 0.47917 2.54028 0.56249C2.3937 0.645701 2.3034 0.799557 2.3034 0.965983V1.36049L1.73659 1.3606C1.27604 1.3606 0.834325 1.54056 0.508675 1.86095C0.182912 2.18145 0 2.61604 0 3.06915V8.79133C0 9.24445 0.18292 9.67904 0.508675 9.99954C0.834325 10.3199 1.27604 10.5 1.73659 10.5H8.26341C8.72396 10.5 9.16568 10.3199 9.49133 9.99954C9.81709 9.67904 10 9.24445 10 8.79133V3.06915C10 2.61604 9.81708 2.18145 9.49133 1.86095C9.16568 1.54056 8.72396 1.3606 8.26341 1.3606L8.26322 1.3606ZM1.73809 2.29263H2.3049V2.99787L2.30479 2.99776C2.30479 3.16419 2.39509 3.31805 2.54167 3.40126C2.68825 3.48458 2.86876 3.48458 3.01533 3.40126C3.1618 3.31805 3.2521 3.16419 3.2521 2.99776V2.29252H6.74908V2.99776C6.74908 3.16419 6.83939 3.31805 6.98596 3.40126C7.13243 3.48458 7.31305 3.48458 7.45951 3.40126C7.60609 3.31805 7.69639 3.16419 7.69639 2.99776V2.29252H8.2632C8.47255 2.29252 8.67331 2.37432 8.82132 2.52005C8.96933 2.66567 9.05259 2.86319 9.05259 3.06916V4.48268H0.947001V3.06916C0.947001 2.86319 1.03026 2.66567 1.17827 2.52005C1.32628 2.37432 1.52703 2.29252 1.73639 2.29252L1.73809 2.29263ZM8.26322 9.56809H1.7364C1.52705 9.56809 1.32629 9.48629 1.17828 9.34067C1.03027 9.19494 0.947012 8.99742 0.947012 8.79144V5.41472H9.0526V8.79144C9.0526 8.99742 8.96934 9.19494 8.82133 9.34067C8.67332 9.48629 8.47257 9.56809 8.26321 9.56809H8.26322Z"
                                                            fill="#368796" />
                                                    </svg>
                                                    <p class="m-0 fw-bold text-nowrap">
                                                        {{item.DOB?.split('
                                                        ')[0]}}</p>
                                                </div>
                                                <p>{{item.Nationality}} | Mobile : {{item.PhoneNo}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col pe-0">
                                        <div class="bg-white h-100 p-1 rounded-2 d-flex gap-2">
                                            <div class="row mx-0 pb-1 w-100 gx-2">
                                                <div class="col-2">
                                                    <label for="" class="form-label m-0 fw-bold">Doctor Name</label>
                                                    <p class="text-wrap fs-8">{{item.DoctorName}}</p>
                                                </div>
                                                <div class="col-2" style="width: 13%;">
                                                    <label for="" class="form-label m-0 fw-bold">Specialisation</label>
                                                    <p class="text-truncate fs-8">{{item.Specialisation}}</p>
                                                </div>
                                                <div class="" style="width: 12%;">
                                                    <label for="" class="form-label text-nowrap m-0 fw-bold">Request Date</label>
                                                    <p class="text-truncate fs-8">{{item.AdmitDate}}</p>
                                                </div>
                                                <div class="" style="width: 14%;">
                                                    <label for="" class="form-label text-nowrap m-0 fw-bold">Admission Date</label>
                                                    <p class="text-truncate fs-8">{{item.FollowUpOn}}</p>
                                                </div>
                                                <div class="col-3" *ngIf="item.CompanyName!=''" style="width: 24%;">
                                                    <label for="" class="form-label m-0 fw-bold">Insurance Name</label>
                                                    <p class="fs-8">{{item.CompanyName}} </p>
                                                </div>
                                                <div class="col" style="max-width: 12%;">
                                                    <label for="" class="form-label text-nowrap m-0 fw-bold">Patient Type</label>
                                                    <p class="text-truncate fs-8">{{item.CompanyName == '' ? 'Self' : 'Insured'}}
                                                    </p>
                                                </div>
                                                <div class="col-1 ms-auto" style="width: 5rem;">
                                                    <!-- <div class="d-flex align-items-center justify-content-center gap-2">
                                                        <svg *ngIf="item?.IsPregnancy==1" width="17" height="25" viewBox="0 0 17 25"
                                                            fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M16.9116 14.5282C16.6976 14.0886 16.4757 13.6374 16.1738 13.2589C15.5849 12.5287 14.9466 11.8443 14.3195 11.1484C14.178 10.9878 14.0404 10.8235 13.9066 10.6552C13.7766 10.506 13.6544 10.3493 13.532 10.1887C13.1229 9.65723 12.7329 9.10285 12.2284 8.67858C11.4255 8.00186 11.4523 7.13018 11.2954 6.26623C11.2954 6.25855 11.2917 6.25087 11.2917 6.24336C11.2075 5.78082 11.135 5.31435 11.0546 4.85164C10.8749 3.84617 10.8597 2.74889 10.4429 1.78935C9.87317 0.474088 8.57723 0.229537 7.26197 0.546794C6.75351 0.66917 6.30242 0.902314 5.93924 1.28089C5.92013 1.3 5.90101 1.31912 5.88189 1.34199C5.82079 1.41077 5.75952 1.48348 5.69074 1.56762C5.69074 1.56387 5.68698 1.55994 5.68306 1.55994C5.66018 1.59442 5.64107 1.62873 5.62195 1.66696C5.6182 1.69375 5.60659 1.7243 5.58372 1.76254C5.55693 1.80845 5.53013 1.85436 5.50726 1.9001C5.50726 1.90386 5.5035 1.90386 5.5035 1.90386C5.3161 2.26706 5.22052 2.64564 5.24356 3.05081C5.24732 3.13495 5.255 3.22285 5.27036 3.31075C5.29323 3.45224 5.22837 3.64715 5.13655 3.76953C5.11368 3.79632 5.09456 3.82312 5.07152 3.84974C4.98362 3.953 4.87661 4.04858 4.77335 4.14023C4.71975 4.18615 4.66634 4.23206 4.61274 4.2778C4.39871 4.46896 4.40622 4.59901 4.65865 4.7212C4.66241 4.72495 4.67009 4.72888 4.67777 4.73263C4.71225 4.74799 4.74655 4.76711 4.78478 4.77855C4.95307 4.83214 4.94539 4.94684 4.86893 5.06153C4.78478 5.18766 4.78103 5.29092 4.78871 5.45153C4.80407 5.64269 4.89573 5.75738 4.94932 5.91031C4.9838 5.99821 4.97219 6.1129 4.94932 6.20848C4.8691 6.55257 4.97219 6.72087 5.3202 6.7782C5.4349 6.79731 5.54959 6.80107 5.66804 6.80499H5.82097H5.82865C5.89743 6.79356 6.27974 6.7514 6.44804 7.00384C6.53219 7.08405 6.60472 7.18356 6.63545 7.28289C6.70423 7.49692 6.73103 7.71487 6.74246 7.94428C6.77694 8.09345 6.78069 8.24245 6.74246 8.38392C6.7271 8.44895 6.70048 8.51005 6.666 8.57132C6.58578 8.70138 6.50539 8.83127 6.42125 8.96132C6.38677 8.97668 6.36015 8.99187 6.3371 8.99956C5.81331 9.82151 5.19391 10.5556 4.42928 11.2055C3.58442 11.9205 3.13709 12.5781 3.64551 13.7021C3.73733 13.9046 3.74484 14.1112 3.69142 14.31C3.64175 14.4935 3.53849 14.6732 3.40468 14.8452C2.99181 15.3651 2.49481 15.74 2.04748 16.2139C1.22552 17.0778 0.862296 18.2248 0.927312 19.4025V19.4063C0.904441 20.2588 1.15295 21.0885 1.63462 21.7652C1.9176 22.2622 2.2808 22.7324 2.72424 23.153H2.728C2.91148 23.3288 3.06065 23.5353 3.15998 23.7684C3.25181 23.9825 3.33971 24.2004 3.43904 24.4184H8.28681C9.44914 24.4184 10.6113 24.4184 11.7773 24.4221C11.7965 24.4221 11.8156 24.4221 11.8309 24.4184C11.8883 24.4069 11.9265 24.3801 11.9647 24.319C11.9839 24.2846 11.9992 24.254 12.0183 24.2197C12.3013 23.7112 12.5116 23.1721 12.5881 22.5872C12.6799 21.8762 12.5843 21.1803 12.3358 20.5112C12.1178 19.911 11.8616 19.326 11.6248 18.7297C11.4872 18.378 11.3648 18.0187 11.3534 17.6401C11.3725 17.6324 11.3916 17.6247 11.4108 17.6172C13.1044 16.9023 14.798 16.1873 16.4918 15.4686C16.9158 15.289 17.1337 14.9792 16.9117 14.5281L16.9116 14.5282ZM13.6431 14.6429C12.9894 15.1054 12.3395 15.5796 11.6628 16.0039C11.8845 15.3234 12.1215 14.6504 12.3356 13.9699C12.4311 13.6755 12.5114 13.381 12.5764 13.0791C12.9664 13.427 13.341 13.7635 13.7156 14.1037C13.9336 14.3025 13.83 14.509 13.6431 14.6429L13.6431 14.6429Z"
                                                                fill="#368796" />
                                                        </svg>
                                                    </div>
                                                    <p *ngIf="item?.IsPregnancy==1">{{item?.TriSemister}}</p>                 -->
                                                    <div class="d-flex align-items-center justify-content-center gap-2">
                                                        <svg *ngIf="item?.IsPregnancy==1" width="28" height="28" viewBox="0 0 32 32"
                                                            fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <circle cx="16" cy="15.998" r="16"
                                                                fill="#DADFF1" fill-opacity="0.5" />
                                                            <path
                                                                d="M8.97438 17.2531C9.15273 16.8868 9.33764 16.5108 9.58925 16.1953C10.08 15.5869 10.6119 15.0165 11.1345 14.4366C11.2524 14.3028 11.367 14.1658 11.4785 14.0256C11.5869 13.9013 11.6887 13.7707 11.7907 13.6369C12.1316 13.194 12.4566 12.732 12.8771 12.3784C13.5461 11.8145 13.5238 11.0881 13.6545 10.3681C13.6545 10.3617 13.6577 10.3553 13.6577 10.3491C13.7278 9.96363 13.7882 9.57491 13.8552 9.18931C14.005 8.35142 14.0176 7.43703 14.365 6.6374C14.8397 5.54135 15.9197 5.33756 17.0157 5.60194C17.4395 5.70392 17.8154 5.89821 18.118 6.21369C18.1339 6.22962 18.1499 6.24555 18.1658 6.2646C18.2167 6.32192 18.2678 6.38251 18.3251 6.45263C18.3251 6.4495 18.3282 6.44623 18.3315 6.44623C18.3506 6.47496 18.3665 6.50355 18.3824 6.53541C18.3856 6.55774 18.3952 6.5832 18.4143 6.61506C18.4366 6.65332 18.4589 6.69158 18.478 6.7297C18.478 6.73283 18.4811 6.73283 18.4811 6.73283C18.6373 7.03549 18.7169 7.35098 18.6977 7.68862C18.6946 7.75874 18.6882 7.83199 18.6754 7.90524C18.6564 8.02315 18.7104 8.18557 18.7869 8.28755C18.806 8.30988 18.8219 8.33221 18.8411 8.3544C18.9144 8.44045 19.0035 8.5201 19.0896 8.59648C19.1343 8.63474 19.1788 8.673 19.2234 8.71111C19.4018 8.87041 19.3955 8.97879 19.1852 9.08061C19.182 9.08374 19.1756 9.08701 19.1692 9.09014C19.1405 9.10294 19.1119 9.11887 19.0801 9.1284C18.9398 9.17306 18.9462 9.26864 19.0099 9.36422C19.0801 9.46933 19.0832 9.55538 19.0768 9.68922C19.064 9.84852 18.9876 9.9441 18.9429 10.0715C18.9142 10.1448 18.9239 10.2404 18.9429 10.32C19.0098 10.6068 18.9239 10.747 18.6339 10.7948C18.5383 10.8107 18.4427 10.8138 18.344 10.8171H18.2166H18.2102C18.1529 10.8076 17.8343 10.7724 17.694 10.9828C17.6239 11.0497 17.5634 11.1326 17.5378 11.2154C17.4805 11.3937 17.4582 11.5753 17.4487 11.7665C17.4199 11.8908 17.4168 12.015 17.4487 12.1329C17.4615 12.1871 17.4837 12.238 17.5124 12.2891C17.5792 12.3974 17.6462 12.5057 17.7163 12.614C17.7451 12.6269 17.7673 12.6395 17.7865 12.6459C18.223 13.3309 18.7391 13.9426 19.3763 14.4842C20.0804 15.08 20.4531 15.6281 20.0295 16.5647C19.9529 16.7335 19.9467 16.9056 19.9912 17.0713C20.0326 17.2242 20.1186 17.3739 20.2301 17.5173C20.5742 17.9505 20.9884 18.2629 21.3612 18.6579C22.0461 19.3778 22.3488 20.3336 22.2946 21.315V21.3182C22.3137 22.0286 22.1066 22.72 21.7052 23.2839C21.4694 23.6981 21.1667 24.09 20.7972 24.4404H20.7941C20.6412 24.5869 20.5168 24.759 20.4341 24.9533C20.3575 25.1317 20.2843 25.3133 20.2015 25.4949H16.1617C15.1931 25.4949 14.2247 25.4949 13.2529 25.498C13.237 25.498 13.2211 25.498 13.2083 25.4949C13.1605 25.4854 13.1286 25.4631 13.0968 25.4121C13.0808 25.3834 13.068 25.358 13.0521 25.3294C12.8163 24.9056 12.6411 24.4563 12.5773 23.9689C12.5008 23.3764 12.5805 22.7965 12.7875 22.239C12.9692 21.7388 13.1827 21.2513 13.3801 20.7544C13.4947 20.4612 13.5967 20.1619 13.6062 19.8464C13.5903 19.84 13.5744 19.8336 13.5584 19.8273C12.1471 19.2315 10.7357 18.6357 9.32417 18.0367C8.97087 17.8871 8.78926 17.629 8.97429 17.2531L8.97438 17.2531ZM11.6981 17.3487C12.2429 17.7341 12.7845 18.1293 13.3484 18.4828C13.1637 17.9158 12.9661 17.3549 12.7878 16.7879C12.7081 16.5425 12.6413 16.2971 12.5871 16.0455C12.2621 16.3354 11.9499 16.6159 11.6377 16.8993C11.4561 17.065 11.5424 17.2371 11.6981 17.3487L11.6981 17.3487Z"
                                                                fill="#368796" />
                                                        </svg>
                                                    </div>
                                                    <p *ngIf="item?.IsPregnancy==1" class="text-center">{{item?.PregnancyContent}}</p>
                    

                                                </div>
                                                <div class="col-2 d-none">
                                                    <label for="" class="form-label m-0 fw-bold">Reason For Admission</label>
                                                    <p class="text-truncate fs-8">{{item.ReasonForAdm}}</p>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-end gap-3 h-100 d-none">
                                                <div class="custom_check d-flex align-items-center gap-2"
                                                    [class.active]="item.IPAdmissionID != ''">
                                                    <svg width="16" height="16" viewBox="0 0 20 21" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                                        <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                                        <path
                                                            d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                                            fill="white" stroke="white" stroke-width="0.25"></path>
                                                    </svg>
                                                    <p class="m-0 fs-7" *ngIf="item.IPAdmissionID != ''">Admitted</p>
                                                    <p class="m-0 fs-7" *ngIf="item.IPAdmissionID == ''">Admit</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-1 rounded-bottom doctor_worklist_ChiefComplaints d-flex align-items-center gap-2 justify-content-between">
                                    <p><b class="fs-8">Diagnosis : </b>{{item.Diagnosis}}</p>
                                    <div class="d-flex align-items-center gap-2">
                                        <button class="btn btn-main-fill lh-1 fs-8" (click)="openPatientSummary1(item, $event);">EHR</button>
                                        <div class="inline_legend pe-2 d-flex gap-3">
                                            <!-- <span class="legend fs-8 text-nowrap"  style="background-color: #6877ca;">EHR</span> -->
                                            <span class="legend fs-8 text-nowrap" *ngIf="item.IPAdmissionID != '' && item.IPAdmissionBlocked == 0">Admitted</span>
                                            <span class="legend fs-8 text-nowrap" *ngIf="item.IPAdmissionID != '' && item.IPAdmissionBlocked == 1">Cancelled</span>
                                            <span class="legend fs-8 text-nowrap" *ngIf="item.IPAdmissionID == ''">New Request</span>                                      
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            
                </div>
            </div>
        </div>

        <div class="orderTable lab_panic_design d-none" *ngIf="FetchAdmissionRequestsDataList != undefined && FetchAdmissionRequestsDataList.length > 0">
            <table class="table m-0">
                <thead>
                    <tr>
                        <th>Sl. No</th>
                        <th>SSN</th>
                        <th>Patient Name</th>
                        <th>Age/Gender</th>
                        <th>Nationality</th>
                        <th>Patient Type</th>
                        <th>Doctor Name</th>
                        <th>Specialisation</th>
                        <th>Request Date</th>
                        <th>Insurance Name/ Grade</th>
                        <th>Reason For Admission</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="legend_color prescribed" *ngFor="let item of FetchAdmissionRequestsDataList; let i=index">
                        <td>{{i + 1}}</td>
                        <td><a class="nav_link cursor-pointer" (click)="navigateToPatientAdmissions(item)"> {{ item.SSN }}</a></td>                            
                        <td>{{item.PatientName}}</td>
                        <td>{{item.FullAge}} / {{item.Gender}}</td>
                        <td>{{item.Nationality}}</td>
                        <td>{{item.CompanyName == '' ? 'Self' : 'Insured'}}</td>
                        <td>{{item.DoctorName}}</td>
                        <td>{{item.Specialisation}}</td>
                        <td>{{item.AdmitDate}}</td>
                        <td>{{item.CompanyName}} / {{item.GradeName}}</td>
                        <td>{{item.ReasonForAdm}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>
<div class="substitute_Modal modal" data-bs-backdrop="static" tabindex="-1" id="divMultiplePatients" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 60%;">
       <div class="modal-content">
          <div class="modal-header">
             <h5 class="modal-title" id="exampleModalLabel">Patients Information</h5>
 
             <div class="d-flex align-items-center gap-2 ms-auto">
                <button class="btn btn-main-outline"
                   (click)="fetchSelectedPatientPrescription()">Select</button>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
             </div>
          </div>
          <div class="modal-body" style="height: calc(100vh - 18rem); overflow: auto;">
             <div>
                <p *ngIf="showPatientNotSelectedValidation" class="text-danger">Please select any Patient to continue</p>
             </div>
             <div class="" *ngFor="let pat of multiplePatients; let i = index">
                <div class="border rounded-2 mt-2 p-2">
                   <div class="row mx-0 g-2 w-100">
                      <div class="col-md-5">
                         <div class="d-flex align-items-center gap-2">
                            <div class="custom_check d-flex align-items-center" [class.active]="pat.selected"
                               (click)="selectPatient(pat)">
                               <svg width="18" height="18" viewBox="0 0 20 21" fill="none"
                                  xmlns="http://www.w3.org/2000/svg" class="check_svg">
                                  <circle cx="10" cy="10.5" r="10" fill="#43BC94"></circle>
                                  <path
                                     d="M9.85969 13.8389C10.1922 13.8374 10.5109 13.7054 10.747 13.4712L10.747 13.4713L10.7496 13.4685L18.7068 5.08439C18.825 4.96682 18.9188 4.8271 18.9829 4.67321C19.0473 4.51873 19.0804 4.35303 19.0804 4.18568C19.0804 4.01832 19.0473 3.85262 18.9829 3.69814C18.9186 3.5437 18.8243 3.40352 18.7055 3.28569C18.468 3.04958 18.1467 2.91704 17.8118 2.91704C17.4769 2.91704 17.1556 3.04958 16.918 3.28569L16.918 3.28564L16.9152 3.28862L9.85639 10.7804L8.06528 8.98932C7.95221 8.85834 7.81352 8.75187 7.65773 8.67649C7.50045 8.6004 7.32913 8.55764 7.15455 8.5509C6.97996 8.54416 6.80586 8.57357 6.64318 8.63731C6.4805 8.70104 6.33274 8.79771 6.2092 8.92126C6.08565 9.04481 5.98898 9.19256 5.92524 9.35524C5.86151 9.51792 5.83209 9.69202 5.83884 9.86661C5.84558 10.0412 5.88834 10.2125 5.96443 10.3698C6.03979 10.5255 6.14622 10.6642 6.27716 10.7773L8.95915 13.4707L8.9597 13.4712C9.07816 13.5887 9.21864 13.6817 9.3731 13.7447C9.52752 13.8078 9.69288 13.8398 9.85969 13.8389ZM9.85969 13.8389C9.85965 13.8389 9.85962 13.8389 9.85959 13.8389L9.85906 13.7139L9.85978 13.8389C9.85975 13.8389 9.85972 13.8389 9.85969 13.8389Z"
                                     fill="white" stroke="white" stroke-width="0.25"></path>
                               </svg>
                            </div>
                            <div>
                               <p class="clr-primary-600 text-nowrap">Name</p>
                               <p class="text-break">{{pat.PatientName}}</p>
                            </div>
                         </div>
                      </div>
                      <div class="d-flex align-items-start justify-content-between gap-1 col-6">
                         <div class="col-3">
                            <p class="clr-primary-600 text-nowrap">SSN</p>
                            <p class="text-break">{{pat.SSN}}</p>
                         </div>
                         <div class="col-4">
                            <p class="clr-primary-600 text-nowrap">Age | Gender</p>
                            <p class="text-break">{{pat.FullAge}} | {{pat.Gender}}</p>
                         </div>
                         <div class="col-3">
                            <p class="clr-primary-600 text-nowrap">MobileNo</p>
                            <p class="text-break">{{pat.MobileNo}}</p>
                         </div>
                         <div class="col-3">
                            <p class="clr-primary-600 text-nowrap">Nationality</p>
                            <p class="text-break">{{pat.Nationality}}</p>
                         </div>
 
                      </div>
                   </div>
                </div>
             </div>
          </div>
       </div>
    </div>
 </div>

 <div class="modal fade viewVitals pateintFolderPopup" id="pateintFolderPopup" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered my-2" style="max-width: 99%;">
        <div class="modal-content">
            <div class="modal-header justify-content-between">
                <div class="d-flex align-items-center gap-3">
                    <h5 class="modal-title" id=""></h5>
                </div>
                <div class="d-flex align-items-center gap-2">
                    <button type="button" class="btn-close" (click)="closePatientSummaryPopup()"  aria-label="Close"></button>
                </div>

            </div>
            <div class="modal-body p-0">
                <app-patientfolderml *ngIf="showPatientSummaryinPopUp"></app-patientfolderml>                
            </div>
        </div>
    </div>
</div>